var DM=Object.defineProperty,SM=Object.defineProperties;var TM=Object.getOwnPropertyDescriptors;var Cy=Object.getOwnPropertySymbols,MM=Object.getPrototypeOf,AM=Object.prototype.hasOwnProperty,xM=Object.prototype.propertyIsEnumerable,NM=Reflect.get;var wy=(t,e,n)=>e in t?DM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})AM.call(e,n)&&wy(t,n,e[n]);if(Cy)for(var n of Cy(e))xM.call(e,n)&&wy(t,n,e[n]);return t},W=(t,e)=>SM(t,TM(e));var si=(t,e,n)=>NM(MM(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Iy(t,e){return Object.is(t,e)}var He=null,Rc=!1,Oc=1,Ln=Symbol("SIGNAL");function Z(t){let e=He;return He=t,e}function Ey(){return He}var As={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Th(t){if(Rc)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let e=He.nextProducerIndex++;if(Lc(He),e<He.producerNode.length&&He.producerNode[e]!==t&&Ms(He)){let n=He.producerNode[e];Fc(n,He.producerIndexOfThis[e])}He.producerNode[e]!==t&&(He.producerNode[e]=t,He.producerIndexOfThis[e]=Ms(He)?Ty(t,He,e):0),He.producerLastReadVersion[e]=t.version}function RM(){Oc++}function by(t){if(!(Ms(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oc)){if(!t.producerMustRecompute(t)&&!Ah(t)){t.dirty=!1,t.lastCleanEpoch=Oc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oc}}function Dy(t){if(t.liveConsumerNode===void 0)return;let e=Rc;Rc=!0;try{for(let n of t.liveConsumerNode)n.dirty||OM(n)}finally{Rc=e}}function Sy(){return He?.consumerAllowSignalWrites!==!1}function OM(t){t.dirty=!0,Dy(t),t.consumerMarkedDirty?.(t)}function kc(t){return t&&(t.nextProducerIndex=0),Z(t)}function Mh(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ms(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ah(t){Lc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(by(n),r!==n.version))return!0}return!1}function xh(t){if(Lc(t),Ms(t))for(let e=0;e<t.producerNode.length;e++)Fc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ty(t,e,n){if(My(t),t.liveConsumerNode.length===0&&Ay(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ty(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Fc(t,e){if(My(t),t.liveConsumerNode.length===1&&Ay(t))for(let r=0;r<t.producerNode.length;r++)Fc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Lc(i),i.producerIndexOfThis[r]=e}}function Ms(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function My(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ay(t){return t.producerNode!==void 0}function xy(t){let e=Object.create(PM);e.computation=t;let n=()=>{if(by(e),Th(e),e.value===Pc)throw e.error;return e.value};return n[Ln]=e,n}var Dh=Symbol("UNSET"),Sh=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),PM=W(E({},As),{value:Dh,dirty:!0,error:null,equal:Iy,producerMustRecompute(t){return t.value===Dh||t.value===Sh},producerRecomputeValue(t){if(t.value===Sh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Sh;let n=kc(t),r;try{r=t.computation()}catch(i){r=Pc,t.error=i}finally{Mh(t,n)}if(e!==Dh&&e!==Pc&&r!==Pc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function kM(){throw new Error}var Ny=kM;function Ry(){Ny()}function Oy(t){Ny=t}var FM=null;function Py(t){let e=Object.create(Fy);e.value=t;let n=()=>(Th(e),e.value);return n[Ln]=e,n}function Nh(t,e){Sy()||Ry(),t.equal(t.value,e)||(t.value=e,LM(t))}function ky(t,e){Sy()||Ry(),Nh(t,e(t.value))}var Fy=W(E({},As),{equal:Iy,value:void 0});function LM(t){t.version++,RM(),Dy(t),FM?.()}function F(t){return typeof t=="function"}function Xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vc=Xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ai(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var De=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof Vc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ly(o)}catch(s){e=e??[],s instanceof Vc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ly(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ai(n,e)}remove(e){let{_finalizers:n}=this;n&&ai(n,e),e instanceof t&&e._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var Rh=De.EMPTY;function Uc(t){return t instanceof De||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function Ly(t){F(t)?t():t.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jc(t){eo.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(t);else throw t})}function xs(){}var Vy=Oh("C",void 0,void 0);function Uy(t){return Oh("E",void 0,t)}function jy(t){return Oh("N",t,void 0)}function Oh(t,e,n){return{kind:t,value:e,error:n}}var ci=null;function to(t){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!ci;if(e&&(ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else t()}function By(t){Kt.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=t)}var li=class extends De{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uc(e)&&e.add(this)):this.destination=jM}static create(e,n,r){return new pr(e,n,r)}next(e){this.isStopped?kh(jy(e),this):this._next(e)}error(e){this.isStopped?kh(Uy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kh(Vy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VM=Function.prototype.bind;function Ph(t,e){return VM.call(t,e)}var Fh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Bc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Bc(r)}else Bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bc(n)}}},pr=class extends li{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ph(e.next,o),error:e.error&&Ph(e.error,o),complete:e.complete&&Ph(e.complete,o)}):i=e}this.destination=new Fh(i)}};function Bc(t){Kt.useDeprecatedSynchronousErrorHandling?By(t):jc(t)}function UM(t){throw t}function kh(t,e){let{onStoppedNotification:n}=Kt;n&&eo.setTimeout(()=>n(t,e))}var jM={closed:!0,next:xs,error:UM,complete:xs};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(t){return t}function Lh(...t){return Vh(t)}function Vh(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var U=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=$M(n)?n:new pr(n,r,i);return to(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$y(r),new r((i,o)=>{let s=new pr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[no](){return this}pipe(...n){return Vh(n)(this)}toPromise(n){return n=$y(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function $y(t){var e;return(e=t??Kt.Promise)!==null&&e!==void 0?e:Promise}function BM(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function $M(t){return t&&t instanceof li||BM(t)&&Uc(t)}function Uh(t){return F(t?.lift)}function X(t){return e=>{if(Uh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,i){return new jh(t,e,n,r,i)}var jh=class extends li{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return X((t,e)=>{let n=null;t._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var io=class extends U{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new De;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=De.EMPTY)}return e}refCount(){return ro()(this)}};var Hy=Xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class t extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $c(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Hy}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rh:(this.currentObservers=null,o.push(n),new De(()=>{this.currentObservers=null,ai(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return t.create=(e,n)=>new $c(e,n),t})(),$c=class extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rh}};var he=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bh={now(){return(Bh.delegate||Date).now()},delegate:void 0};var Hc=class extends De{constructor(e,n){super()}schedule(e,n=0){return this}};var Ns={setInterval(t,e,...n){let{delegate:r}=Ns;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends Hc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ns.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ai(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};so.now=Bh.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var $h=new ao(oo);var zc=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wc=class extends ao{};var Hh=new Wc(zc);var Et=new U(t=>t.complete());function zy(t){return t&&F(t.schedule)}function Wy(t){return t[t.length-1]}function Gc(t){return F(Wy(t))?t.pop():void 0}function gr(t){return zy(Wy(t))?t.pop():void 0}function qc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Gy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ui(t){return this instanceof ui?(this.v=t,this):new ui(t)}function Ky(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(w){return new Promise(function(b,R){o.push([f,w,b,R])>1||c(f,w)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(w){h(o[0][3],w)}}function l(f){f.value instanceof ui?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Yy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gy=="function"?Gy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Kc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yc(t){return F(t?.then)}function Qc(t){return F(t[no])}function Zc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Jc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xc=HM();function el(t){return F(t?.[Xc])}function tl(t){return Ky(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ui(n.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{n.releaseLock()}})}function nl(t){return F(t?.getReader)}function Le(t){if(t instanceof U)return t;if(t!=null){if(Qc(t))return zM(t);if(Kc(t))return WM(t);if(Yc(t))return GM(t);if(Zc(t))return Qy(t);if(el(t))return qM(t);if(nl(t))return KM(t)}throw Jc(t)}function zM(t){return new U(e=>{let n=t[no]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WM(t){return new U(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function GM(t){return new U(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jc)})}function qM(t){return new U(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Qy(t){return new U(e=>{YM(t,e).catch(n=>e.error(n))})}function KM(t){return Qy(tl(t))}function YM(t,e){var n,r,i,o;return qy(this,void 0,void 0,function*(){try{for(n=Yy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function mr(t,e=0){return X((n,r)=>{n.subscribe(Q(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function vr(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zy(t,e){return Le(t).pipe(vr(e),mr(e))}function Jy(t,e){return Le(t).pipe(vr(e),mr(e))}function Xy(t,e){return new U(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eC(t,e){return new U(n=>{let r;return gt(n,e,()=>{r=t[Xc](),gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tC(t,e){return rl(tl(t),e)}function nC(t,e){if(t!=null){if(Qc(t))return Zy(t,e);if(Kc(t))return Xy(t,e);if(Yc(t))return Jy(t,e);if(Zc(t))return rl(t,e);if(el(t))return eC(t,e);if(nl(t))return tC(t,e)}throw Jc(t)}function be(t,e){return e?nC(t,e):Le(t)}function P(...t){let e=gr(t);return be(t,e)}function co(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new U(e?i=>e.schedule(r,0,i):r)}function zh(t){return!!t&&(t instanceof U||F(t.lift)&&F(t.subscribe))}var Yt=Xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Wh(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new pr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Yt)}});t.subscribe(o)})}function K(t,e){return X((n,r)=>{let i=0;n.subscribe(Q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:QM}=Array;function ZM(t,e){return QM(e)?t(...e):t(e)}function il(t){return K(e=>ZM(t,e))}var{isArray:JM}=Array,{getPrototypeOf:XM,prototype:eA,keys:tA}=Object;function ol(t){if(t.length===1){let e=t[0];if(JM(e))return{args:e,keys:null};if(nA(e)){let n=tA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nA(t){return t&&typeof t=="object"&&XM(t)===eA}function sl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Rs(...t){let e=gr(t),n=Gc(t),{args:r,keys:i}=ol(t);if(r.length===0)return be([],e);let o=new U(rA(r,e,i?s=>sl(i,s):It));return n?o.pipe(il(n)):o}function rA(t,e,n=It){return r=>{rC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)rC(e,()=>{let l=be(t[c],e),u=!1;l.subscribe(Q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rC(t,e,n){t?gt(n,t,e):e()}function iC(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=w=>l<r?g(w):c.push(w),g=w=>{o&&e.next(w),l++;let b=!1;Le(n(w,u++)).subscribe(Q(e,R=>{i?.(R),o?f(R):e.next(R)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let R=c.shift();s?gt(e,s,()=>g(R)):g(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(Q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ve(t,e,n=1/0){return F(e)?Ve((r,i)=>K((o,s)=>e(r,o,i,s))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),X((r,i)=>iC(r,i,t,n)))}function lo(t=1/0){return Ve(It,t)}function oC(){return lo(1)}function uo(...t){return oC()(be(t,gr(t)))}function al(t){return new U(e=>{Le(t()).subscribe(e)})}function Gh(...t){let e=Gc(t),{args:n,keys:r}=ol(t),i=new U(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Le(n[u]).subscribe(Q(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?sl(r,a):a),o.complete())}))}});return e?i.pipe(il(e)):i}function Nt(t,e){return X((n,r)=>{let i=0;n.subscribe(Q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _r(t){return X((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Q(n,void 0,void 0,s=>{o=Le(t(s,_r(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function sC(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Q(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function di(t,e){return F(e)?Ve(t,e,1):Ve(t,1)}function yr(t){return X((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Vn(t){return t<=0?()=>Et:X((e,n)=>{let r=0;e.subscribe(Q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qh(t){return K(()=>t)}function cl(t=iA){return X((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function iA(){return new Yt}function Os(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):It,Vn(1),n?yr(e):cl(()=>new Yt))}function ho(t){return t<=0?()=>Et:X((e,n)=>{let r=[];e.subscribe(Q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):It,ho(1),n?yr(e):cl(()=>new Yt))}function Yh(t,e){return X(sC(t,e,arguments.length>=2,!0))}function Qh(...t){let e=gr(t);return X((n,r)=>{(e?uo(t,n,e):uo(t,n)).subscribe(r)})}function Rt(t,e){return X((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Q(r,c=>{i?.unsubscribe();let l=0,u=o++;Le(t(c,u)).subscribe(i=Q(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zh(t){return X((e,n)=>{Le(t).subscribe(Q(n,()=>n.complete(),xs)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var WC="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(cp(e,n)),this.code=e}};function cp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hs(t){return{toString:t}.toString()}var ll="__parameters__";function oA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GC(t,e,n){return Hs(()=>{let r=oA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ll)?c[ll]:Object.defineProperty(c,ll,{value:[]})[ll];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pi=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function sA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function aC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var aA=ge({__forward_ref__:ge});function Si(t){return t.__forward_ref__=Si,t.toString=function(){return at(this())},t}function st(t){return qC(t)?t():t}function qC(t){return typeof t=="function"&&t.hasOwnProperty(aA)&&t.__forward_ref__===Si}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wl(t){return cC(t,YC)||cC(t,QC)}function KC(t){return Wl(t)!==null}function cC(t,e){return t.hasOwnProperty(e)?t[e]:null}function cA(t){let e=t&&(t[YC]||t[QC]);return e||null}function lC(t){return t&&(t.hasOwnProperty(uC)||t.hasOwnProperty(lA))?t[uC]:null}var YC=ge({\u0275prov:ge}),uC=ge({\u0275inj:ge}),QC=ge({ngInjectableDef:ge}),lA=ge({ngInjectorDef:ge}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ZC(t){return t&&!!t.\u0275providers}var uA=ge({\u0275cmp:ge}),dA=ge({\u0275dir:ge}),hA=ge({\u0275pipe:ge}),fA=ge({\u0275mod:ge}),Cl=ge({\u0275fac:ge}),ks=ge({__NG_ELEMENT_ID__:ge}),dC=ge({__NG_ENV_ID__:ge});function Gl(t){return typeof t=="string"?t:t==null?"":String(t)}function pA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gl(t)}function gA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,t)}function lp(t,e){throw new x(-201,!1)}var B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(B||{}),ff;function JC(){return ff}function mt(t){let e=ff;return ff=t,e}function XC(t,e,n){let r=Wl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(e!==void 0)return e;lp(t,"Injector")}var mA={},Fs=mA,pf="__NG_DI_FLAG__",wl="ngTempTokenPath",vA="ngTokenPath",_A=/\n/gm,yA="\u0275",hC="__source",mo;function CA(){return mo}function Cr(t){let e=mo;return mo=t,e}function wA(t,e=B.Default){if(mo===void 0)throw new x(-203,!1);return mo===null?XC(t,void 0,e):mo.get(t,e&B.Optional?null:void 0,e)}function N(t,e=B.Default){return(JC()||wA)(st(t),e)}function _(t,e=B.Default){return N(t,ql(e))}function ql(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gf(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=B.Default;for(let s=0;s<r.length;s++){let a=r[s],c=IA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function ew(t,e){return t[pf]=e,t.prototype[pf]=e,t}function IA(t){return t[pf]}function EA(t,e,n,r){let i=t[wl];throw e[hC]&&i.unshift(e[hC]),t.message=bA(`
`+t.message,i,n,r),t[vA]=i,t[wl]=null,t}function bA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yA?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):at(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_A,`
  `)}`}var Oe=ew(GC("Optional"),8);var up=ew(GC("SkipSelf"),4);function mi(t,e){let n=t.hasOwnProperty(Cl);return n?t[Cl]:null}function DA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function SA(t){return t.flat(Number.POSITIVE_INFINITY)}function dp(t,e){t.forEach(n=>Array.isArray(n)?dp(n,e):e(n))}function tw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Il(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function MA(t,e,n){let r=zs(t,e);return r>=0?t[r|1]=n:(r=~r,TA(t,r,e,n)),r}function Jh(t,e){let n=zs(t,e);if(n>=0)return t[n|1]}function zs(t,e){return AA(t,e,1)}function AA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var _o={},Ot=[],yo=new A(""),nw=new A("",-1),rw=new A(""),El=class{get(e,n=Fs){if(n===Fs){let r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}},iw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iw||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),Er=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Er||{});function xA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];NA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ow(t){return t===3||t===4||t===6}function NA(t){return t.charCodeAt(0)===64}function Ls(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fC(t,n,i,null,e[++r]):fC(t,n,i,null,null))}}return t}function fC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var sw="ng-template";function RA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hp(t){return t.type===4&&t.value!==sw}function OA(t,e,n){let r=t.type===4&&!n?sw:t.value;return e===r}function PA(t,e,n){let r=4,i=t.attrs,o=i!==null?LA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Qt(r)&&!Qt(c))return!1;if(s&&Qt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OA(t,c,n)||c===""&&e.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!RA(t,i,c,n)){if(Qt(r))return!1;s=!0}}else{let l=e[++a],u=kA(c,i,hp(t),n);if(u===-1){if(Qt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(t){return(t&1)===0}function kA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VA(e,t)}function FA(t,e,n=!1){for(let r=0;r<e.length;r++)if(PA(t,e[r],n))return!0;return!1}function LA(t){for(let e=0;e<t.length;e++){let n=t[e];if(ow(n))return e}return t.length}function VA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pC(t,e){return t?":not("+e.trim()+")":e}function UA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(e+=pC(o,i),i=""),r=s,o=o||!Qt(r);n++}return i!==""&&(e+=pC(o,i)),e}function jA(t){return t.map(UA).join(",")}function BA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Qt(i))break;i=o}r++}return{attrs:e,classes:n}}function te(t){return Hs(()=>{let e=dw(t),n=W(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""});hw(n);let r=t.dependencies;return n.directiveDefs=mC(r,!1),n.pipeDefs=mC(r,!0),n.id=zA(n),n})}function $A(t){return br(t)||aw(t)}function HA(t){return t!==null}function Ar(t){return Hs(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gC(t,e){if(t==null)return _o;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Er.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Er.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ye(t){return Hs(()=>{let e=dw(t);return hw(e),e})}function fp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function br(t){return t[uA]||null}function aw(t){return t[dA]||null}function cw(t){return t[hA]||null}function lw(t){let e=br(t)||aw(t)||cw(t);return e!==null?e.standalone:!1}function uw(t,e){let n=t[fA]||null;if(!n&&e===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function dw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_o,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gC(t.inputs,e),outputs:gC(t.outputs),debugInfo:null}}function hw(t){t.features?.forEach(e=>e(t))}function mC(t,e){if(!t)return null;let n=e?cw:$A;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(HA)}function zA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Jt(t){return{\u0275providers:t}}function WA(...t){return{\u0275providers:fw(!0,t),\u0275fromNgModule:!0}}function fw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return dp(e,s=>{let a=s;vf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pw(i,o),n}function pw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pp(i,o=>{e(o,r)})}}function vf(t,e,n,r){if(t=st(t),!t)return!1;let i=null,o=lC(t),s=!o&&br(t);if(!o&&!s){let c=t.ngModule;if(o=lC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)vf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{dp(o.imports,u=>{vf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&pw(l,e)}if(!a){let l=mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:rw,useValue:i,multi:!0},i),e({provide:yo,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;pp(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function pp(t,e){for(let n of t)ZC(n)&&(n=n.\u0275providers),Array.isArray(n)?pp(n,e):e(n)}var GA=ge({provide:String,useValue:ge});function gw(t){return t!==null&&typeof t=="object"&&GA in t}function qA(t){return!!(t&&t.useExisting)}function KA(t){return!!(t&&t.useFactory)}function Co(t){return typeof t=="function"}function YA(t){return!!t.useClass}var Kl=new A(""),pl={},QA={},Xh;function gp(){return Xh===void 0&&(Xh=new El),Xh}var bt=class{},Vs=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yf(e,s=>this.processProvider(s)),this.records.set(nw,fo(void 0,this)),i.has("environment")&&this.records.set(bt,fo(void 0,this));let o=this.records.get(Kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rw,Ot,B.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Cr(this),r=mt(void 0),i;try{return e()}finally{Cr(n),mt(r)}}get(e,n=Fs,r=B.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dC))return e[dC](this);r=ql(r);let i,o=Cr(this),s=mt(void 0);try{if(!(r&B.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=tx(e)&&Wl(e);l&&this.injectableDefInScope(l)?c=fo(_f(e),pl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&B.Self?gp():this.parent;return n=r&B.Optional&&n===Fs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(at(e)),o)throw a;return EA(a,e,"R3InjectorError",this.source)}else throw a}finally{mt(s),Cr(o)}}resolveInjectorInitializers(){let e=Z(null),n=Cr(this),r=mt(void 0),i;try{let o=this.get(yo,Ot,B.Self);for(let s of o)s()}finally{Cr(n),mt(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=st(e);let n=Co(e)?e:st(e&&e.provide),r=JA(e);if(!Co(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,pl,!0),i.factory=()=>gf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===pl&&(n.value=QA,n.value=n.factory()),typeof n.value=="object"&&n.value&&ex(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _f(t){let e=Wl(t),n=e!==null?e.factory:mi(t);if(n!==null)return n;if(t instanceof A)throw new x(204,!1);if(t instanceof Function)return ZA(t);throw new x(204,!1)}function ZA(t){if(t.length>0)throw new x(204,!1);let n=cA(t);return n!==null?()=>n.factory(t):()=>new t}function JA(t){if(gw(t))return fo(void 0,t.useValue);{let e=mw(t);return fo(e,pl)}}function mw(t,e,n){let r;if(Co(t)){let i=st(t);return mi(i)||_f(i)}else if(gw(t))r=()=>st(t.useValue);else if(KA(t))r=()=>t.useFactory(...gf(t.deps||[]));else if(qA(t))r=()=>N(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(XA(t))r=()=>new i(...gf(t.deps));else return mi(i)||_f(i)}return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function XA(t){return!!t.deps}function ex(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function tx(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function yf(t,e){for(let n of t)Array.isArray(n)?yf(n,e):n&&ZC(n)?yf(n.\u0275providers,e):e(n)}function Xt(t,e){t instanceof Vs&&t.assertNotDestroyed();let n,r=Cr(t),i=mt(void 0);try{return e()}finally{Cr(r),mt(i)}}function vw(){return JC()!==void 0||CA()!=null}function nx(t){if(!vw())throw new x(-203,!1)}function rx(t){return typeof t=="function"}var zn=0,L=1,k=2,nt=3,Zt=4,en=5,bl=6,Dl=7,kt=8,wo=9,_n=10,Ue=11,Us=12,vC=13,Ao=14,yn=15,vi=16,po=17,Un=18,Yl=19,_w=20,wr=21,ef=22,Pt=23,ct=25,yw=1;var _i=7,Sl=8,Io=9,_t=10,Tl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tl||{});function Ir(t){return Array.isArray(t)&&typeof t[yw]=="object"}function Wn(t){return Array.isArray(t)&&t[yw]===!0}function mp(t){return(t.flags&4)!==0}function Ql(t){return t.componentOffset>-1}function Zl(t){return(t.flags&1)===1}function Dr(t){return!!t.template}function Cf(t){return(t[k]&512)!==0}var wf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Cw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function wn(){return ww}function ww(t){return t.type.prototype.ngOnChanges&&(t.setInput=ox),ix}wn.ngInherit=!0;function ix(){let t=Ew(this),e=t?.current;if(e){let n=t.previous;if(n===_o)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ox(t,e,n,r,i){let o=this.declaredInputs[r],s=Ew(t)||sx(t,{previous:_o,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new wf(l&&l.currentValue,n,c===_o),Cw(t,e,i,n)}var Iw="__ngSimpleChanges__";function Ew(t){return t[Iw]||null}function sx(t,e){return t[Iw]=e}var _C=null;var gn=function(t,e,n){_C?.(t,e,n)},ax="svg",cx="math";function Cn(t){for(;Array.isArray(t);)t=t[zn];return t}function bw(t,e){return Cn(e[t])}function Ft(t,e){return Cn(e[t.index])}function vp(t,e){return t.data[e]}function _p(t,e){return t[e]}function xr(t,e){let n=e[t];return Ir(n)?n:n[zn]}function lx(t){return(t[k]&4)===4}function yp(t){return(t[k]&128)===128}function ux(t){return Wn(t[nt])}function Eo(t,e){return e==null?null:t[e]}function Dw(t){t[po]=0}function Sw(t){t[k]&1024||(t[k]|=1024,yp(t)&&Jl(t))}function dx(t,e){for(;t>0;)e=e[Ao],t--;return e}function js(t){return!!(t[k]&9216||t[Pt]?.dirty)}function If(t){t[_n].changeDetectionScheduler?.notify(7),t[k]&64&&(t[k]|=1024),js(t)&&Jl(t)}function Jl(t){t[_n].changeDetectionScheduler?.notify(0);let e=yi(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!yp(e)));)e=yi(e)}function Tw(t,e){if((t[k]&256)===256)throw new x(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function hx(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function yi(t){let e=t[nt];return Wn(e)?e[nt]:e}var $={lFrame:Fw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mw=!1;function fx(){return $.lFrame.elementDepthCount}function px(){$.lFrame.elementDepthCount++}function gx(){$.lFrame.elementDepthCount--}function Aw(){return $.bindingsEnabled}function mx(){return $.skipHydrationRootTNode!==null}function vx(t){return $.skipHydrationRootTNode===t}function _x(){$.skipHydrationRootTNode=null}function J(){return $.lFrame.lView}function Qe(){return $.lFrame.tView}function Se(t){return $.lFrame.contextLView=t,t[kt]}function Te(t){return $.lFrame.contextLView=null,t}function rt(){let t=xw();for(;t!==null&&t.type===64;)t=t.parent;return t}function xw(){return $.lFrame.currentTNode}function yx(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ti(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function Cp(){return $.lFrame.isParent}function Nw(){$.lFrame.isParent=!1}function Cx(){return $.lFrame.contextLView}function Rw(){return Mw}function yC(t){Mw=t}function Xl(){let t=$.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wx(t){return $.lFrame.bindingIndex=t}function Ws(){return $.lFrame.bindingIndex++}function Ix(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ex(){return $.lFrame.inI18n}function bx(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ef(e)}function Dx(){return $.lFrame.currentDirectiveIndex}function Ef(t){$.lFrame.currentDirectiveIndex=t}function Sx(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ow(){return $.lFrame.currentQueryIndex}function wp(t){$.lFrame.currentQueryIndex=t}function Tx(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[en]:null}function Pw(t,e,n){if(n&B.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&B.Host);)if(i=Tx(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=$.lFrame=kw();return r.currentTNode=e,r.lView=t,!0}function Ip(t){let e=kw(),n=t[L];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kw(){let t=$.lFrame,e=t===null?null:t.child;return e===null?Fw(t):e}function Fw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Lw(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Vw=Lw;function Ep(){let t=Lw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mx(t){return($.lFrame.contextLView=dx(t,$.lFrame.contextLView))[kt]}function xo(){return $.lFrame.selectedIndex}function Ci(t){$.lFrame.selectedIndex=t}function bp(){let t=$.lFrame;return vp(t.tView,t.selectedIndex)}function Ax(){return $.lFrame.currentNamespace}var Uw=!0;function eu(){return Uw}function tu(t){Uw=t}function xx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ww(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function nu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function gl(t,e,n){jw(t,e,3,n)}function ml(t,e,n,r){(t[k]&3)===n&&jw(t,e,n,r)}function tf(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function jw(t,e,n,r){let i=r!==void 0?t[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[po]+=65536),(a<o||o==-1)&&(Nx(t,n,e,c),t[po]=(t[po]&4294901760)+c+2),c++}function CC(t,e){gn(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),gn(5,t,e)}}function Nx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[po]>>16&&(t[k]&3)===e&&(t[k]+=16384,CC(a,o)):CC(a,o)}var vo=-1,wi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Rx(t){return t instanceof wi}function Ox(t){return(t.flags&8)!==0}function Px(t){return(t.flags&16)!==0}var nf={},bf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ql(r);let i=this.injector.get(e,nf,r);return i!==nf||n===nf?i:this.parentInjector.get(e,n,r)}};function Bw(t){return t!==vo}function Ml(t){return t&32767}function kx(t){return t>>16}function Al(t,e){let n=kx(t),r=e;for(;n>0;)r=r[Ao],n--;return r}var Df=!0;function xl(t){let e=Df;return Df=t,e}var Fx=256,$w=Fx-1,Hw=5,Lx=0,mn={};function Vx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ks)&&(r=n[ks]),r==null&&(r=n[ks]=Lx++);let i=r&$w,o=1<<i;e.data[t+(i>>Hw)]|=o}function Nl(t,e){let n=zw(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,rf(r.data,t),rf(e,null),rf(r.blueprint,null));let i=Dp(t,e),o=t.injectorIndex;if(Bw(i)){let s=Ml(i),a=Al(i,e),c=a[L].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function rf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Yw(i),r===null)return vo;if(n++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vo}function Sf(t,e,n){Vx(t,e,n)}function Ux(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(ow(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Ww(t,e,n){if(n&B.Optional||t!==void 0)return t;lp(e,"NodeInjector")}function Gw(t,e,n,r){if(n&B.Optional&&r===void 0&&(r=null),!(n&(B.Self|B.Host))){let i=t[wo],o=mt(void 0);try{return i?i.get(e,r,n&B.Optional):XC(e,r,n&B.Optional)}finally{mt(o)}}return Ww(r,e,n)}function qw(t,e,n,r=B.Default,i){if(t!==null){if(e[k]&2048&&!(r&B.Self)){let s=Hx(t,e,n,r,mn);if(s!==mn)return s}let o=Kw(t,e,n,r,mn);if(o!==mn)return o}return Gw(e,n,r,i)}function Kw(t,e,n,r,i){let o=Bx(n);if(typeof o=="function"){if(!Pw(e,t,r))return r&B.Host?Ww(i,n,r):Gw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&B.Optional))lp(n);else return s}finally{Vw()}}else if(typeof o=="number"){let s=null,a=zw(t,e),c=vo,l=r&B.Host?e[yn][en]:null;for((a===-1||r&B.SkipSelf)&&(c=a===-1?Dp(t,e):e[a+8],c===vo||!IC(r,!1)?a=-1:(s=e[L],a=Ml(c),e=Al(c,e)));a!==-1;){let u=e[L];if(wC(o,a,u.data)){let d=jx(a,e,n,s,r,l);if(d!==mn)return d}c=e[a+8],c!==vo&&IC(r,e[L].data[a+8]===l)&&wC(o,a,e)?(s=u,a=Ml(c),e=Al(c,e)):a=-1}}return i}function jx(t,e,n,r,i,o){let s=e[L],a=s.data[t+8],c=r==null?Ql(a)&&Df:r!=s&&(a.type&3)!==0,l=i&B.Host&&o===a,u=vl(a,s,n,c,l);return u!==null?Ii(e,s,u,a):mn}function vl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&Dr(f)&&f.type===n)return c}return null}function Ii(t,e,n,r){let i=t[n],o=e.data;if(Rx(i)){let s=i;s.resolving&&gA(pA(o[n]));let a=xl(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?mt(s.injectImpl):null,u=Pw(t,r,B.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&xx(n,o[n],e)}finally{l!==null&&mt(l),xl(a),s.resolving=!1,Vw()}}return i}function Bx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ks)?t[ks]:void 0;return typeof e=="number"?e>=0?e&$w:$x:e}function wC(t,e,n){let r=1<<t;return!!(n[e+(t>>Hw)]&r)}function IC(t,e){return!(t&B.Self)&&!(t&B.Host&&e)}var gi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qw(this._tNode,this._lView,e,ql(r),n)}};function $x(){return new gi(rt(),J())}function No(t){return Hs(()=>{let e=t.prototype.constructor,n=e[Cl]||Tf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cl]||Tf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tf(t){return qC(t)?()=>{let e=Tf(st(t));return e&&e()}:mi(t)}function Hx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=Kw(o,s,n,r|B.Self,mn);if(a!==mn)return a;let c=o.parent;if(!c){let l=s[_w];if(l){let u=l.get(n,mn,r);if(u!==mn)return u}c=Yw(s),s=s[Ao]}o=c}return i}function Yw(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}function Sp(t){return Ux(rt(),t)}function EC(t,e=null,n=null,r){let i=Qw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Qw(t,e=null,n=null,r,i=new Set){let o=[n||Ot,WA(t)];return r=r||(typeof t=="object"?void 0:at(t)),new Vs(o,e||gp(),r||null,i)}var fi=class fi{static create(e,n){if(Array.isArray(e))return EC({name:""},n,e,"");{let r=e.name??"";return EC({name:r},e.parent,e.providers,r)}}};fi.THROW_IF_NOT_FOUND=Fs,fi.NULL=new El,fi.\u0275prov=T({token:fi,providedIn:"any",factory:()=>N(nw)}),fi.__NG_ELEMENT_ID__=-1;var We=fi;var zx=new A("");zx.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(t&B.Optional)return null;throw new x(204,!1)};var Wx="ngOriginalError";function of(t){return t[Wx]}var Zw=!0,Tp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mf=class extends Tp{constructor(e){super(),this._lView=e}onDestroy(e){return Tw(this._lView,e),()=>hx(this._lView,e)}};function Gx(){return new Mf(J())}var Ro=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Af=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,vw()&&(this.destroyRef=_(Tp,{optional:!0})??void 0,this.pendingTasks=_(Ro,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof De&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ye=Af;function Rl(...t){}function Jw(t){let e,n;function r(){t=Rl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function bC(t){return queueMicrotask(()=>t()),()=>{t=Rl}}var Mp="isAngularZone",Ol=Mp+"_ID",qx=0,ie=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Zw}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Qx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Kx,Rl,Rl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Kx={};function Ap(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Jw(()=>{t.callbackScheduled=!1,xf(t),t.isCheckStableRunning=!0,Ap(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xf(t)}function Qx(t){let e=()=>{Yx(t)},n=qx++;t._inner=t._inner.fork({name:"angular",properties:{[Mp]:!0,[Ol]:n,[Ol+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Zx(c))return r.invokeTask(o,s,a,c);try{return DC(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),SC(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return DC(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Jx(c)&&e(),SC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,xf(t),Ap(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function xf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function DC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SC(t){t._nesting--,Ap(t)}var Nf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Zx(t){return Xw(t,"__ignore_ng_zone__")}function Jx(t){return Xw(t,"__scheduler_tick__")}function Xw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&of(e);for(;n&&of(n);)n=of(n);return n||null}},Xx=new A("",{providedIn:"root",factory:()=>{let t=_(ie),e=_(jn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function eN(){return Oo(rt(),J())}function Oo(t,e){return new Lt(Ft(t,e))}var Lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=eN;let t=e;return t})();function tN(t){return t instanceof Lt?t.nativeElement:t}function nN(){return this._results[Symbol.iterator]()}var Rf=class t{get changes(){return this._changes??=new ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=SA(e);(this._changesDetected=!DA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function eI(t){return(t.flags&128)===128}var tI=new Map,rN=0;function iN(){return rN++}function oN(t){tI.set(t[Yl],t)}function sN(t){tI.delete(t[Yl])}var TC="__ngContext__";function Sr(t,e){Ir(e)?(t[TC]=e[Yl],oN(e)):t[TC]=e}function nI(t){return iI(t[Us])}function rI(t){return iI(t[Zt])}function iI(t){for(;t!==null&&!Wn(t);)t=t[Zt];return t}var Of;function oI(t){Of=t}function aN(){if(Of!==void 0)return Of;if(typeof document<"u")return document;throw new x(210,!1)}var xp=new A("",{providedIn:"root",factory:()=>cN}),cN="ng",Np=new A(""),In=new A("",{providedIn:"platform",factory:()=>"unknown"});var Rp=new A("",{providedIn:"root",factory:()=>aN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lN="h",uN="b";var dN=()=>null;function Op(t,e,n=!1){return dN(t,e,n)}var sI=!1,hN=new A("",{providedIn:"root",factory:()=>sI});var ul;function fN(){if(ul===void 0&&(ul=null,pi.trustedTypes))try{ul=pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ul}function MC(t){return fN()?.createScriptURL(t)||t}var Pl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WC})`}};function Gs(t){return t instanceof Pl?t.changingThisBreaksApplicationSecurity:t}function Pp(t,e){let n=pN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${WC})`)}return n===e}function pN(t){return t instanceof Pl&&t.getTypeName()||null}var gN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aI(t){return t=String(t),t.match(gN)?t:"unsafe:"+t}var ru=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ru||{});function Ze(t){let e=lI();return e?e.sanitize(ru.URL,t)||"":Pp(t,"URL")?Gs(t):aI(Gl(t))}function mN(t){let e=lI();if(e)return MC(e.sanitize(ru.RESOURCE_URL,t)||"");if(Pp(t,"ResourceURL"))return MC(Gs(t));throw new x(904,!1)}function vN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?mN:Ze}function cI(t,e,n){return vN(e,n)(t)}function lI(){let t=J();return t&&t[_n].sanitizer}var _N=/^>|^->|<!--|-->|--!>|<!-$/g,yN=/(<|>)/g,CN="\u200B$1\u200B";function wN(t){return t.replace(_N,e=>e.replace(yN,CN))}function uI(t){return t instanceof Function?t():t}function IN(t){return(t??_(We)).get(In)==="browser"}var Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{}),EN;function kp(t,e){return EN(t,e)}function go(t,e,n,r,i){if(r!=null){let o,s=!1;Wn(r)?o=r:Ir(r)&&(s=!0,r=r[zn]);let a=Cn(r);t===0&&n!==null?i==null?pI(e,n,a):Fl(e,n,a,i||null,!0):t===1&&n!==null?Fl(e,n,a,i||null,!0):t===2?UN(e,a,s):t===3&&e.destroyNode(a),o!=null&&BN(e,t,o,n,i)}}function bN(t,e){return t.createText(e)}function DN(t,e,n){t.setValue(e,n)}function SN(t,e){return t.createComment(wN(e))}function dI(t,e,n){return t.createElement(e,n)}function TN(t,e){hI(t,e),e[zn]=null,e[en]=null}function MN(t,e,n,r,i,o){r[zn]=i,r[en]=e,ou(t,r,n,1,i,o)}function hI(t,e){e[_n].changeDetectionScheduler?.notify(8),ou(t,e,e[Ue],2,null,null)}function AN(t){let e=t[Us];if(!e)return sf(t[L],t);for(;e;){let n=null;if(Ir(e))n=e[Us];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)Ir(e)&&sf(e[L],e),e=e[nt];e===null&&(e=t),Ir(e)&&sf(e[L],e),n=e&&e[Zt]}e=n}}function xN(t,e,n,r){let i=_t+r,o=n.length;r>0&&(n[i-1][Zt]=e),r<o-_t?(e[Zt]=n[i],tw(n,_t+r,e)):(n.push(e),e[Zt]=null),e[nt]=n;let s=e[vi];s!==null&&n!==s&&fI(s,e);let a=e[Un];a!==null&&a.insertView(t),If(e),e[k]|=128}function fI(t,e){let n=t[Io],r=e[nt];if(Ir(r))t[k]|=Tl.HasTransplantedViews;else{let i=r[nt][yn];e[yn]!==i&&(t[k]|=Tl.HasTransplantedViews)}n===null?t[Io]=[e]:n.push(e)}function Fp(t,e){let n=t[Io],r=n.indexOf(e);n.splice(r,1)}function kl(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[vi];i!==null&&i!==t&&Fp(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let o=Il(t,_t+e);TN(r[L],r);let s=o[Un];s!==null&&s.detachView(o[L]),r[nt]=null,r[Zt]=null,r[k]&=-129}return r}function Lp(t,e){if(!(e[k]&256)){let n=e[Ue];n.destroyNode&&ou(t,e,n,3,null,null),AN(e)}}function sf(t,e){if(e[k]&256)return;let n=Z(null);try{e[k]&=-129,e[k]|=256,e[Pt]&&xh(e[Pt]),RN(t,e),NN(t,e),e[L].type===1&&e[Ue].destroy();let r=e[vi];if(r!==null&&Wn(e[nt])){r!==e[nt]&&Fp(r,e);let i=e[Un];i!==null&&i.detachView(t)}sN(e)}finally{Z(n)}}function NN(t,e){let n=t.cleanup,r=e[Dl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Dl]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function RN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof wi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];gn(4,a,c);try{c.call(a)}finally{gn(5,a,c)}}else{gn(4,i,o);try{o.call(i)}finally{gn(5,i,o)}}}}}function ON(t,e,n){return PN(t,e.parent,n)}function PN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return Ft(r,n)}}function Fl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function pI(t,e,n){t.appendChild(e,n)}function AC(t,e,n,r,i){r!==null?Fl(t,e,n,r,i):pI(t,e,n)}function gI(t,e){return t.parentNode(e)}function kN(t,e){return t.nextSibling(e)}function FN(t,e,n){return VN(t,e,n)}function LN(t,e,n){return t.type&40?Ft(t,n):null}var VN=LN,xC;function iu(t,e,n,r){let i=ON(t,r,e),o=e[Ue],s=r.parent||e[en],a=FN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)AC(o,i,n[c],a,!1);else AC(o,i,n,a,!1);xC!==void 0&&xC(o,r,e,n,i)}function Ps(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return Pf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ps(t,r);{let i=t[e.index];return Wn(i)?Pf(-1,i):Cn(i)}}else{if(n&128)return Ps(t,e.next);if(n&32)return kp(e,t)()||Cn(t[e.index]);{let r=mI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yi(t[yn]);return Ps(i,r)}else return Ps(t,e.next)}}}return null}function mI(t,e){if(e!==null){let r=t[yn][en],i=e.projection;return r.projection[i]}return null}function Pf(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return Ps(r,i)}return e[_i]}function UN(t,e,n){t.removeChild(null,e,n)}function Vp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Sr(Cn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Vp(t,e,n.child,r,i,o,!1),go(e,t,i,a,o);else if(c&32){let l=kp(n,r),u;for(;u=l();)go(e,t,i,u,o);go(e,t,i,a,o)}else c&16?jN(t,e,r,n,i,o):go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ou(t,e,n,r,i,o){Vp(n,r,t.firstChild,e,i,o,!1)}function jN(t,e,n,r,i,o){let s=n[yn],c=s[en].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];go(e,t,i,u,o)}else{let l=c,u=s[nt];eI(r)&&(l.flags|=128),Vp(t,e,l,u,i,o,!0)}}function BN(t,e,n,r,i){let o=n[_i],s=Cn(n);o!==s&&go(e,t,r,o,i);for(let a=_t;a<n.length;a++){let c=n[a];ou(c[L],c,t,e,r,o)}}function $N(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(n,r,i,o))}}function HN(t,e,n){t.setAttribute(e,"style",n)}function vI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _I(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mf(t,e,r),i!==null&&vI(t,e,i),o!==null&&HN(t,e,o)}var Nr={};function I(t=1){yI(Qe(),J(),xo()+t,!1)}function yI(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&gl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ml(e,o,0,n)}Ci(n)}function S(t,e=B.Default){let n=J();if(n===null)return N(t,e);let r=rt();return qw(r,n,st(t),e)}function CI(){let t="invalid";throw new Error(t)}function wI(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&Er.SignalBased&&(a=e[r][Ln]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Er.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Cw(e,a,r,o)}finally{Z(s)}}function zN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ci(~i);else{let o=i,s=n[++r],a=n[++r];bx(s,o);let c=e[o];a(2,c)}}}finally{Ci(-1)}}function su(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[zn]=i,d[k]=r|4|128|8|64,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),Dw(d),d[nt]=d[Ao]=t,d[kt]=n,d[_n]=s||t&&t[_n],d[Ue]=a||t&&t[Ue],d[wo]=c||t&&t[wo]||null,d[en]=o,d[Yl]=iN(),d[bl]=u,d[_w]=l,d[yn]=e.type==2?t[yn]:d,d}function qs(t,e,n,r,i){let o=t.data[e];if(o===null)o=WN(t,e,n,r,i),Ex()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=yx();o.injectorIndex=s===null?-1:s.injectorIndex}return Ti(o,!0),o}function WN(t,e,n,r,i){let o=xw(),s=Cp(),a=s?o:o&&o.parent,c=t.data[e]=ZN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function II(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function EI(t,e,n,r,i){let o=xo(),s=r&2;try{Ci(-1),s&&e.length>ct&&yI(t,e,ct,!1),gn(s?2:0,i),n(r,i)}finally{Ci(o),gn(s?3:1,i)}}function Up(t,e,n){if(mp(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}function jp(t,e,n){Aw()&&(rR(t,e,n,Ft(n,e)),(n.flags&64)===64&&TI(t,e,n))}function Bp(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function bI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$p(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $p(t,e,n,r,i,o,s,a,c,l,u){let d=ct+r,h=d+i,f=GN(d,h),g=typeof l=="function"?l():l;return f[L]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function GN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nr);return n}function qN(t,e,n,r){let o=r.get(hN,sI)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return KN(s),s}function KN(t){YN(t)}var YN=()=>null;function QN(t,e,n,r){let i=xI(e);i.push(n),t.firstCreatePass&&NI(t).push(r,i.length-1)}function ZN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function NC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Er.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?RC(r,n,l,a,c):RC(r,n,l,a)}return r}function RC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function JN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=NC(0,d.inputs,u,c,f),l=NC(1,d.outputs,u,l,g);let w=c!==null&&s!==null&&!hp(e)?pR(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function XN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function DI(t,e,n,r,i,o,s,a){let c=Ft(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(zp(t,n,u,r,i),Ql(e)&&eR(n,e.index)):e.type&3?(r=XN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function eR(t,e){let n=xr(e,t);n[k]&16||(n[k]|=64)}function Hp(t,e,n,r){if(Aw()){let i=r===null?null:{"":-1},o=oR(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&SI(t,e,n,s,i,a),i&&sR(n,r,i)}n.mergedAttrs=Ls(n.mergedAttrs,n.attrs)}function SI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Sf(Nl(n,e),t,r[l].type);cR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=II(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ls(n.mergedAttrs,u.hostAttrs),lR(t,n,e,c,u),aR(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}JN(t,n,o)}function tR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;nR(s)!=a&&s.push(a),s.push(n,r,o)}}function nR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ql(n)&&uR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nl(n,e),Sr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ii(e,t,a,n);if(Sr(l,e),s!==null&&fR(e,a-i,l,c,n,s),Dr(c)){let u=xr(n.index,e);u[kt]=Ii(e,t,a,n)}}}function TI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Dx();try{Ci(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ef(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&iR(c,l)}}finally{Ci(-1),Ef(s)}}function iR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function oR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(FA(e,s.selectors,!1))if(r||(r=[]),Dr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;kf(t,e,c)}else r.unshift(s),kf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function aR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Dr(e)&&(n[""]=t)}}function cR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=mi(i.type,!0)),s=new wi(o,Dr(i),S);t.blueprint[r]=s,n[r]=s,tR(t,e,r,II(t,n,i.hostVars,Nr),i)}function uR(t,e,n){let r=Ft(e,t),i=bI(n),o=t[_n].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=au(t,su(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function dR(t,e,n,r,i,o){let s=Ft(t,e);hR(e[Ue],s,o,t.value,n,r,i)}function hR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Gl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function fR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];wI(r,n,c,l,u,d)}}function pR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function MI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function AI(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];wp(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function au(t,e){return t[Us]?t[vC][Zt]=e:t[Us]=e,t[vC]=e,e}function Ff(t,e,n){wp(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function xI(t){return t[Dl]??=[]}function NI(t){return t.cleanup??=[]}function RI(t,e){let n=t[wo],r=n?n.get(jn,null):null;r&&r.handleError(e)}function zp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];wI(u,l,r,a,c,i)}}function gR(t,e,n){let r=bw(e,t);DN(t[Ue],r,n)}function mR(t,e){let n=xr(e,t),r=n[L];vR(r,n);let i=n[zn];i!==null&&n[bl]===null&&(n[bl]=Op(i,n[wo])),Wp(r,n,n[kt])}function vR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wp(t,e,n){Ip(e);try{let r=t.viewQuery;r!==null&&Ff(1,r,n);let i=t.template;i!==null&&EI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&AI(t,e),t.staticViewQueries&&Ff(2,t.viewQuery,n);let o=t.components;o!==null&&_R(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,Ep()}}function _R(t,e){for(let n=0;n<e.length;n++)mR(t,e[n])}function OI(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=su(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[vi]=l;let u=t[Un];return u!==null&&(c[Un]=u.createEmbeddedView(o)),Wp(o,c,n),c}finally{Z(i)}}function yR(t,e){let n=_t+e;if(n<t.length)return t[n]}function Lf(t,e){return!e||e.firstChild===null||eI(t)}function PI(t,e,n,r=!0){let i=e[L];if(xN(i,e,t,n),r){let s=Pf(n,t),a=e[Ue],c=gI(a,t[_i]);c!==null&&MN(i,t[en],a,e,c,s)}let o=e[bl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function CR(t,e){let n=kl(t,e);return n!==void 0&&Lp(n[L],n),n}function Ll(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Cn(o)),Wn(o)&&wR(o,r);let s=n.type;if(s&8)Ll(t,e,n.child,r);else if(s&32){let a=kp(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=mI(e,n);if(Array.isArray(a))r.push(...a);else{let c=yi(e[yn]);Ll(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wR(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Ll(r[L],r,i,e)}t[_i]!==t[zn]&&e.push(t[_i])}var kI=[];function IR(t){return t[Pt]??ER(t)}function ER(t){let e=kI.pop()??Object.create(DR);return e.lView=t,e}function bR(t){t.lView[Pt]!==t&&(t.lView=null,kI.push(t))}var DR=W(E({},As),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jl(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function SR(t){let e=t[Pt]??Object.create(TR);return e.lView=t,e}var TR=W(E({},As),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=yi(t.lView);for(;e&&!FI(e[L]);)e=yi(e);e&&Sw(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function FI(t){return t.type!==2}var MR=100;function LI(t,e=!0,n=0){let r=t[_n],i=r.rendererFactory,o=!1;o||i.begin?.();try{AR(t,n)}catch(s){throw e&&RI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function AR(t,e){let n=Rw();try{yC(!0),Vf(t,e);let r=0;for(;js(t);){if(r===MR)throw new x(103,!1);r++,Vf(t,1)}}finally{yC(n)}}function xR(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[_n].inlineEffectRunner?.flush(),Ip(e);let a=!0,c=null,l=null;o||(FI(t)?(l=IR(e),c=kc(l)):Ey()===null?(a=!1,l=SR(e),c=kc(l)):e[Pt]&&(xh(e[Pt]),e[Pt]=null));try{Dw(e),wx(t.bindingStartIndex),n!==null&&EI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&gl(e,f,null)}else{let f=t.preOrderHooks;f!==null&&ml(e,f,0,null),tf(e,0)}if(s||NR(e),VI(e,0),t.contentQueries!==null&&AI(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&gl(e,f)}else{let f=t.contentHooks;f!==null&&ml(e,f,1),tf(e,1)}zN(t,e);let d=t.components;d!==null&&jI(e,d,0);let h=t.viewQuery;if(h!==null&&Ff(2,h,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&gl(e,f)}else{let f=t.viewHooks;f!==null&&ml(e,f,2),tf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ef]){for(let f of e[ef])f();e[ef]=null}o||(e[k]&=-73)}catch(u){throw o||Jl(e),u}finally{l!==null&&(Mh(l,c),a&&bR(l)),Ep()}}function VI(t,e){for(let n=nI(t);n!==null;n=rI(n))for(let r=_t;r<n.length;r++){let i=n[r];UI(i,e)}}function NR(t){for(let e=nI(t);e!==null;e=rI(e)){if(!(e[k]&Tl.HasTransplantedViews))continue;let n=e[Io];for(let r=0;r<n.length;r++){let i=n[r];Sw(i)}}}function RR(t,e,n){let r=xr(e,t);UI(r,n)}function UI(t,e){yp(t)&&Vf(t,e)}function Vf(t,e){let r=t[L],i=t[k],o=t[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ah(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)xR(r,t,r.template,t[kt]);else if(i&8192){VI(t,1);let a=r.components;a!==null&&jI(t,a,1)}}function jI(t,e,n){for(let r=0;r<e.length;r++)RR(t,e[r],n)}function Gp(t,e){let n=Rw()?64:1088;for(t[_n].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=yi(t);if(Cf(t)&&!r)return t;t=r}return null}var Ei=class{get rootNodes(){let e=this._lView,n=e[L];return Ll(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Wn(e)){let n=e[Sl],r=n?n.indexOf(this):-1;r>-1&&(kl(e,r),Il(n,r))}this._attachedToViewContainer=!1}Lp(this._lView[L],this._lView)}onDestroy(e){Tw(this._lView,e)}markForCheck(){Gp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){If(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,LI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cf(this._lView),n=this._lView[vi];n!==null&&!e&&Fp(n,this._lView),hI(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let n=Cf(this._lView),r=this._lView[vi];r!==null&&!n&&fI(r,this._lView),If(this._lView)}},bi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kR;let t=e;return t})(),OR=bi,PR=class extends OR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ei(i)}};function kR(){return cu(rt(),J())}function cu(t,e){return t.type&4?new PR(e,t,Oo(t,e)):null}var u6=new RegExp(`^(\\d+)*(${uN}|${lN})*(.*)`);var FR=()=>null;function Uf(t,e){return FR(t,e)}var bo=class{},BI=new A("",{providedIn:"root",factory:()=>!1});var $I=new A(""),HI=new A(""),jf=class{},Vl=class{};function LR(t){let e=Error(`No component factory found for ${at(t)}.`);return e[VR]=t,e}var VR="ngComponent";var Bf=class{resolveComponentFactory(e){throw LR(e)}},tg=class tg{};tg.NULL=new Bf;var Do=tg,So=class{},Rr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>UR();let t=e;return t})();function UR(){let t=J(),e=rt(),n=xr(e.index,t);return(Ir(n)?n:t)[Ue]}var jR=(()=>{let e=class e{};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var OC=new Set;function Po(t){OC.has(t)||(OC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var vt=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(vt||{}),BR={destroy(){}};function qp(t,e){!e&&nx(qp);let n=e?.injector??_(We);return IN(n)?(Po("NgAfterNextRender"),HR(t,n,!0,e?.phase??vt.MixedReadWrite)):BR}function $R(t,e){if(t instanceof Function)switch(e){case vt.EarlyRead:return{earlyRead:t};case vt.Write:return{write:t};case vt.MixedReadWrite:return{mixedReadWrite:t};case vt.Read:return{read:t}}return t}function HR(t,e,n,r){let i=$R(t,r),o=e.get(Kp),s=o.handler??=new Hf,a=[],c=[],l=()=>{for(let f of c)s.unregister(f);u()},u=e.get(Tp).onDestroy(l),d=0,h=(f,g)=>{if(!g)return;let w=n?(...R)=>(d--,d<1&&l(),g(...R)):g,b=Xt(e,()=>new $f(f,a,w));s.register(b),c.push(b),d++};return h(vt.EarlyRead,i.earlyRead),h(vt.Write,i.write),h(vt.MixedReadWrite,i.mixedReadWrite),h(vt.Read,i.read),{destroy:l}}var $f=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=_(ie),this.errorHandler=_(jn,{optional:!0}),_(bo,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},Hf=class{constructor(){this.executingCallbacks=!1,this.buckets={[vt.EarlyRead]:new Set,[vt.Write]:new Set,[vt.MixedReadWrite]:new Set,[vt.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Kp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ul(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=aC(i,a);else if(o==2){let c=a,l=e[++s];r=aC(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var jl=class extends Do{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=br(e);return new To(n,this.ngModule)}};function PC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Er.None;e?n.push({propName:s,templateName:r,isSignal:(a&Er.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function zR(t){let e=t.toLowerCase();return e==="svg"?ax:e==="math"?cx:null}var To=class extends Vl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=PC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return PC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bf(e,s):e,c=a.get(So,null);if(c===null)throw new x(407,!1);let l=a.get(jR,null),u=a.get(Kp,null),d=a.get(bo,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",w=r?qN(f,r,this.componentDef.encapsulation,a):dI(f,g,zR(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let R=null;w!==null&&(R=Op(w,a,!0));let pe=$p(0,null,null,1,0,null,null,null,null,null,null),z=su(null,pe,null,b,null,null,h,f,a,null,R);Ip(z);let le,pt;try{let $e=this.componentDef,qt,Fn=null;$e.findHostDirectiveDefs?(qt=[],Fn=new Map,$e.findHostDirectiveDefs($e,qt,Fn),qt.push($e)):qt=[$e];let Ts=WR(z,w),bh=GR(Ts,w,$e,qt,z,h,f);pt=vp(pe,ct),w&&YR(f,$e,w,r),n!==void 0&&QR(pt,this.ngContentSelectors,n),le=KR(bh,$e,qt,Fn,z,[ZR]),Wp(pe,z,null)}finally{Ep()}return new zf(this.componentType,le,Oo(pt,z),z,pt)}finally{Z(o)}}},zf=class extends jf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ei(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zp(o[L],o,i,e,n),this.previousInputValues.set(e,n);let s=xr(this._tNode.index,o);Gp(s,1)}}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WR(t,e){let n=t[L],r=ct;return t[r]=e,qs(n,r,2,"#host",null)}function GR(t,e,n,r,i,o,s){let a=i[L];qR(r,t,e,s);let c=null;e!==null&&(c=Op(e,i[wo]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=su(i,bI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&kf(a,t,r.length-1),au(i,d),i[t.index]=d}function qR(t,e,n,r){for(let i of t)e.mergedAttrs=Ls(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ul(e,e.mergedAttrs,!0),n!==null&&_I(r,n,e))}function KR(t,e,n,r,i,o){let s=rt(),a=i[L],c=Ft(s,i);SI(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Ii(i,a,d,s);Sr(h,i)}TI(a,i,s),c&&Sr(c,i);let l=Ii(i,a,s.directiveStart+s.componentOffset,s);if(t[kt]=i[kt]=l,o!==null)for(let u of o)u(l,e);return Up(a,s,i),l}function YR(t,e,n,r){if(r)mf(t,n,["ng-version","18.2.1"]);else{let{attrs:i,classes:o}=BA(e.selectors[0]);i&&mf(t,n,i),o&&o.length>0&&vI(t,n,o.join(" "))}}function QR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ZR(){let t=rt();nu(J()[L],t)}var Or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JR;let t=e;return t})();function JR(){let t=rt();return WI(t,J())}var XR=Or,zI=class extends XR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dp(this._hostTNode,this._hostLView);if(Bw(e)){let n=Al(e,this._hostLView),r=Ml(e),i=n[L].data[r+8];return new gi(i,n)}else return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=kC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Lf(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!rx(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new To(br(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(bt,null);w&&(o=w)}let u=br(c.componentType??{}),d=Uf(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,Lf(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ux(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nt],l=new zI(c,c[en],c[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return PI(s,i,o,r),e.attachToViewContainerRef(),tw(af(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=kC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);r&&(Il(af(this._lContainer),n),Lp(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=kl(this._lContainer,n);return r&&Il(af(this._lContainer),n)!=null?new Ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kC(t){return t[Sl]}function af(t){return t[Sl]||(t[Sl]=[])}function WI(t,e){let n,r=e[t.index];return Wn(r)?n=r:(n=MI(r,e,null,t),e[t.index]=n,au(e,n)),tO(n,e,t,r),new zI(n,t,e)}function eO(t,e){let n=t[Ue],r=n.createComment(""),i=Ft(e,t),o=gI(n,i);return Fl(n,o,r,kN(n,i),!1),r}var tO=iO,nO=()=>!1;function rO(t,e,n){return nO(t,e,n)}function iO(t,e,n,r){if(t[_i])return;let i;n.type&8?i=Cn(r):i=eO(e,n),t[_i]=i}var Wf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Yp(e,n).matches!==null&&this.queries[n].setDirty()}},qf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=hO(e):this.predicate=e}},Kf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,oO(n,o)),this.matchTNodeWithReadOption(e,n,vl(n,e,o,!1,!1))}else r===bi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,vl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===Or||i===bi&&n.type&4)this.addMatch(n.index,-2);else{let o=vl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function oO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function sO(t,e){return t.type&11?Oo(t,e):t.type&4?cu(t,e):null}function aO(t,e,n,r){return n===-1?sO(e,t):n===-2?cO(t,e,r):Ii(t,t[L],n,e)}function cO(t,e,n){if(n===Lt)return Oo(e,t);if(n===bi)return cu(e,t);if(n===Or)return WI(e,t)}function GI(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(aO(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Qf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=GI(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=_t;d<u.length;d++){let h=u[d];h[vi]===h[nt]&&Qf(h[L],h,l,r)}if(u[Io]!==null){let d=u[Io];for(let h=0;h<d.length;h++){let f=d[h];Qf(f[L],f,l,r)}}}}}return r}function lO(t,e){return t[Un].queries[e].queryList}function uO(t,e,n){let r=new Rf((n&4)===4);return QN(t,e,r,r.destroy),(e[Un]??=new Gf).queries.push(new Wf(r))-1}function dO(t,e,n){let r=Qe();return r.firstCreatePass&&(fO(r,new qf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),uO(r,J(),e)}function hO(t){return t.split(",").map(e=>e.trim())}function fO(t,e,n){t.queries===null&&(t.queries=new Kf),t.queries.track(new Yf(e,n))}function Yp(t,e){return t.queries.getByIndex(e)}function pO(t,e){let n=t[L],r=Yp(n,e);return r.crossesNgTemplate?Qf(n,t,e,[]):GI(n,t,r,e)}function gO(t){return typeof t=="function"&&t[Ln]!==void 0}function Ks(t,e){Po("NgSignals");let n=Py(t),r=n[Ln];return e?.equal&&(r.equal=e.equal),n.set=i=>Nh(r,i),n.update=i=>ky(r,i),n.asReadonly=mO.bind(n),n}function mO(){let t=this[Ln];if(t.readonlyFn===void 0){let e=()=>this();e[Ln]=t,t.readonlyFn=e}return t.readonlyFn}function qI(t){return gO(t)&&typeof t.set=="function"}function vO(t){return Object.getPrototypeOf(t.prototype).constructor}function Gn(t){let e=vO(t.type),n=!0,r=[t];for(;e;){let i;if(Dr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=dl(t.inputs),s.inputTransforms=dl(t.inputTransforms),s.declaredInputs=dl(t.declaredInputs),s.outputs=dl(t.outputs);let a=i.hostBindings;a&&IO(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&CO(t,c),l&&wO(t,l),_O(t,i),sA(t.outputs,i.outputs),Dr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Gn&&(n=!1)}}e=Object.getPrototypeOf(e)}yO(r)}function _O(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function yO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ls(i.hostAttrs,n=Ls(n,i.hostAttrs))}}function dl(t){return t===_o?{}:t===Ot?[]:t}function CO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function wO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function IO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Qp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Tr=class{},Bs=class{};var Zf=class extends Tr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jl(this);let o=uw(e);this._bootstrapComponents=uI(o.bootstrap),this._r3Injector=Qw(e,n,[{provide:Tr,useValue:this},{provide:Do,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jf=class extends Bs{constructor(e){super(),this.moduleType=e}create(e){return new Zf(this.moduleType,e,[])}};var Bl=class extends Tr{constructor(e){super(),this.componentFactoryResolver=new jl(this),this.instance=null;let n=new Vs([...e.providers,{provide:Tr,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],e.parent||gp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lu(t,e,n=null){return new Bl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function KI(t){return bO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function EO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function bO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function YI(t,e,n){return t[e]=n}function $n(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DO(t,e,n,r){let i=$n(t,e,n);return $n(t,e+1,r)||i}function SO(t){return(t.flags&32)===32}function TO(t,e,n,r,i,o,s,a,c){let l=e.consts,u=qs(e,t,4,s||null,a||null);Hp(e,n,u,Eo(l,c)),nu(e,u);let d=u.tView=$p(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function MO(t,e,n,r,i,o,s,a,c,l){let u=n+ct,d=e.firstCreatePass?TO(u,e,t,r,i,o,s,a,c):e.data[u];Ti(d,!1);let h=AO(e,t,d,n);eu()&&iu(e,t,h,d),Sr(h,t);let f=MI(h,t,h,d);return t[u]=f,au(t,f),rO(f,d,t),Zl(d)&&jp(e,t,d),c!=null&&Bp(t,d,l),d}function ue(t,e,n,r,i,o,s,a){let c=J(),l=Qe(),u=Eo(l.consts,o);return MO(c,l,t,e,n,r,i,u,s,a),ue}var AO=xO;function xO(t,e,n,r){return tu(!0),e[Ue].createComment("")}function Ys(t,e,n,r){let i=J(),o=Ws();if($n(i,o,e)){let s=Qe(),a=bp();dR(a,i,t,e,n,r)}return Ys}function NO(t,e,n,r){return $n(t,Ws(),n)?e+Gl(n)+r:Nr}function hl(t,e){return t<<17|e<<2}function Di(t){return t>>17&32767}function RO(t){return(t&2)==2}function OO(t,e){return t&131071|e<<17}function Xf(t){return t|2}function Mo(t){return(t&131068)>>2}function cf(t,e){return t&-131069|e<<2}function PO(t){return(t&1)===1}function ep(t){return t|1}function kO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Di(s),c=Mo(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||zs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Di(t[a+1]);t[r+1]=hl(h,a),h!==0&&(t[h+1]=cf(t[h+1],r)),t[a+1]=OO(t[a+1],r)}else t[r+1]=hl(a,0),a!==0&&(t[a+1]=cf(t[a+1],r)),a=r;else t[r+1]=hl(c,0),a===0?a=r:t[c+1]=cf(t[c+1],r),c=r;l&&(t[r+1]=Xf(t[r+1])),FC(t,u,r,!0),FC(t,u,r,!1),FO(e,u,t,r,o),s=hl(a,c),o?e.classBindings=s:e.styleBindings=s}function FO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&zs(o,e)>=0&&(n[r+1]=ep(n[r+1]))}function FC(t,e,n,r){let i=t[n+1],o=e===null,s=r?Di(i):Mo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];LO(c,e)&&(a=!0,t[s+1]=r?ep(l):Xf(l)),s=r?Di(l):Mo(l)}a&&(t[n+1]=r?Xf(i):ep(i))}function LO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zs(t,e)>=0:!1}function D(t,e,n){let r=J(),i=Ws();if($n(r,i,e)){let o=Qe(),s=bp();DI(o,s,r,t,e,r[Ue],n,!1)}return D}function LC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";zp(t,n,o[s],s,r)}function Pr(t,e){return VO(t,e,null,!0),Pr}function VO(t,e,n,r){let i=J(),o=Qe(),s=Ix(2);if(o.firstUpdatePass&&jO(o,t,s,r),e!==Nr&&$n(i,s,e)){let a=o.data[xo()];WO(o,a,i,i[Ue],t,i[s+1]=GO(e,n),r,s)}}function UO(t,e){return e>=t.expandoStartIndex}function jO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xo()],s=UO(t,n);qO(o,r)&&e===null&&!s&&(e=!1),e=BO(i,o,e,r),kO(i,o,e,n,s,r)}}function BO(t,e,n,r){let i=Sx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lf(null,t,e,n,r),n=$s(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=lf(i,t,e,n,r),o===null){let c=$O(t,e,r);c!==void 0&&Array.isArray(c)&&(c=lf(null,t,e,c[1],r),c=$s(c,e.attrs,r),HO(t,e,r,c))}else o=zO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function $O(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Mo(r)!==0)return t[Di(r)]}function HO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Di(i)]=r}function zO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=$s(r,s,n)}return $s(r,e.attrs,n)}function lf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=$s(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $s(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),MA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function WO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=PO(l)?VC(c,e,n,i,Mo(l),s):void 0;if(!$l(u)){$l(o)||RO(l)&&(o=VC(c,null,n,i,a,s));let d=bw(xo(),n);$N(r,s,d,i,o)}}function VC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Nr&&(h=d?Ot:void 0);let f=d?Jh(h,r):u===r?h:void 0;if(l&&!$l(f)&&(f=Jh(c,r)),$l(f)&&(a=f,s))return a;let g=t[i+1];i=s?Di(g):Mo(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Jh(c,r))}return a}function $l(t){return t!==void 0}function GO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=at(Gs(t)))),t}function qO(t,e){return(t.flags&(e?8:16))!==0}function Qs(t,e){Po("NgControlFlow");let n=J(),r=Ws(),i=n[r]!==Nr?n[r]:-1,o=i!==-1?UC(n,ct+i):void 0,s=0;if($n(n,r,t)){let a=Z(null);try{if(o!==void 0&&CR(o,s),t!==-1){let c=ct+t,l=UC(n,c),u=KO(n[L],c),d=Uf(l,u.tView.ssrId),h=OI(n,u,e,{dehydratedView:d});PI(l,h,s,Lf(u,d))}}finally{Z(a)}}else if(o!==void 0){let a=yR(o,s);a!==void 0&&(a[kt]=e)}}function UC(t,e){return t[e]}function KO(t,e){return vp(t,e)}function YO(t,e,n,r,i,o){let s=e.consts,a=Eo(s,i),c=qs(e,t,2,r,a);return Hp(e,n,c,Eo(s,o)),c.attrs!==null&&Ul(c,c.attrs,!1),c.mergedAttrs!==null&&Ul(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=J(),o=Qe(),s=ct+t,a=i[Ue],c=o.firstCreatePass?YO(s,o,i,e,n,r):o.data[s],l=QO(o,i,c,a,e,t);i[s]=l;let u=Zl(c);return Ti(c,!0),_I(a,l,c),!SO(c)&&eu()&&iu(o,i,l,c),fx()===0&&Sr(l,i),px(),u&&(jp(o,i,c),Up(o,c,i)),r!==null&&Bp(i,c),m}function v(){let t=rt();Cp()?Nw():(t=t.parent,Ti(t,!1));let e=t;vx(e)&&_x(),gx();let n=Qe();return n.firstCreatePass&&(nu(n,t),mp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ox(e)&&LC(n,e,J(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Px(e)&&LC(n,e,J(),e.stylesWithoutHost,!1),v}function M(t,e,n,r){return m(t,e,n,r),v(),M}var QO=(t,e,n,r,i,o)=>(tu(!0),dI(r,i,Ax()));function ZO(t,e,n,r,i){let o=e.consts,s=Eo(o,r),a=qs(e,t,8,"ng-container",s);s!==null&&Ul(a,s,!0);let c=Eo(o,i);return Hp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function qn(t,e,n){let r=J(),i=Qe(),o=t+ct,s=i.firstCreatePass?ZO(o,i,r,e,n):i.data[o];Ti(s,!0);let a=JO(i,r,s,t);return r[o]=a,eu()&&iu(i,r,a,s),Sr(a,r),Zl(s)&&(jp(i,r,s),Up(i,s,r)),n!=null&&Bp(r,s),qn}function Kn(){let t=rt(),e=Qe();return Cp()?Nw():(t=t.parent,Ti(t,!1)),e.firstCreatePass&&(nu(e,t),mp(t)&&e.queries.elementEnd(t)),Kn}var JO=(t,e,n,r)=>(tu(!0),SN(e[Ue],""));function En(){return J()}var hi=void 0;function XO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var eP=["en",[["a","p"],["AM","PM"],hi],[["AM","PM"],hi,hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hi,"{1} 'at' {0}",hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XO],uf={};function Vt(t){let e=tP(t),n=jC(e);if(n)return n;let r=e.split("-")[0];if(n=jC(r),n)return n;if(r==="en")return eP;throw new x(701,!1)}function jC(t){return t in uf||(uf[t]=pi.ng&&pi.ng.common&&pi.ng.common.locales&&pi.ng.common.locales[t]),uf[t]}var Pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pe||{});function tP(t){return t.toLowerCase().replace(/_/g,"-")}var Hl="en-US";var nP=Hl;function rP(t){typeof t=="string"&&(nP=t.toLowerCase().replace(/_/g,"-"))}var iP=(t,e,n)=>{};function H(t,e,n,r){let i=J(),o=Qe(),s=rt();return QI(o,i,i[Ue],s,t,e,r),H}function oP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Dl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function QI(t,e,n,r,i,o,s){let a=Zl(r),l=t.firstCreatePass&&NI(t),u=e[kt],d=xI(e),h=!0;if(r.type&3||s){let w=Ft(r,e),b=s?s(w):w,R=d.length,pe=s?le=>s(Cn(le[r.index])):r.index,z=null;if(!s&&a&&(z=oP(t,e,i,r.index)),z!==null){let le=z.__ngLastListenerFn__||z;le.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,h=!1}else{o=$C(r,e,u,o),iP(w,i,o);let le=n.listen(b,i,o);d.push(o,le),l&&l.push(i,pe,R,R+1)}}else o=$C(r,e,u,o);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let w=g.length;if(w)for(let b=0;b<w;b+=2){let R=g[b],pe=g[b+1],pt=e[R][pe].subscribe(o),$e=d.length;d.push(o,pt),l&&l.push(i,r.index,$e,-($e+1))}}}function BC(t,e,n,r){let i=Z(null);try{return gn(6,e,n),n(r)!==!1}catch(o){return RI(t,o),!1}finally{gn(7,e,n),Z(i)}}function $C(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?xr(t.index,e):e;Gp(s,5);let a=BC(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=BC(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ee(t=1){return Mx(t)}function uu(t,e,n){dO(t,e,n)}function Zs(t){let e=J(),n=Qe(),r=Ow();wp(r+1);let i=Yp(n,r);if(t.dirty&&lx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=pO(e,r);t.reset(o,tN),t.notifyOnChanges()}return!0}return!1}function Js(){return lO(J(),Ow())}function sP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function tn(t){let e=Cx();return _p(e,ct+t)}function C(t,e=""){let n=J(),r=Qe(),i=t+ct,o=r.firstCreatePass?qs(r,i,1,e,null):r.data[i],s=aP(r,n,o,e,t);n[i]=s,eu()&&iu(r,n,s,o),Ti(o,!1)}var aP=(t,e,n,r,i)=>(tu(!0),bN(e[Ue],r));function Me(t){return Mi("",t,""),Me}function Mi(t,e,n){let r=J(),i=NO(r,t,e,n);return i!==Nr&&gR(r,xo(),i),Mi}function Zp(t,e,n){qI(e)&&(e=e());let r=J(),i=Ws();if($n(r,i,e)){let o=Qe(),s=bp();DI(o,s,r,t,e,r[Ue],n,!1)}return Zp}function ZI(t,e){let n=qI(t);return n&&t.set(e),n}function Jp(t,e){let n=J(),r=Qe(),i=rt();return QI(r,n,n[Ue],i,t,e),Jp}function cP(t,e,n){let r=Qe();if(r.firstCreatePass){let i=Dr(t);tp(n,r.data,r.blueprint,i,!0),tp(e,r.data,r.blueprint,i,!1)}}function tp(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)tp(t[o],e,n,r,i);else{let o=Qe(),s=J(),a=rt(),c=Co(t)?t:st(t.provide),l=mw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Co(t)||!t.multi){let f=new wi(l,i,S),g=hf(c,e,i?u:u+h,d);g===-1?(Sf(Nl(a,s),o,c),df(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=hf(c,e,u+h,d),g=hf(c,e,u,u+h),w=f>=0&&n[f],b=g>=0&&n[g];if(i&&!b||!i&&!w){Sf(Nl(a,s),o,c);let R=dP(i?uP:lP,n.length,i,r,l);!i&&b&&(n[g].providerFactory=R),df(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),s.push(R)}else{let R=JI(n[i?g:f],l,!i&&r);df(o,t,f>-1?f:g,R)}!i&&r&&b&&n[g].componentProviders++}}}function df(t,e,n,r){let i=Co(e),o=YA(e);if(i||o){let c=(o?st(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function JI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lP(t,e,n,r){return np(this.multi,[])}function uP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ii(n,n[L],this.providerFactory.index,r);o=a.slice(0,s),np(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],np(i,o);return o}function np(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function dP(t,e,n,r,i){let o=new wi(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,JI(o,i,r&&!n),o}function Xs(t,e=[]){return n=>{n.providersResolver=(r,i)=>cP(r,i?i(t):t,e)}}var hP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=fw(!1,r.type),o=i.length>0?lu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(N(bt))});let t=e;return t})();function ne(t){Po("NgStandalone"),t.getStandaloneInjector=e=>e.get(hP).getOrCreateStandaloneInjector(t)}function Ce(t,e,n,r){return eE(J(),Xl(),t,e,n,r)}function ea(t,e,n,r,i){return tE(J(),Xl(),t,e,n,r,i)}function XI(t,e){let n=t[e];return n===Nr?void 0:n}function eE(t,e,n,r,i,o){let s=e+n;return $n(t,s,i)?YI(t,s+1,o?r.call(o,i):r(i)):XI(t,s+1)}function tE(t,e,n,r,i,o,s){let a=e+n;return DO(t,a,i,o)?YI(t,a+2,s?r.call(s,i,o):r(i,o)):XI(t,a+2)}function Dt(t,e){let n=Qe(),r,i=t+ct;n.firstCreatePass?(r=fP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=mi(r.type,!0)),s,a=mt(S);try{let c=xl(!1),l=o();return xl(c),sP(n,J(),i,l),l}finally{mt(a)}}function fP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Yn(t,e,n){let r=t+ct,i=J(),o=_p(i,r);return nE(i,r)?eE(i,Xl(),e,o.transform,n,o):o.transform(n)}function ta(t,e,n,r){let i=t+ct,o=J(),s=_p(o,i);return nE(o,i)?tE(o,Xl(),e,s.transform,n,r,s):s.transform(n,r)}function nE(t,e){return t[L].data[e].pure}function Ai(t,e){return cu(t,e)}var Hn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rE=new Hn("18.2.1");var du=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var iE=new A("");function kr(t){return!!t&&typeof t.then=="function"}function Xp(t){return!!t&&typeof t.subscribe=="function"}var hu=new A(""),oE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(hu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(kr(s))r.push(s);else if(Xp(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fu=new A("");function pP(){Oy(()=>{throw new x(600,!1)})}function gP(t){return t.isBoundToModule}var mP=10;function vP(t,e,n){try{let r=n();return kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(Xx),this.afterRenderEffectManager=_(Kp),this.zonelessEnabled=_(BI),this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=_(Ro).hasPendingTasks.pipe(K(r=>!r)),this._injector=_(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Vl;if(!this._injector.get(oE).done){let f=!o&&lw(r),g=!1;throw new x(405,g)}let a;o?a=r:a=this._injector.get(Do).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=gP(a)?void 0:this._injector.get(Tr),l=i||a.selector,u=a.create(We.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(iE,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),_l(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new x(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Z(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(So,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<mP;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)_P(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>js(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>js(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;_l(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(fu,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>_l(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new x(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _l(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _P(t,e,n,r){if(!n&&!js(t))return;LI(t,e,n&&!r?0:1)}var rp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pu=(()=>{let e=class e{compileModuleSync(r){return new Jf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=uw(r),s=uI(o.declarations).reduce((a,c)=>{let l=br(c);return l&&a.push(new To(l)),a},[]);return new rp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yP=(()=>{let e=class e{constructor(){this.zone=_(ie),this.changeDetectionScheduler=_(bo),this.applicationRef=_(xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CP({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ie(W(E({},wP()),{scheduleInRootZone:n})),[{provide:ie,useFactory:t},{provide:yo,multi:!0,useFactory:()=>{let r=_(yP,{optional:!0});return()=>r.initialize()}},{provide:yo,multi:!0,useFactory:()=>{let r=_(IP);return()=>{r.initialize()}}},e===!0?{provide:$I,useValue:!0}:[],{provide:HI,useValue:n??Zw}]}function wP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var IP=(()=>{let e=class e{constructor(){this.subscription=new De,this.initialized=!1,this.zone=_(ie),this.pendingTasks=_(Ro)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EP=(()=>{let e=class e{constructor(){this.appRef=_(xi),this.taskService=_(Ro),this.ngZone=_(ie),this.zonelessEnabled=_(BI),this.disableScheduling=_($I,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new De,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ol):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(HI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?bC:Jw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick(this.shouldRefreshViews))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick(this.shouldRefreshViews)))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ol+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bP(){return typeof $localize<"u"&&$localize.locale||Hl}var gu=new A("",{providedIn:"root",factory:()=>_(gu,B.Optional|B.SkipSelf)||bP()});var sE=new A("");function fl(t){return!!t.platformInjector}function DP(t){let e=fl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ie);return n.run(()=>{fl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(jn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),fl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(sE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{_l(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return vP(r,n,()=>{let o=e.get(oE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(gu,Hl);if(rP(s||Hl),fl(t)){let a=e.get(xi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return SP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function SP(t,e){let n=t.injector.get(xi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new x(-403,!1);e.push(t)}var yl=null;function TP(t=[],e){return We.create({name:e,providers:[{provide:Kl,useValue:"platform"},{provide:sE,useValue:new Set([()=>yl=null])},...t]})}function MP(t=[]){if(yl)return yl;let e=TP(t);return yl=e,pP(),AP(e),e}function AP(t){t.get(Np,null)?.forEach(n=>n())}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xP;let t=e;return t})();function xP(t){return NP(rt(),J(),(t&16)===16)}function NP(t,e,n){if(Ql(t)&&!n){let r=xr(t.index,e);return new Ei(r,r)}else if(t.type&175){let r=e[yn];return new Ei(r,e)}return null}var ip=class{constructor(){}supports(e){return KI(e)}create(e){return new op(e)}},RP=(t,e)=>e,op=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<HC(r,i,o)?n:r,a=HC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!KI(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,EO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new sp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new zl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},zl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ap,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zC(){return new eg([new ip])}var eg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zC()),deps:[[e,new up,new Oe]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new x(901,!1)}};e.\u0275prov=T({token:e,providedIn:"root",factory:zC});let t=e;return t})();function aE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=MP(r),o=[CP({}),{provide:bo,useExisting:EP},...n||[]],s=new Bl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return DP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var cE=new A("");function Lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function na(t,e){Po("NgSignals");let n=xy(t);return e?.equal&&(n[Ln].equal=e.equal),n}function nn(t){let e=Z(null);try{return t()}finally{Z(e)}}function lE(t){let e=br(t);if(!e)return null;let n=new To(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mE=null;function Xn(){return mE}function vE(t){mE??=t}var bu=class{};var ut=new A(""),hg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(OP),providedIn:"platform"});let t=e;return t})(),_E=new A(""),OP=(()=>{let e=class e extends hg{constructor(){super(),this._doc=_(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(r){let i=Xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function fg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function uE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Zn(t){return t&&t[0]!=="?"?"?"+t:t}var er=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(pg),providedIn:"root"});let t=e;return t})(),yE=new A(""),pg=(()=>{let e=class e extends er{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Zn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Zn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Zn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(hg),N(yE,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CE=(()=>{let e=class e extends er{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=fg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Zn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Zn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(hg),N(yE,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),ko=(()=>{let e=class e{constructor(r){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=FP(uE(dE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Zn(i))}normalize(r){return e.stripTrailingSlash(kP(this._basePath,dE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Zn,e.joinWithSlash=fg,e.stripTrailingSlash=uE,e.\u0275fac=function(i){return new(i||e)(N(er))},e.\u0275prov=T({token:e,factory:()=>PP(),providedIn:"root"});let t=e;return t})();function PP(){return new ko(N(er))}function kP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dE(t){return t.replace(/\/index.html$/,"")}function FP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var lt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(lt||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),St=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(St||{}),Vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function LP(t){return Vt(t)[Pe.LocaleId]}function VP(t,e,n){let r=Vt(t),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=Ut(i,e);return Ut(o,n)}function UP(t,e,n){let r=Vt(t),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=Ut(i,e);return Ut(o,n)}function jP(t,e,n){let r=Vt(t),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=Ut(i,e);return Ut(o,n)}function BP(t,e){let r=Vt(t)[Pe.Eras];return Ut(r,e)}function mu(t,e){let n=Vt(t);return Ut(n[Pe.DateFormat],e)}function vu(t,e){let n=Vt(t);return Ut(n[Pe.TimeFormat],e)}function _u(t,e){let r=Vt(t)[Pe.DateTimeFormat];return Ut(r,e)}function Tu(t,e){let n=Vt(t),r=n[Pe.NumberSymbols][e];if(typeof r>"u"){if(e===Vr.CurrencyDecimal)return n[Pe.NumberSymbols][Vr.Decimal];if(e===Vr.CurrencyGroup)return n[Pe.NumberSymbols][Vr.Group]}return r}function wE(t){if(!t[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $P(t){let e=Vt(t);return wE(e),(e[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?ng(r):[ng(r[0]),ng(r[1])])}function HP(t,e,n){let r=Vt(t);wE(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=Ut(i,e)||[];return Ut(o,n)||[]}function Ut(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ng(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var zP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yu={},WP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Jn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Jn||{}),se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(se||{}),oe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(oe||{});function GP(t,e,n,r){let i=tk(t);e=Qn(n,e)||e;let s=[],a;for(;e;)if(a=WP.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=EE(r,c),i=ek(i,r,!0));let l="";return s.forEach(u=>{let d=JP(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Du(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Qn(t,e){let n=LP(t);if(yu[n]??={},yu[n][e])return yu[n][e];let r="";switch(e){case"shortDate":r=mu(t,St.Short);break;case"mediumDate":r=mu(t,St.Medium);break;case"longDate":r=mu(t,St.Long);break;case"fullDate":r=mu(t,St.Full);break;case"shortTime":r=vu(t,St.Short);break;case"mediumTime":r=vu(t,St.Medium);break;case"longTime":r=vu(t,St.Long);break;case"fullTime":r=vu(t,St.Full);break;case"short":let i=Qn(t,"shortTime"),o=Qn(t,"shortDate");r=Cu(_u(t,St.Short),[i,o]);break;case"medium":let s=Qn(t,"mediumTime"),a=Qn(t,"mediumDate");r=Cu(_u(t,St.Medium),[s,a]);break;case"long":let c=Qn(t,"longTime"),l=Qn(t,"longDate");r=Cu(_u(t,St.Long),[c,l]);break;case"full":let u=Qn(t,"fullTime"),d=Qn(t,"fullDate");r=Cu(_u(t,St.Full),[u,d]);break}return r&&(yu[n][e]=r),r}function Cu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function qP(t,e){return rn(t,3).substring(0,e)}function je(t,e,n=0,r=!1,i=!1){return function(o,s){let a=KP(t,o);if((n>0||a>-n)&&(a+=n),t===se.Hours)a===0&&n===-12&&(a=12);else if(t===se.FractionalSeconds)return qP(a,e);let c=Tu(s,Vr.MinusSign);return rn(a,e,c,r,i)}}function KP(t,e){switch(t){case se.FullYear:return e.getFullYear();case se.Month:return e.getMonth();case se.Date:return e.getDate();case se.Hours:return e.getHours();case se.Minutes:return e.getMinutes();case se.Seconds:return e.getSeconds();case se.FractionalSeconds:return e.getMilliseconds();case se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function we(t,e,n=lt.Format,r=!1){return function(i,o){return YP(i,o,t,e,n,r)}}function YP(t,e,n,r,i,o){switch(n){case oe.Months:return jP(e,i,r)[t.getMonth()];case oe.Days:return UP(e,i,r)[t.getDay()];case oe.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=$P(e),u=HP(e,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){let[f,g]=h,w=s>=f.hours&&a>=f.minutes,b=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(w&&b)return!0}else if(w||b)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return VP(e,i,r)[s<12?0:1];case oe.Eras:return BP(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function wu(t){return function(e,n,r){let i=-1*r,o=Tu(n,Vr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Jn.Short:return(i>=0?"+":"")+rn(s,2,o)+rn(Math.abs(i%60),2,o);case Jn.ShortGMT:return"GMT"+(i>=0?"+":"")+rn(s,1,o);case Jn.Long:return"GMT"+(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);case Jn.Extended:return r===0?"Z":(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var QP=0,Eu=4;function ZP(t){let e=Du(t,QP,1).getDay();return Du(t,0,1+(e<=Eu?Eu:Eu+7)-e)}function IE(t){let e=t.getDay(),n=e===0?-3:Eu-e;return Du(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rg(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=IE(n),s=ZP(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,Tu(r,Vr.MinusSign))}}function Iu(t,e=!1){return function(n,r){let o=IE(n).getFullYear();return rn(o,t,Tu(r,Vr.MinusSign),e)}}var ig={};function JP(t){if(ig[t])return ig[t];let e;switch(t){case"G":case"GG":case"GGG":e=we(oe.Eras,ve.Abbreviated);break;case"GGGG":e=we(oe.Eras,ve.Wide);break;case"GGGGG":e=we(oe.Eras,ve.Narrow);break;case"y":e=je(se.FullYear,1,0,!1,!0);break;case"yy":e=je(se.FullYear,2,0,!0,!0);break;case"yyy":e=je(se.FullYear,3,0,!1,!0);break;case"yyyy":e=je(se.FullYear,4,0,!1,!0);break;case"Y":e=Iu(1);break;case"YY":e=Iu(2,!0);break;case"YYY":e=Iu(3);break;case"YYYY":e=Iu(4);break;case"M":case"L":e=je(se.Month,1,1);break;case"MM":case"LL":e=je(se.Month,2,1);break;case"MMM":e=we(oe.Months,ve.Abbreviated);break;case"MMMM":e=we(oe.Months,ve.Wide);break;case"MMMMM":e=we(oe.Months,ve.Narrow);break;case"LLL":e=we(oe.Months,ve.Abbreviated,lt.Standalone);break;case"LLLL":e=we(oe.Months,ve.Wide,lt.Standalone);break;case"LLLLL":e=we(oe.Months,ve.Narrow,lt.Standalone);break;case"w":e=rg(1);break;case"ww":e=rg(2);break;case"W":e=rg(1,!0);break;case"d":e=je(se.Date,1);break;case"dd":e=je(se.Date,2);break;case"c":case"cc":e=je(se.Day,1);break;case"ccc":e=we(oe.Days,ve.Abbreviated,lt.Standalone);break;case"cccc":e=we(oe.Days,ve.Wide,lt.Standalone);break;case"ccccc":e=we(oe.Days,ve.Narrow,lt.Standalone);break;case"cccccc":e=we(oe.Days,ve.Short,lt.Standalone);break;case"E":case"EE":case"EEE":e=we(oe.Days,ve.Abbreviated);break;case"EEEE":e=we(oe.Days,ve.Wide);break;case"EEEEE":e=we(oe.Days,ve.Narrow);break;case"EEEEEE":e=we(oe.Days,ve.Short);break;case"a":case"aa":case"aaa":e=we(oe.DayPeriods,ve.Abbreviated);break;case"aaaa":e=we(oe.DayPeriods,ve.Wide);break;case"aaaaa":e=we(oe.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":e=we(oe.DayPeriods,ve.Abbreviated,lt.Standalone,!0);break;case"bbbb":e=we(oe.DayPeriods,ve.Wide,lt.Standalone,!0);break;case"bbbbb":e=we(oe.DayPeriods,ve.Narrow,lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=we(oe.DayPeriods,ve.Abbreviated,lt.Format,!0);break;case"BBBB":e=we(oe.DayPeriods,ve.Wide,lt.Format,!0);break;case"BBBBB":e=we(oe.DayPeriods,ve.Narrow,lt.Format,!0);break;case"h":e=je(se.Hours,1,-12);break;case"hh":e=je(se.Hours,2,-12);break;case"H":e=je(se.Hours,1);break;case"HH":e=je(se.Hours,2);break;case"m":e=je(se.Minutes,1);break;case"mm":e=je(se.Minutes,2);break;case"s":e=je(se.Seconds,1);break;case"ss":e=je(se.Seconds,2);break;case"S":e=je(se.FractionalSeconds,1);break;case"SS":e=je(se.FractionalSeconds,2);break;case"SSS":e=je(se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wu(Jn.Short);break;case"ZZZZZ":e=wu(Jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wu(Jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wu(Jn.Long);break;default:return null}return ig[t]=e,e}function EE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function XP(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function ek(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=EE(e,i);return XP(t,r*(o-i))}function tk(t){if(hE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Du(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(zP))return nk(r)}let e=new Date(t);if(!hE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function nk(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function hE(t){return t instanceof Date&&!isNaN(t.valueOf())}function bE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var og=/\s+/,fE=[],yt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=fE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(og):fE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(og):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(og).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(S(Lt),S(Rr))},e.\u0275dir=Ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var sg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mu=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new sg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),pE(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);pE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Or),S(bi),S(eg))},e.\u0275dir=Ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function pE(t,e){t.context.$implicit=e.item}var bn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ag,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){gE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){gE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Or),S(bi))},e.\u0275dir=Ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ag=class{constructor(){this.$implicit=null,this.ngIf=null}};function gE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}function DE(t,e){return new x(2100,!1)}var cg=class{createSubscription(e,n){return nn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){nn(()=>e.unsubscribe())}},lg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},rk=new lg,ik=new cg,Ur=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(kr(r))return rk;if(Xp(r))return ik;throw DE(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(S(Fr,16))},e.\u0275pipe=fp({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var ok="mediumDate",sk=new A(""),ak=new A(""),SE=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??ok,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return GP(r,a,s||this.locale,c)}catch(a){throw DE(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(S(gu,16),S(sk,24),S(ak,24))},e.\u0275pipe=fp({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ge=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ar({type:e}),e.\u0275inj=Mr({});let t=e;return t})(),gg="browser",ck="server";function lk(t){return t===gg}function mg(t){return t===ck}var TE=(()=>{let e=class e{};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>lk(_(In))?new ug(_(ut),window):new dg});let t=e;return t})(),ug=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function uk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var dg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Su=class{};var yg=class extends bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cg=class t extends yg{static makeCurrent(){vE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dk();return n==null?null:hk(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bE(document.cookie,e)}},ra=null;function dk(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function hk(t){return new URL(t,document.baseURI).pathname}var fk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Au=new A(""),NE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(Au),N(ie))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e){this._doc=e}},vg="ng-app-id",RE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${vg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(vg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(vg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(ut),N(xp),N(Rp,8),N(In))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ig=/%COMP%/g,OE="%COMP%",pk=`_nghost-${OE}`,gk=`_ngcontent-${OE}`,mk=!0,vk=new A("",{providedIn:"root",factory:()=>mk});function _k(t){return gk.replace(Ig,t)}function yk(t){return pk.replace(Ig,t)}function PE(t,e){return e.map(n=>n.replace(Ig,t))}var ME=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=mg(c),this.defaultRenderer=new oa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vn.ShadowDom&&(i=W(E({},i),{encapsulation:vn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof xu?o.applyToHost(r):o instanceof sa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case vn.Emulated:s=new xu(l,u,i,this.appId,d,a,c,h);break;case vn.ShadowDom:return new wg(l,u,r,i,a,c,this.nonce,h);default:s=new sa(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(NE),N(RE),N(xp),N(vk),N(ut),N(In),N(ie),N(Rp))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=_g[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wg=class extends oa{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=PE(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?PE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xu=class extends sa{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=_k(l),this.hostAttr=yk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Ck=(()=>{let e=class e extends ia{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(N(ut))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),wk=(()=>{let e=class e extends ia{constructor(r){super(r),this.delegate=_(cE,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(N(ut))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),xE=["alt","control","meta","shift"],Ik={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ek={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bk=(()=>{let e=class e extends ia{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),xE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Ik[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),xE.forEach(a=>{if(a!==o){let c=Ek[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(ut))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function kE(t,e){return aE(E({rootComponent:t},Dk(e)))}function Dk(t){return{appProviders:[...xk,...t?.providers??[]],platformProviders:Ak}}function Sk(){Cg.makeCurrent()}function Tk(){return new jn}function Mk(){return oI(document),document}var Ak=[{provide:In,useValue:gg},{provide:Np,useValue:Sk,multi:!0},{provide:ut,useFactory:Mk,deps:[]}];var xk=[{provide:Kl,useValue:"root"},{provide:jn,useFactory:Tk,deps:[]},{provide:Au,useClass:Ck,multi:!0,deps:[ut,ie,In]},{provide:Au,useClass:bk,multi:!0,deps:[ut]},{provide:Au,useClass:wk,multi:!0},ME,RE,NE,{provide:So,useExisting:ME},{provide:Su,useClass:fk,deps:[]},[]];var FE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(ut))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j="primary",wa=Symbol("RouteTitle"),Tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bo(t){return new Tg(t)}function Rk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ok(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}function Dn(t,e){let n=t?Mg(t):void 0,r=e?Mg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!qE(t[i],e[i]))return!1;return!0}function Mg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function KE(t){return t.length>0?t[t.length-1]:null}function Br(t){return zh(t)?t:kr(t)?be(Promise.resolve(t)):P(t)}var Pk={exact:QE,subset:ZE},YE={exact:kk,subset:Fk,ignored:()=>!0};function LE(t,e,n){return Pk[n.paths](t.root,e.root,n.matrixParams)&&YE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function kk(t,e){return Dn(t,e)}function QE(t,e,n){if(!Ri(t.segments,e.segments)||!Ou(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!QE(t.children[r],e.children[r],n))return!1;return!0}function Fk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qE(t[n],e[n]))}function ZE(t,e,n){return JE(t,e,e.segments,n)}function JE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ri(i,n)||e.hasChildren()||!Ou(i,n,r))}else if(t.segments.length===n.length){if(!Ri(t.segments,n)||!Ou(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ZE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ri(t.segments,i)||!Ou(t.segments,i,r)||!t.children[j]?!1:JE(t.children[j],e,o,r)}}function Ou(t,e,n){return e.every((r,i)=>YE[n](t[i].parameters,r.parameters))}var rr=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){return Uk.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pu(this)}},Ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bo(this.parameters),this._parameterMap}toString(){return eb(this)}};function Lk(t,e){return Ri(t,e)&&t.every((n,r)=>Dn(n.parameters,e[r].parameters))}function Ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Vk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var Ia=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new $o,providedIn:"root"});let t=e;return t})(),$o=class{parse(e){let n=new xg(e);return new rr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${aa(e.root,!0)}`,r=$k(e.queryParams),i=typeof e.fragment=="string"?`#${jk(e.fragment)}`:"";return`${n}${r}${i}`}},Uk=new $o;function Pu(t){return t.segments.map(e=>eb(e)).join("/")}function aa(t,e){if(!t.hasChildren())return Pu(t);if(e){let n=t.children[j]?aa(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Vk(t,(r,i)=>i===j?[aa(t.children[j],!1)]:[`${i}:${aa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${Pu(t)}/${n[0]}`:`${Pu(t)}/(${n.join("//")})`}}function XE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nu(t){return XE(t).replace(/%3B/gi,";")}function jk(t){return encodeURI(t)}function Ag(t){return XE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(t){return decodeURIComponent(t)}function VE(t){return ku(t.replace(/\+/g,"%20"))}function eb(t){return`${Ag(t.path)}${Bk(t.parameters)}`}function Bk(t){return Object.entries(t).map(([e,n])=>`;${Ag(e)}=${Ag(n)}`).join("")}function $k(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nu(n)}=${Nu(i)}`).join("&"):`${Nu(n)}=${Nu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Hk=/^[^\/()?;#]+/;function Eg(t){let e=t.match(Hk);return e?e[0]:""}var zk=/^[^\/()?;=#]+/;function Wk(t){let e=t.match(zk);return e?e[0]:""}var Gk=/^[^=?&#]+/;function qk(t){let e=t.match(Gk);return e?e[0]:""}var Kk=/^[^&#]+/;function Yk(t){let e=t.match(Kk);return e?e[0]:""}var xg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new ae(e,n)),r}parseSegment(){let e=Eg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Ni(ku(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Wk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Eg(this.remaining);i&&(r=i,this.capture(r))}e[ku(n)]=ku(r)}parseQueryParam(e){let n=qk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Yk(this.remaining);s&&(r=s,this.capture(r))}let i=VE(n),o=VE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Eg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function tb(t){return t.segments.length>0?new ae([],{[j]:t}):t}function nb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=nb(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ae(t.segments,e);return Qk(n)}function Qk(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new ae(t.segments.concat(e.segments),e.children)}return t}function Oi(t){return t instanceof rr}function Zk(t,e,n=null,r=null){let i=rb(t);return ib(i,e,n,r)}function rb(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=tb(r);return e??i}function ib(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bg(i,i,i,n,r);let o=Jk(e);if(o.toRoot())return bg(i,i,new ae([],{}),n,r);let s=Xk(o,i,t),a=s.processChildren?ua(s.segmentGroup,s.index,o.commands):sb(s.segmentGroup,s.index,o.commands);return bg(i,s.segmentGroup,a,n,r)}function Fu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fa(t){return typeof t=="object"&&t!=null&&t.outlets}function bg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=ob(t,e,n);let a=tb(nb(s));return new rr(a,o,i)}function ob(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ob(o,e,n)}),new ae(t.segments,r)}var Lu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fu(r[0]))throw new x(4003,!1);let i=r.find(fa);if(i&&i!==KE(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Jk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Lu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Lu(n,e,r)}var Vo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Xk(t,e,n){if(t.isAbsolute)return new Vo(e,!0,0);if(!n)return new Vo(e,!1,NaN);if(n.parent===null)return new Vo(n,!0,0);let r=Fu(t.commands[0])?0:1,i=n.segments.length-1+r;return e1(n,i,t.numberOfDoubleDots)}function e1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Vo(r,!1,i-o)}function t1(t){return fa(t[0])?t[0].outlets:{[j]:t}}function sb(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=n1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ae(t.segments.slice(0,r.pathIndex),{});return o.children[j]=new ae(t.segments.slice(r.pathIndex),t.children),ua(o,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?Ng(t,e,n):r.match?ua(t,0,i):Ng(t,e,n)}function ua(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=t1(n),i={};if(Object.keys(r).some(o=>o!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let o=ua(t.children[j],e,n);return new ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ae(t.segments,i)}}function n1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(fa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!jE(c,l,s))return o;r+=2}else{if(!jE(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(fa(o)){let c=r1(o.outlets);return new ae(r,c)}if(i===0&&Fu(n[0])){let c=t.segments[e];r.push(new Ni(c.path,UE(n[0]))),i++;continue}let s=fa(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Fu(a)?(r.push(new Ni(s,UE(a))),i+=2):(r.push(new Ni(s,{})),i++)}return new ae(r,{})}function r1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ng(new ae([],{}),0,r))}),e}function UE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jE(t,e,n){return t==n.path&&Dn(e,n.parameters)}var da="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},Ho=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mt||{}),Vu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vu||{}),nr=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jr=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},pa=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uu=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lg=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vg=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jg=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ju=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ga=class{},zo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function i1(t,e){return t.providers&&!t._injector&&(t._injector=lu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||j}function o1(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function Ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $g=class{get injector(){return Ea(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ba(this.rootInjector),this.attachRef=null}},ba=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $g(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(N(bt))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zg(e,this._root).map(n=>n.value)}};function Hg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hg(t,n);if(r)return r}return null}function zg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zg(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $u=class extends Bu{constructor(e,n){super(e),this.snapshot=n,Xg(this,e)}toString(){return this.snapshot.toString()}};function ab(t){let e=s1(t),n=new he([new Ni("",{})]),r=new he({}),i=new he({}),o=new he({}),s=new he(""),a=new Ct(n,r,o,s,i,j,t,e.root);return a.snapshot=e.root,new $u(new Tt(a,[]),e)}function s1(t){let e={},n={},r={},i="",o=new Uo([],e,r,i,n,j,t,null,{});return new zu("",new Tt(o,[]))}var Ct=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[wa]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Bo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Bo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&lb(i)&&(r.resolve[wa]=i.title),r}var Uo=class{get title(){return this.data?.[wa]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zu=class extends Bu{constructor(e,n){super(n),this.url=e,Xg(this,n)}toString(){return cb(this._root)}};function Xg(t,e){e.value._routerState=t,e.children.forEach(n=>Xg(t,n))}function cb(t){let e=t.children.length>0?` { ${t.children.map(cb).join(", ")} } `:"";return`${t.value}${e}`}function Dg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dn(e.params,n.params)||t.paramsSubject.next(n.params),Ok(e.url,n.url)||t.urlSubject.next(n.url),Dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wg(t,e){let n=Dn(t.params,e.params)&&Lk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wg(t.parent,e.parent))}function lb(t){return typeof t.title=="string"||t.title===null}var em=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=_(ba),this.location=_(Or),this.changeDetector=_(Fr),this.inputBinder=_(Ku,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Gg(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]});let t=e;return t})(),Gg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ct?this.route:e===ba?this.childContexts:this.parent.get(e,n)}},Ku=new A(""),BE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Rs([i.queryParams,i.params,i.data]).pipe(Rt(([s,a,c],l)=>(c=E(E(E({},s),a),c),l===0?P(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=lE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function a1(t,e,n){let r=ma(t,e._root,n?n._root:void 0);return new $u(r,e)}function ma(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=c1(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ma(t,a)),s}}let r=l1(e.value),i=e.children.map(o=>ma(t,o));return new Tt(r,i)}}function c1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ma(t,r,i);return ma(t,r)})}function l1(t){return new Ct(new he(t.url),new he(t.params),new he(t.queryParams),new he(t.fragment),new he(t.data),t.outlet,t.component,t)}var va=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ub="ngNavigationCancelingError";function Wu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Oi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=db(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function db(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ub]=!0,n.cancellationCode=e,n}function u1(t){return hb(t)&&Oi(t.url)}function hb(t){return!!t&&t[ub]}var d1=(t,e,n,r)=>K(i=>(new qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),qg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ug(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{constructor(e,n){this.component=e,this.route=n}};function h1(t,e,n){let r=t._root,i=e?e._root:null;return ca(r,i,n,[r.value])}function f1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!KC(t)?t:e.get(t):r}function ca(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lo(e);return t.children.forEach(s=>{p1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ha(a,n.getContext(s),i)),i}function p1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=g1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Gu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ca(t,e,a?a.children:null,r,i):ca(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jo(a.outlet.component,s))}else s&&ha(e,a,i),i.canActivateChecks.push(new Gu(r)),o.component?ca(t,null,a?a.children:null,r,i):ca(t,null,n,r,i);return i}function g1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ri(t.url,e.url)||!Dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wg(t,e)||!Dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wg(t,e)}}function ha(t,e,n){let r=Lo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ha(s,e.children.getContext(o),n):ha(s,null,n):ha(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new jo(e.outlet.component,i)):n.canDeactivateChecks.push(new jo(null,i)):n.canDeactivateChecks.push(new jo(null,i))}function Da(t){return typeof t=="function"}function m1(t){return typeof t=="boolean"}function v1(t){return t&&Da(t.canLoad)}function _1(t){return t&&Da(t.canActivate)}function y1(t){return t&&Da(t.canActivateChild)}function C1(t){return t&&Da(t.canDeactivate)}function w1(t){return t&&Da(t.canMatch)}function fb(t){return t instanceof Yt||t?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function Wo(){return Rt(t=>Rs(t.map(e=>e.pipe(Vn(1),Qh(Ru)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===Ru)return Ru;if(n===!1||I1(n))return n}return!0}),Nt(e=>e!==Ru),Vn(1)))}function I1(t){return Oi(t)||t instanceof va}function E1(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?P(W(E({},n),{guardsResult:!0})):b1(s,r,i,t).pipe(Ve(a=>a&&m1(a)?D1(r,o,t,e):P(a)),K(a=>W(E({},n),{guardsResult:a})))})}function b1(t,e,n,r){return be(t).pipe(Ve(i=>x1(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function D1(t,e,n,r){return be(e).pipe(di(i=>uo(T1(i.route.parent,r),S1(i.route,r),A1(t,i.path,n),M1(t,i.route,n))),pn(i=>i!==!0,!0))}function S1(t,e){return t!==null&&e&&e(new jg(t)),P(!0)}function T1(t,e){return t!==null&&e&&e(new Vg(t)),P(!0)}function M1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(o=>al(()=>{let s=Ea(e)??n,a=Go(o,s),c=_1(a)?a.canActivate(e,t):Xt(s,()=>a(e,t));return Br(c).pipe(pn())}));return P(i).pipe(Wo())}function A1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f1(s)).filter(s=>s!==null).map(s=>al(()=>{let a=s.guards.map(c=>{let l=Ea(s.node)??n,u=Go(c,l),d=y1(u)?u.canActivateChild(r,t):Xt(l,()=>u(r,t));return Br(d).pipe(pn())});return P(a).pipe(Wo())}));return P(o).pipe(Wo())}function x1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return P(!0);let s=o.map(a=>{let c=Ea(e)??i,l=Go(a,c),u=C1(l)?l.canDeactivate(t,e,n,r):Xt(c,()=>l(t,e,n,r));return Br(u).pipe(pn())});return P(s).pipe(Wo())}function N1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let o=i.map(s=>{let a=Go(s,t),c=v1(a)?a.canLoad(e,n):Xt(t,()=>a(e,n));return Br(c)});return P(o).pipe(Wo(),pb(r))}function pb(t){return Lh(ze(e=>{if(typeof e!="boolean")throw Wu(t,e)}),K(e=>e===!0))}function R1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let o=i.map(s=>{let a=Go(s,t),c=w1(a)?a.canMatch(e,n):Xt(t,()=>a(e,n));return Br(c)});return P(o).pipe(Wo(),pb(r))}var _a=class{constructor(e){this.segmentGroup=e||null}},ya=class extends Error{constructor(e){super(),this.urlTree=e}};function Fo(t){return co(new _a(t))}function O1(t){return co(new x(4e3,!1))}function P1(t){return co(db(!1,Mt.GuardRejected))}var Kg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[j])return O1(`${e.redirectTo}`);i=i.children[j]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:w}=i,b=Xt(o,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:w}));if(b instanceof rr)throw new ya(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ya(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new rr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k1(t,e,n,r,i){let o=tm(t,e,n);return o.matched?(r=i1(e,r),R1(r,e,n,i).pipe(K(s=>s===!0?o:E({},Yg)))):P(o)}function tm(t,e,n){if(e.path==="**")return F1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Yg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Rk)(n,t,e);if(!i)return E({},Yg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function F1(t){return{matched:!0,parameters:t.length>0?KE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function $E(t,e,n,r){return n.length>0&&U1(t,n,r)?{segmentGroup:new ae(e,V1(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&j1(t,n,r)?{segmentGroup:new ae(t.segments,L1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function L1(t,e,n,r){let i={};for(let o of n)if(Yu(t,e,o)&&!r[on(o)]){let s=new ae([],{});i[on(o)]=s}return E(E({},r),i)}function V1(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&on(r)!==j){let i=new ae([],{});n[on(r)]=i}return n}function U1(t,e,n){return n.some(r=>Yu(t,e,r)&&on(r)!==j)}function j1(t,e,n){return n.some(r=>Yu(t,e,r))}function Yu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function B1(t,e,n,r){return on(t)!==r&&(r===j||!Yu(e,n,t))?!1:tm(e,t,n).matched}function $1(t,e,n){return e.length===0&&!t.children[n]}var Qg=class{};function H1(t,e,n,r,i,o,s="emptyOnly"){return new Zg(t,e,n,r,i,s,o).recognize()}var z1=31,Zg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=$E(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:n,rootSnapshot:r})=>{let i=new Tt(r,n),o=new zu("",i),s=Zk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Uo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,j,n).pipe(K(r=>({children:r,rootSnapshot:n})),_r(r=>{if(r instanceof ya)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(K(s=>s instanceof Tt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(di(s=>{let a=r.children[s],c=o1(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Yh((s,a)=>(s.push(...a),s)),yr(null),Kh(),Ve(s=>{if(s===null)return Fo(r);let a=gb(s);return W1(a),P(a)}))}processSegment(e,n,r,i,o,s,a){return be(n).pipe(di(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(_r(l=>{if(l instanceof _a)return P(null);throw l}))),pn(c=>!!c),_r(c=>{if(fb(c))return $1(r,i,o)?P(new Qg):Fo(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return B1(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Fo(i):Fo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=tm(n,i,o);if(!c)return Fo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>z1&&(this.allowRedirects=!1));let f=new Uo(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,HE(i),on(i),i.component??i._loadedComponent??null,i,zE(i)),g=Hu(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ve(b=>this.processSegment(e,r,n,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=k1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Rt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new Uo(h,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,HE(r),on(r),r.component??r._loadedComponent??null,r,zE(r)),w=Hu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:R}=$E(n,h,f,l);if(R.length===0&&b.hasChildren())return this.processChildren(u,l,b,g).pipe(K(z=>new Tt(g,z)));if(l.length===0&&R.length===0)return P(new Tt(g,[]));let pe=on(r)===o;return this.processSegment(u,l,b,R,pe?j:o,!0,g).pipe(K(z=>new Tt(g,z instanceof Tt?[z]:[])))}))):Fo(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):N1(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):P1(n))):P({routes:[],injector:e})}};function W1(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function G1(t){let e=t.value.routeConfig;return e&&e.path===""}function gb(t){let e=[],n=new Set;for(let r of t){if(!G1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=gb(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function HE(t){return t.data||{}}function zE(t){return t.resolve||{}}function q1(t,e,n,r,i,o){return Ve(s=>H1(t,e,n,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:c})=>W(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function K1(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of mb(c))s.add(l);let a=0;return be(s).pipe(di(c=>o.has(c)?Y1(c,r,t,e):(c.data=Hu(c,c.parent,t).resolve,P(void 0))),ze(()=>a++),ho(1),Ve(c=>a===s.size?P(n):Et))})}function mb(t){let e=t.children.map(n=>mb(n)).flat();return[t,...e]}function Y1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!lb(i)&&(o[wa]=i.title),Q1(o,t,e,r).pipe(K(s=>(t._resolvedData=s,t.data=Hu(t,t.parent,n).resolve,null)))}function Q1(t,e,n,r){let i=Mg(t);if(i.length===0)return P({});let o={};return be(i).pipe(Ve(s=>Z1(t[s],e,n,r).pipe(pn(),ze(a=>{if(a instanceof va)throw Wu(new $o,a);o[s]=a}))),ho(1),qh(o),_r(s=>fb(s)?Et:co(s)))}function Z1(t,e,n,r){let i=Ea(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):Xt(i,()=>o(e,n));return Br(s)}function Sg(t){return Rt(e=>{let n=t(e);return n?be(n).pipe(K(()=>e)):P(e)})}var vb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===j);return i}getResolvedTitleForRoute(r){return r.data[wa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(J1),providedIn:"root"});let t=e;return t})(),J1=(()=>{let e=class e extends vb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(FE))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=new A("",{providedIn:"root",factory:()=>({})}),X1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["ng-component"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(i,o){i&1&&M(0,"router-outlet")},dependencies:[em],encapsulation:2});let t=e;return t})();function nm(t){let e=t.children&&t.children.map(nm),n=e?W(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=X1),n}var Ca=new A(""),rm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(pu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Br(r.loadComponent()).pipe(K(_b),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Os(()=>{this.componentLoaders.delete(r)})),o=new io(i,()=>new Ke).pipe(ro());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=eF(i,this.compiler,r,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(i)})),a=new io(s,()=>new Ke).pipe(ro());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eF(t,e,n,r){return Br(t.loadChildren()).pipe(K(_b),Ve(i=>i instanceof Bs||Array.isArray(i)?P(i):be(e.compileModuleAsync(i))),K(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:s.map(nm),injector:o}}))}function tF(t){return t&&typeof t=="object"&&"default"in t}function _b(t){return tF(t)?t.default:t}var im=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(nF),providedIn:"root"});let t=e;return t})(),nF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yb=new A(""),Cb=new A("");function rF(t,e,n){let r=t.get(Cb),i=t.get(ut);return t.get(ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),iF(t))),{onViewTransitionCreated:c}=r;return c&&Xt(t,()=>c({transition:a,from:e,to:n})),s})}function iF(t){return new Promise(e=>{qp({read:()=>setTimeout(e)},{injector:t})})}var oF=new A(""),om=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=_(rm),this.environmentInjector=_(bt),this.urlSerializer=_(Ia),this.rootContexts=_(ba),this.location=_(ko),this.inputBindingEnabled=_(Ku,{optional:!0})!==null,this.titleStrategy=_(vb),this.options=_(Sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(im),this.createViewTransition=_(yb,{optional:!0}),this.navigationErrorHandler=_(oF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Fg(o)),i=o=>this.events.next(new Lg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(W(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new he({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:da,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nt(s=>s.id!==0),K(s=>W(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Rt(s=>{let a=!1,c=!1;return P(s).pipe(Rt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Mt.SupersededByNewNavigation),Et;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?W(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new jr(l.id,this.urlSerializer.serialize(l.rawUrl),h,Vu.IgnoredSameUrlNavigation)),l.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return P(l).pipe(Rt(h=>{let f=this.transitions?.getValue();return this.events.next(new Ho(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Et:Promise.resolve(h)}),q1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=W(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Uu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:w,extras:b}=l,R=new Ho(h,this.urlSerializer.serialize(f),g,w);this.events.next(R);let pe=ab(this.rootComponentType).snapshot;return this.currentTransition=s=W(E({},l),{targetSnapshot:pe,urlAfterRedirects:f,extras:W(E({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(s)}else{let h="";return this.events.next(new jr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Vu.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Et}}),ze(l=>{let u=new Rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),K(l=>(this.currentTransition=s=W(E({},l),{guards:h1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),E1(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Wu(this.urlSerializer,l.guardsResult);let u=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Nt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Mt.GuardRejected),!1)),Sg(l=>{if(l.guards.canActivateChecks.length)return P(l).pipe(ze(u=>{let d=new Pg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Rt(u=>{let d=!1;return P(u).pipe(K1(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Mt.NoDataFromResolver)}}))}),ze(u=>{let d=new kg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Sg(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ze(f=>{d.component=f}),K(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Rs(u(l.targetSnapshot.root)).pipe(yr(null),Vn(1))}),Sg(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?be(d).pipe(K(()=>s)):P(s)}),K(l=>{let u=a1(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=W(E({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ze(()=>{this.events.next(new ga)}),d1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Vn(1),ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Zh(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),Os(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_r(l=>{if(c=!0,hb(l))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),u1(l)?this.events.next(new zo(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new pa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof va){let{message:h,cancellationCode:f}=Wu(this.urlSerializer,d);this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),h,f)),this.events.next(new zo(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(l);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Et}))}))}cancelNavigationTransition(r,i,o){let s=new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sF(t){return t!==da}var aF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(cF),providedIn:"root"});let t=e;return t})(),Jg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cF=(()=>{let e=class e extends Jg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=No(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(lF),providedIn:"root"});let t=e;return t})(),lF=(()=>{let e=class e extends wb{constructor(){super(...arguments),this.location=_(ko),this.urlSerializer=_(Ia),this.options=_(Sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(im),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ab(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ho)this.stateMemento=this.createStateMemento();else if(r instanceof jr)this.rawUrlTree=i.initialUrl;else if(r instanceof Uu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof ga?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof nr&&(r.code===Mt.GuardRejected||r.code===Mt.NoDataFromResolver)?this.restoreHistory(i):r instanceof pa?this.restoreHistory(i,!0):r instanceof Sn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof rr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=No(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(la||{});function Ib(t,e){t.events.pipe(Nt(n=>n instanceof Sn||n instanceof nr||n instanceof pa||n instanceof jr),K(n=>n instanceof Sn||n instanceof jr?la.COMPLETE:(n instanceof nr?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?la.REDIRECTING:la.FAILED),Nt(n=>n!==la.REDIRECTING),Vn(1)).subscribe(()=>{e()})}function uF(t){throw t}var dF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_e=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(du),this.stateManager=_(wb),this.options=_(Sa,{optional:!0})||{},this.pendingTasks=_(Ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(om),this.urlSerializer=_(Ia),this.location=_(ko),this.urlHandlingStrategy=_(im),this._events=new Ke,this.errorHandler=this.options.errorHandler||uF,this.navigated=!1,this.routeReuseStrategy=_(aF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Ku,{optional:!0}),this.eventsSubscription=new De,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof nr&&i.code!==Mt.Redirect&&i.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Sn)this.navigated=!0;else if(i instanceof zo){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=E({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sF(o.source)},a);this.scheduleNavigation(c,da,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}pF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=E({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=rb(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return ib(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Oi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,da,null,i)}navigate(r,i={skipLocationChange:!1}){return fF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=E({},dF):i===!1?o=E({},hF):o=i,Oi(r))return LE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return LE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return Ib(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function pF(t){return!(t instanceof ga)&&!(t instanceof zo)}var Eb=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new Ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:cI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:Oi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(S(_e),S(Ct),Sp("tabindex"),S(Rr),S(Lt),S(er))},e.\u0275dir=Ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&H("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ys("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lr],replaceUrl:[2,"replaceUrl","replaceUrl",Lr],routerLink:"routerLink"},standalone:!0,features:[Qp,wn]});let t=e;return t})();var qu=class{};var gF=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(r=>r instanceof Sn),di(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=lu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return be(o).pipe(lo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=P(null);let s=o.pipe(Ve(a=>a===null?P(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return be([s,a]).pipe(lo())}else return s})}};e.\u0275fac=function(i){return new(i||e)(N(_e),N(pu),N(bt),N(qu),N(rm))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bb=new A(""),mF=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Sn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof jr&&r.code===Vu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ju&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ju(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){CI()},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function Db(t,...e){return Jt([{provide:Ca,multi:!0,useValue:t},[],{provide:Ct,useFactory:Sb,deps:[_e]},{provide:fu,multi:!0,useFactory:Tb},e.map(n=>n.\u0275providers)])}function Sb(t){return t.routerState.root}function Ta(t,e){return{\u0275kind:t,\u0275providers:e}}function Tb(){let t=_(We);return e=>{let n=t.get(xi);if(e!==n.components[0])return;let r=t.get(_e),i=t.get(Mb);t.get(sm)===1&&r.initialNavigation(),t.get(Ab,null,B.Optional)?.setUpPreloading(),t.get(bb,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Mb=new A("",{factory:()=>new Ke}),sm=new A("",{providedIn:"root",factory:()=>1});function vF(){return Ta(2,[{provide:sm,useValue:0},{provide:hu,multi:!0,deps:[We],useFactory:e=>{let n=e.get(_E,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(_e),o=e.get(Mb);Ib(i,()=>{r(!0)}),e.get(om).afterPreactivation=()=>(r(!0),o.closed?P(void 0):o),i.initialNavigation()}))}}])}function _F(){return Ta(3,[{provide:hu,multi:!0,useFactory:()=>{let e=_(_e);return()=>{e.setUpLocationChangeListener()}}},{provide:sm,useValue:2}])}var Ab=new A("");function yF(t){return Ta(0,[{provide:Ab,useExisting:gF},{provide:qu,useExisting:t}])}function CF(){return Ta(8,[BE,{provide:Ku,useExisting:BE}])}function wF(t){let e=[{provide:yb,useValue:rF},{provide:Cb,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ta(9,e)}var WE=new A("ROUTER_FORROOT_GUARD"),IF=[ko,{provide:Ia,useClass:$o},_e,ba,{provide:Ct,useFactory:Sb,deps:[_e]},rm,[]],xb=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[IF,[],{provide:Ca,multi:!0,useValue:r},{provide:WE,useFactory:SF,deps:[[_e,new Oe,new up]]},{provide:Sa,useValue:i||{}},i?.useHash?bF():DF(),EF(),i?.preloadingStrategy?yF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?TF(i):[],i?.bindToComponentInputs?CF().\u0275providers:[],i?.enableViewTransitions?wF().\u0275providers:[],MF()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ca,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(WE,8))},e.\u0275mod=Ar({type:e}),e.\u0275inj=Mr({});let t=e;return t})();function EF(){return{provide:bb,useFactory:()=>{let t=_(TE),e=_(ie),n=_(Sa),r=_(om),i=_(Ia);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mF(i,r,t,e,n)}}}function bF(){return{provide:er,useClass:CE}}function DF(){return{provide:er,useClass:pg}}function SF(t){return"guarded"}function TF(t){return[t.initialNavigation==="disabled"?_F().\u0275providers:[],t.initialNavigation==="enabledBlocking"?vF().\u0275providers:[]]}var GE=new A("");function MF(){return[{provide:GE,useFactory:Tb},{provide:fu,multi:!0,useExisting:GE}]}var Nb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-root"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(i,o){i&1&&M(0,"router-outlet")},dependencies:[em],encapsulation:2});let t=e;return t})();var Rb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-chatai"]],standalone:!0,features:[ne],decls:47,vars:0,consts:[[1,"space-between"],[1,"to-the-right"],["id","left-right"],["id","left"],[1,"chat"],[1,"response"],[1,"chat-ai-button"],[1,"arrow-icon"],["id","right"],["id","top"],["src","pencil-square.svg",1,"icon"],["id","middle"],["src","hand-thumb-up.svg",1,"icon"],["src","hand-thumb-down.svg",1,"icon"],["src","clipboard-document-list.svg",1,"icon"],["id","bottom"],["src","ellipsis-vertical.svg",1,"icon"],[1,"text-field"],["src","face-smile.svg",1,"icon"],["type","text","placeholder","Reply ...","disabled",""],["src","photo.svg",1,"icon"],["src","arrow-right-circle.svg",1,"icon"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"header")(2,"h4"),C(3,"CHAT A.I+"),v(),m(4,"h2"),C(5,"Learn, Discover &"),v(),m(6,"div",1)(7,"h2"),C(8,"Automate in One Place."),v()()(),m(9,"main")(10,"div",2)(11,"div",3)(12,"section",4)(13,"h3"),C(14," Create a chatbot GPT using Python language what will be step for that "),v(),m(15,"div",5)(16,"button",6),C(17," CHAT A.I+ "),m(18,"span",7),C(19,"\u27A4"),v()(),m(20,"p"),C(21," Sure, I can help you get started with creating a chatbot using GPT in Python. Here are the basic steps you'll need to follow: "),v(),m(22,"ol")(23,"li")(24,"strong"),C(25,"Install the required libraries:"),v(),C(26," You'll need to install the transformers library from Hugging Face to use GPT. You can install it using pip. "),v(),m(27,"li")(28,"strong"),C(29,"Load the pre-trained model:"),v(),C(30," GPT comes in several sizes and versions, so you'll need to choose the one that fits your needs. You can load a pre-trained GPT model. This... "),v()(),m(31,"p"),C(32," These are just the basic steps to get started with a GPT chatbot in Python. Depending on your requirements, you may need to add more features or complexity to the chatbot. Good luck! "),v()()()(),m(33,"div",8)(34,"div",9),M(35,"img",10),v(),m(36,"div",11),M(37,"img",12)(38,"img",13)(39,"img",14),v(),m(40,"div",15),M(41,"img",16),v()()(),m(42,"div",17),M(43,"img",18)(44,"input",19)(45,"img",20)(46,"img",21),v()()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:-1;box-sizing:border-box}.space-between[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between}main[_ngcontent-%COMP%]{height:70%}[_nghost-%COMP%]{box-sizing:border-box;padding:20px;height:100%;display:flex;flex-direction:column;background:linear-gradient(140deg,#5d6af1 50%,#9198e5 65%,#e66465 90%);color:#fff;max-height:100vh}.to-the-right[_ngcontent-%COMP%]{margin-left:60px}.icon[_ngcontent-%COMP%]{filter:invert(1)}.container[_ngcontent-%COMP%]{box-sizing:border-box;padding:72px;height:100%;width:100%;gap:40px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3vw;letter-spacing:2px}#left-right[_ngcontent-%COMP%]{display:flex}#left[_ngcontent-%COMP%]{max-width:90%}#right[_ngcontent-%COMP%]{display:flex;flex-direction:column}#top[_ngcontent-%COMP%]{margin-top:2.9vh}#middle[_ngcontent-%COMP%]{margin-top:4vh;display:flex;justify-content:space-between;flex-direction:column}#bottom[_ngcontent-%COMP%]{margin-top:3vh}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.7vw;font-weight:30vw}.chat[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px;border-radius:15px;text-align:left}.chat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7vw;font-weight:600}.response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{line-height:2;font-size:20px}.response[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f0f0f0}.text-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;color:#fff;font-size:2em;cursor:not-allowed}.chat-ai-button[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#6a63ff;color:#fff;border:none;border-radius:2vw;padding:.5vw 1vw;font-size:1vw;font-weight:700;display:flex;align-items:center;gap:.3vw;cursor:pointer;outline:none;box-shadow:0 .1vw .2vw #00000026;transition:background-color .3s ease,transform .2s ease}.arrow-icon[_ngcontent-%COMP%]{font-size:1vw}.text-field[_ngcontent-%COMP%]{margin-left:2.9vw;max-width:80%;display:flex;align-items:center;background:#fefefe33;color:#fff;border-radius:2vw;padding:.5vw}.text-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.text-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;color:#fff;font-size:1em;outline:none;cursor:not-allowed;text-align:left;padding-left:.7vw}@media only screen and (max-width: 1300px){.response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .response[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{line-height:2;font-size:12px}}"]});let t=e;return t})();var qo=(()=>{let e=class e{constructor(){this.statusSubject=new he("signUp"),this.status$=this.statusSubject.asObservable()}setStatus(r){this.statusSubject.next(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S(Rr),S(Lt))},e.\u0275dir=Ye({type:e});let t=e;return t})(),AF=(()=>{let e=class e extends Bb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=No(e)))(o||e)}})(),e.\u0275dir=Ye({type:e,features:[Gn]});let t=e;return t})(),$b=new A("");var xF={provide:$b,useExisting:Si(()=>$r),multi:!0};function NF(){let t=Xn()?Xn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var RF=new A(""),$r=(()=>{let e=class e extends Bb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!NF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S(Rr),S(Lt),S(RF,8))},e.\u0275dir=Ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&H("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Xs([xF]),Gn]});let t=e;return t})();function OF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var cm=new A(""),Hb=new A("");function PF(t){return OF(t.value)?{required:!0}:null}function Ob(t){return null}function zb(t){return t!=null}function Wb(t){return kr(t)?be(t):t}function Gb(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function qb(t,e){return e.map(n=>n(t))}function kF(t){return!t.validate}function Kb(t){return t.map(e=>kF(e)?e:n=>e.validate(n))}function FF(t){if(!t)return null;let e=t.filter(zb);return e.length==0?null:function(n){return Gb(qb(n,e))}}function lm(t){return t!=null?FF(Kb(t)):null}function LF(t){if(!t)return null;let e=t.filter(zb);return e.length==0?null:function(n){let r=qb(n,e).map(Wb);return Gh(r).pipe(K(Gb))}}function um(t){return t!=null?LF(Kb(t)):null}function Pb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function VF(t){return t._rawValidators}function UF(t){return t._rawAsyncValidators}function am(t){return t?Array.isArray(t)?t:[t]:[]}function Zu(t,e){return Array.isArray(t)?t.includes(e):t===e}function kb(t,e){let n=am(e);return am(t).forEach(i=>{Zu(n,i)||n.push(i)}),n}function Fb(t,e){return am(e).filter(n=>!Zu(t,n))}var Ju=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=um(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qo=class extends Ju{get formDirective(){return null}get path(){return null}},Oa=class extends Ju{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z5=W(E({},jF),{"[class.ng-submitted]":"isSubmitted"}),Jo=(()=>{let e=class e extends Xu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(Oa,2))},e.\u0275dir=Ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Pr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Gn]});let t=e;return t})(),rd=(()=>{let e=class e extends Xu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(Qo,10))},e.\u0275dir=Ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Pr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Gn]});let t=e;return t})();var Ma="VALID",Qu="INVALID",Ko="PENDING",Aa="DISABLED",Zo=class{},ed=class extends Zo{constructor(e,n){super(),this.value=e,this.source=n}},Na=class extends Zo{constructor(e,n){super(),this.pristine=e,this.source=n}},Ra=class extends Zo{constructor(e,n){super(),this.touched=e,this.source=n}},Yo=class extends Zo{constructor(e,n){super(),this.status=e,this.source=n}};function Yb(t){return(id(t)?t.validators:t)||null}function BF(t){return Array.isArray(t)?lm(t):t||null}function Qb(t,e){return(id(e)?e.asyncValidators:t)||null}function $F(t){return Array.isArray(t)?um(t):t||null}function id(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function HF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function zF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new x(1002,"")})}var td=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=na(()=>this.statusReactive()),this.statusReactive=Ks(void 0),this._pristine=na(()=>this.pristineReactive()),this.pristineReactive=Ks(!0),this._touched=na(()=>this.touchedReactive()),this.touchedReactive=Ks(!1),this._events=new Ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nn(this.statusReactive)}set status(e){nn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ma}get invalid(){return this.status===Qu}get pending(){return this.status==Ko}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get pristine(){return nn(this.pristineReactive)}set pristine(e){nn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return nn(this.touchedReactive)}set touched(e){nn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fb(e,this._rawAsyncValidators))}hasValidator(e){return Zu(this._rawValidators,e)}hasAsyncValidator(e){return Zu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ra(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ra(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAsPending(e={}){this.status=Ko;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(E({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(i=>{i.disable(W(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,r)),this._events.next(new Yo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable(W(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===Ko)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ed(this.value,n)),this._events.next(new Yo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(E({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Wb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?Qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ko)?Ko:this._anyControlsHaveStatus(Qu)?Qu:Ma}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Na(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ra(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){id(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=BF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$F(this._rawAsyncValidators)}},nd=class extends td{constructor(e,n,r){super(Yb(n),Qb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){zF(this,!0,e),Object.keys(e).forEach(r=>{HF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dm=new A("CallSetDisabledState",{providedIn:"root",factory:()=>hm}),hm="always";function WF(t,e){return[...e.path,t]}function Zb(t,e,n=hm){Jb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qF(t,e),YF(t,e),KF(t,e),GF(t,e)}function Lb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jb(t,e){let n=VF(t);e.validator!==null?t.setValidators(Pb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=UF(t);e.asyncValidator!==null?t.setAsyncValidators(Pb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Lb(e._rawValidators,i),Lb(e._rawAsyncValidators,i)}function qF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Xb(t,e)})}function KF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Xb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Xb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QF(t,e){t==null,Jb(t,e)}function ZF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function JF(t){return Object.getPrototypeOf(t.constructor)===AF}function XF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$r?n=o:JF(o)?r=o:i=o}),i||r||n||null}var tL={provide:Qo,useExisting:Si(()=>Pa)},xa=Promise.resolve(),Pa=(()=>{let e=class e extends Qo{get submitted(){return nn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=na(()=>this.submittedReactive()),this.submittedReactive=Ks(!1),this._directives=new Set,this.ngSubmit=new ye,this.form=new nd({},lm(r),um(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Zb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path),o=new nd({});QF(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),XF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(S(cm,10),S(Hb,10),S(dm,8))},e.\u0275dir=Ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&H("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xs([tL]),Gn]});let t=e;return t})();function Vb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ub(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nL=class extends td{constructor(e=null,n,r){super(Yb(n),Qb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ub(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ub(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rL={provide:Oa,useExisting:Si(()=>ki)},jb=Promise.resolve(),ki=(()=>{let e=class e extends Oa{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new nL,this._registered=!1,this.name="",this.update=new ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=eL(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),ZF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){jb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Lr(i);jb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?WF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(Qo,9),S(cm,10),S(Hb,10),S($b,10),S(Fr,8),S(dm,8))},e.\u0275dir=Ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xs([rL]),Gn,wn]});let t=e;return t})(),od=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var iL=(()=>{let e=class e{constructor(){this._validator=Ob}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ob,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,features:[wn]});let t=e;return t})();var oL={provide:cm,useExisting:Si(()=>ka),multi:!0};var ka=(()=>{let e=class e extends iL{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Lr,this.createValidator=r=>PF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=No(e)))(o||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Ys("required",o._enabled?"":null)},inputs:{required:"required"},features:[Xs([oL]),Gn]});let t=e;return t})();var sL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ar({type:e}),e.\u0275inj=Mr({});let t=e;return t})();var Hr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:dm,useValue:r.callSetDisabledState??hm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ar({type:e}),e.\u0275inj=Mr({imports:[sL]});let t=e;return t})();var gm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,e){if(!t)throw Fi(e)},Fi=function(t){return new Error("Firebase Database ("+gm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var t0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new mm;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_m=function(t){let e=t0(t);return ad.encodeByteArray(e,!0)},Fa=function(t){return _m(t).replace(/\./g,"")},La=function(t){try{return ad.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n0(t){return r0(void 0,t)}function r0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!cL(n)||(t[n]=r0(t[n],e[n]));return t}function cL(t){return t!=="__proto__"}function lL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uL=()=>lL().__FIREBASE_DEFAULTS__,dL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&La(t[1]);return e&&JSON.parse(e)},ym=()=>{try{return uL()||dL()||hL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cm=t=>{var e,n;return(n=(e=ym())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cd=t=>{let e=Cm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wm=()=>{var t;return(t=ym())===null||t===void 0?void 0:t.config},Im=t=>{var e;return(e=ym())===null||e===void 0?void 0:e[`_${t}`]};var ir=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ld(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fa(JSON.stringify(n)),Fa(JSON.stringify(s)),""].join(".")}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Va(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function i0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ud(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o0(){let t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tn(){return gm.NODE_CLIENT===!0||gm.NODE_ADMIN===!0}function s0(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var fL="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}},or=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new At(i,a,r)}};function pL(t,e){return t.replace(gL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gL=/\{\$([^}]+)}/g;function Xo(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}var c0=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Xo(La(o[0])||""),n=Xo(La(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var l0=function(t){let e=c0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u0=function(t){let e=c0(t).claims;return typeof e=="object"&&e.admin===!0};function sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Li(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ua(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ja(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function es(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(e0(o)&&e0(s)){if(!es(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}function zr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ts(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ns(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var sd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function d0(t,e){let n=new vm(t,e);return n.subscribe.bind(n)}var vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pm),i.error===void 0&&(i.error=pm),i.complete===void 0&&(i.complete=pm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}function Ba(t,e){return`${t} failed: ${e} argument `}var h0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$a=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var q5=4*60*60*1e3;function ke(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vi="[DEFAULT]";var dd=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ir;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_L(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vL(t){return t===Vi?void 0:t}function _L(t){return t.instantiationMode==="EAGER"}var Ha=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dd(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yL=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),CL={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},wL=de.INFO,IL={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},EL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wr=class{constructor(e){this.name=e,this._logLevel=wL,this._logHandler=EL,this._userLogHandler=null,yL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var bL=(t,e)=>e.some(n=>t instanceof n),f0,p0;function DL(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SL(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g0=new WeakMap,bm=new WeakMap,m0=new WeakMap,Em=new WeakMap,Sm=new WeakMap;function TL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&g0.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function ML(t){if(bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});bm.set(t,e)}var Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v0(t){Dm=t(Dm)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hd(this),e,...n);return m0.set(r,e.sort?e.sort():[e]),Mn(r)}:SL().includes(t)?function(...e){return t.apply(hd(this),e),Mn(g0.get(this))}:function(...e){return Mn(t.apply(hd(this),e))}}function xL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&ML(t),bL(t,DL())?new Proxy(t,Dm):t)}function Mn(t){if(t instanceof IDBRequest)return TL(t);if(Em.has(t))return Em.get(t);let e=xL(t);return e!==t&&(Em.set(t,e),Sm.set(e,t)),e}var hd=t=>Sm.get(t);function y0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Mn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Mn(s.result),c.oldVersion,c.newVersion,Mn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var NL=["get","getKey","getAll","getAllKeys","count"],RL=["put","add","delete","clear"],Tm=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NL.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Tm.set(e,o),o}v0(t=>W(E({},t),{get:(e,n,r)=>_0(e,n)||t.get(e,n,r),has:(e,n)=>!!_0(e,n)||t.has(e,n)}));var Am=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function OL(t){let e=t.getComponent();return e?.type==="VERSION"}var xm="@firebase/app",C0="0.10.9";var sr=new Wr("@firebase/app"),PL="@firebase/app-compat",kL="@firebase/analytics-compat",FL="@firebase/analytics",LL="@firebase/app-check-compat",VL="@firebase/app-check",UL="@firebase/auth",jL="@firebase/auth-compat",BL="@firebase/database",$L="@firebase/database-compat",HL="@firebase/functions",zL="@firebase/functions-compat",WL="@firebase/installations",GL="@firebase/installations-compat",qL="@firebase/messaging",KL="@firebase/messaging-compat",YL="@firebase/performance",QL="@firebase/performance-compat",ZL="@firebase/remote-config",JL="@firebase/remote-config-compat",XL="@firebase/storage",eV="@firebase/storage-compat",tV="@firebase/firestore",nV="@firebase/vertexai-preview",rV="@firebase/firestore-compat",iV="firebase",oV="10.13.0";var Nm="[DEFAULT]",sV={[xm]:"fire-core",[PL]:"fire-core-compat",[FL]:"fire-analytics",[kL]:"fire-analytics-compat",[VL]:"fire-app-check",[LL]:"fire-app-check-compat",[UL]:"fire-auth",[jL]:"fire-auth-compat",[BL]:"fire-rtdb",[$L]:"fire-rtdb-compat",[HL]:"fire-fn",[zL]:"fire-fn-compat",[WL]:"fire-iid",[GL]:"fire-iid-compat",[qL]:"fire-fcm",[KL]:"fire-fcm-compat",[YL]:"fire-perf",[QL]:"fire-perf-compat",[ZL]:"fire-rc",[JL]:"fire-rc-compat",[XL]:"fire-gcs",[eV]:"fire-gcs-compat",[tV]:"fire-fst",[rV]:"fire-fst-compat",[nV]:"fire-vertex","fire-js":"fire-js",[iV]:"fire-js-all"};var za=new Map,aV=new Map,Rm=new Map;function w0(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function An(t){let e=t.name;if(Rm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,t);for(let n of za.values())w0(n,t);for(let n of aV.values())w0(n,t);return!0}function Ui(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bt(t){return t.settings!==void 0}var cV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new or("app","Firebase",cV);var Om=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};var xn=oV;function Fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=wm()),!n)throw Gr.create("no-options");let o=za.get(i);if(o){if(es(n,o.options)&&es(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}let s=new Ha(i);for(let c of Rm.values())s.addComponent(c);let a=new Om(n,r,s);return za.set(i,a),a}function qr(t=Nm){let e=za.get(t);if(!e&&t===Nm&&wm())return Fm();if(!e)throw Gr.create("no-app",{appName:t});return e}function fd(){return Array.from(za.values())}function Ee(t,e,n){var r;let i=(r=sV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}An(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lV="firebase-heartbeat-database",uV=1,Wa="firebase-heartbeat-store",Mm=null;function D0(){return Mm||(Mm=y0(lV,uV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Mm}function dV(t){return p(this,null,function*(){try{let n=(yield D0()).transaction(Wa),r=yield n.objectStore(Wa).get(S0(t));return yield n.done,r}catch(e){if(e instanceof At)sr.warn(e.message);else{let n=Gr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}})}function I0(t,e){return p(this,null,function*(){try{let r=(yield D0()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,S0(t)),yield r.done}catch(n){if(n instanceof At)sr.warn(n.message);else{let r=Gr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(r.message)}}})}function S0(t){return`${t.name}!${t.options.appId}`}var hV=1024,fV=30*24*60*60*1e3,Pm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new km(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n,r;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=fV}),this._storage.overwrite(this._heartbeatsCache))}catch(i){sr.warn(i)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=E0(),{heartbeatsToSend:r,unsentEntries:i}=pV(this._heartbeatsCache.heartbeats),o=Fa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sr.warn(n),""}})}};function E0(){return new Date().toISOString().substring(0,10)}function pV(t,e=hV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),b0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var km=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return s0()?a0().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function b0(t){return Fa(JSON.stringify({version:2,heartbeats:t})).length}function gV(t){An(new wt("platform-logger",e=>new Am(e),"PRIVATE")),An(new wt("heartbeat",e=>new Pm(e),"PRIVATE")),Ee(xm,C0,t),Ee(xm,C0,"esm2017"),Ee("fire-js","")}gV("");var mV="firebase",vV="10.13.0";Ee(mV,vV,"app");var ar=new Hn("ANGULARFIRE2_VERSION");function is(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bi=(t,e)=>{let n=e?[e]:fd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Kr=class{constructor(){return Bi(_V)}},_V="app-check";function rs(){}var pd=class{zone;delegate;constructor(e,n=Hh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Lm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),n.pipe(ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Yr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pd(Zone.current)),this.insideAngular=n.run(()=>new pd(Zone.current,$h)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(N(ie))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function yV(t){return gd().ngZone.runOutsideAngular(()=>t())}function ji(t){return gd().ngZone.run(()=>t())}function CV(t){return wV(gd())(t)}function wV(t){return function(n){return n=n.lift(new Lm(t.ngZone)),n.pipe(vr(t.outsideAngular),mr(t.insideAngular))}}var IV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ji(()=>t.apply(void 0,r))},Ae=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),r[o]=IV(r[o],n));let i=yV(()=>t.apply(this,r));if(!e)if(i instanceof U){let o=gd();return i.pipe(vr(o.outsideAngular),mr(o.insideAngular))}else return ji(()=>i);return i instanceof U?i.pipe(CV):i instanceof Promise?ji(()=>new Promise((o,s)=>i.then(a=>ji(()=>o(a)),a=>ji(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ji(()=>i)};var an=class{constructor(e){return e}},cr=class{constructor(){return fd()}};function EV(t){return t&&t.length===1?t[0]:new an(qr())}var Vm=new A("angularfire2._apps"),bV={provide:an,useFactory:EV,deps:[[new Oe,Vm]]},DV={provide:cr,deps:[[new Oe,Vm]]};function SV(t){return(e,n)=>{let r=n.get(In);Ee("angularfire",ar.full,"core"),Ee("angularfire",ar.full,"app"),Ee("angular",rE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new an(i)}}function T0(t,...e){return Jt([bV,DV,{provide:Vm,useFactory:SV(t),multi:!0,deps:[ie,We,Yr,...e]}])}var M0=Ae(Fm,!0);function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var G0=W0,q0=new or("auth","Firebase",W0());var wd=new Wr("@firebase/auth");function TV(t,...e){wd.logLevel<=de.WARN&&wd.warn(`Auth (${xn}): ${t}`,...e)}function vd(t,...e){wd.logLevel<=de.ERROR&&wd.error(`Auth (${xn}): ${t}`,...e)}function $t(t,...e){throw ov(t,...e)}function cn(t,...e){return ov(t,...e)}function iv(t,e,n){let r=Object.assign(Object.assign({},G0()),{[e]:n});return new or("auth","Firebase",r).create(e,{appName:t.name})}function dr(t){return iv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MV(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$t(t,"argument-error"),iv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ov(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q0.create(t,...e)}function O(t,e,...n){if(!t)throw ov(e,...n)}function lr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function hr(t,e){t||lr(e)}function Bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AV(){return A0()==="http:"||A0()==="https:"}function A0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function xV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||i0()||"connection"in navigator)?navigator.onLine:!0}function NV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=Va()||ud()}get(){return xV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sv(t,e){hr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Id=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OV=new $i(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Jr(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return K0(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=zr(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Id.fetch()(Y0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function K0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},RV),e);try{let i=new $m(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw md(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw md(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw md(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iv(t,u,l);$t(t,u)}}catch(i){if(i instanceof At)throw i;$t(t,"network-request-failed",{message:String(i)})}})}function Xa(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield Jr(t,e,n,r,i);return"mfaPendingCredential"in l&&$t(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Y0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sv(t.config,i):`${t.config.apiScheme}://${i}`}function PV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $m=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),OV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function md(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=cn(t,e,r);return i.customData._tokenResponse=n,i}function x0(t){return t!==void 0&&t.enterprise!==void 0}var Hm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function kV(t,e){return p(this,null,function*(){return Jr(t,"GET","/v2/recaptchaConfig",Zr(t,e))})}function FV(t,e){return p(this,null,function*(){return Jr(t,"POST","/v1/accounts:delete",e)})}function Q0(t,e){return p(this,null,function*(){return Jr(t,"POST","/v1/accounts:lookup",e)})}function Ga(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function av(t,e=!1){return p(this,null,function*(){let n=ke(t),r=yield n.getIdToken(e),i=cv(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ga(Um(i.auth_time)),issuedAtTime:Ga(Um(i.iat)),expirationTime:Ga(Um(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Um(t){return Number(t)*1e3}function cv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let i=La(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function N0(t){let e=cv(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ka(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&LV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function LV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var zm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ya=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ed(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ka(t,Q0(n,{idToken:r}));O(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Z0(o.providerUserInfo):[],a=VV(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ya(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function lv(t){return p(this,null,function*(){let e=ke(t);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z0(t){return t.map(e=>{var{providerId:n}=e,r=qc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function UV(t,e){return p(this,null,function*(){let n=yield K0(t,{},()=>p(this,null,function*(){let r=zr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Y0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Id.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function jV(t,e){return p(this,null,function*(){return Jr(t,"POST","/v2/accounts:revokeToken",Zr(t,e))})}var qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){O(e.length!==0,"internal-error");let n=N0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield UV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(O(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(O(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return lr("not implemented")}};function Qr(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ss=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ya(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Ka(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return av(this,e)}reload(){return lv(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ed(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Bt(this.auth.app))return Promise.reject(dr(this.auth));let e=yield this.getIdToken();return yield Ka(this,FV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(l=n.createdAt)!==null&&l!==void 0?l:void 0,pe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:z,emailVerified:le,isAnonymous:pt,providerData:$e,stsTokenManager:qt}=n;O(z&&qt,e,"internal-error");let Fn=qa.fromJSON(this.name,qt);O(typeof z=="string",e,"internal-error"),Qr(d,e.name),Qr(h,e.name),O(typeof le=="boolean",e,"internal-error"),O(typeof pt=="boolean",e,"internal-error"),Qr(f,e.name),Qr(g,e.name),Qr(w,e.name),Qr(b,e.name),Qr(R,e.name),Qr(pe,e.name);let Ts=new t({uid:z,auth:e,email:h,emailVerified:le,displayName:d,isAnonymous:pt,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:Fn,createdAt:R,lastLoginAt:pe});return $e&&Array.isArray($e)&&(Ts.providerData=$e.map(bh=>Object.assign({},bh))),b&&(Ts._redirectEventId=b),Ts}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new qa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];O(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Z0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new qa;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ya(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var R0=new Map;function ur(t){hr(t instanceof Function,"Expected a class definition");let e=R0.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R0.set(t,e),e)}var BV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wm=BV;function _d(t,e,n){return`firebase:${t}:${e}:${n}`}var bd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(ur(Wm),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ur(Wm),s=_d(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=ss._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function O0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J0(t=it()){return/firefox\//i.test(t)}function X0(t=it()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=it()){return/crios\//i.test(t)}function tD(t=it()){return/iemobile/i.test(t)}function nD(t=it()){return/android/i.test(t)}function rD(t=it()){return/blackberry/i.test(t)}function iD(t=it()){return/webos/i.test(t)}function uv(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $V(t=it()){var e;return uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HV(){return o0()&&document.documentMode===10}function oD(t=it()){return uv(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}function sD(t,e=[]){let n;switch(t){case"Browser":n=O0(it());break;case"Worker":n=`${O0(it())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xn}/${r}`}var Gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function zV(n){return p(this,arguments,function*(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",Zr(t,e))})}var WV=6,qm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:WV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Km=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new Gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield Q0(this,{idToken:e}),r=yield ss._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(Bt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NV()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Bt(this.app))return Promise.reject(dr(this));let n=e?ke(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Bt(this.app)?Promise.reject(dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bt(this.app)?Promise.reject(dr(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield zV(this),n=new qm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield jV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=yield bd.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&TV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xr(t){return ke(t)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=d0(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Pd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GV(t){Pd=t}function aD(t){return Pd.loadJS(t)}function qV(){return Pd.recaptchaEnterpriseScript}function KV(){return Pd.gapiScript}function cD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var YV="recaptcha-enterprise",QV="NO_RECAPTCHA",Ym=class{constructor(e){this.type=YV,this.auth=Xr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){kV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Hm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;x0(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(QV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&x0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=qV();c.length!==0&&(c+=a),aD(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function P0(t,e,n,r=!1){return p(this,null,function*(){let i=new Ym(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Qm(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield P0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>p(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield P0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function dv(t,e){let n=Ui(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(es(o,e??{}))return i;$t(i,"already-initialized")}return n.initialize({options:e})}function ZV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hv(t,e,n){let r=Xr(t);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=lD(e),{host:s,port:a}=JV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XV()}function lD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JV(t){let e=lD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:k0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:k0(s)}}}function k0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function XV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var as=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function eU(t,e){return p(this,null,function*(){return Jr(t,"POST","/v1/accounts:signUp",e)})}function tU(t,e){return p(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))})}function nU(t,e){return p(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))})}function rU(t,e){return p(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))})}var Qa=class t extends as{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",tU);case"emailLink":return nU(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,r,"signUpPassword",eU);case"emailLink":return rU(e,{idToken:n,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function os(t,e){return p(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))})}var iU="http://localhost",Sd=class t extends as{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$t("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=qc(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return os(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,os(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,os(e,n)}buildRequest(){let e={requestUri:iU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zr(n)}return e}};function oU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sU(t){let e=ts(ns(t)).link,n=e?ts(ns(e)).deep_link_id:null,r=ts(ns(t)).deep_link_id;return(r?ts(ns(r)).link:null)||r||n||e||t}var Td=class t{constructor(e){var n,r,i,o,s,a;let c=ts(ns(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=oU((i=c.mode)!==null&&i!==void 0?i:null);O(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=sU(e);try{return new t(n)}catch{return null}}};var uD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Td.parseLink(r);return O(i,"argument-error"),Qa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Za=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Md=class extends Za{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var fv=(()=>{class t extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Sd._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function aU(t,e){return p(this,null,function*(){return Xa(t,"POST","/v1/accounts:signUp",Zr(t,e))})}var cs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield ss._fromIdTokenResponse(e,r,i),s=F0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=F0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function F0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zm=class t extends At{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zm._fromErrorAndOperation(t,o,e,r):o})}function cU(t,e,n=!1){return p(this,null,function*(){let r=yield Ka(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return cs._forOperation(t,"link",r)})}function lU(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(Bt(r.app))return Promise.reject(dr(r));let i="reauthenticate";try{let o=yield Ka(t,dD(r,i,e,t),n);O(o.idToken,r,"internal-error");let s=cv(o.idToken);O(s,r,"internal-error");let{sub:a}=s;return O(t.uid===a,r,"user-mismatch"),cs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&$t(r,"user-mismatch"),o}})}function hD(t,e,n=!1){return p(this,null,function*(){if(Bt(t.app))return Promise.reject(dr(t));let r="signIn",i=yield dD(t,r,e),o=yield cs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function pv(t,e){return p(this,null,function*(){return hD(Xr(t),e)})}function fD(t){return p(this,null,function*(){let e=Xr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gv(t,e,n){return p(this,null,function*(){if(Bt(t.app))return Promise.reject(dr(t));let r=Xr(t),s=yield Qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fD(t),c}),a=yield cs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function mv(t,e,n){return Bt(t.app)?Promise.reject(dr(t)):pv(ke(t),uD.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&fD(t),r}))}function vv(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function _v(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}var Ad="__sak";var xd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uU=1e3,dU=10,hU=(()=>{class t extends xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);HV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,dU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield si(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield si(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield si(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),pD=hU;var fU=(()=>{class t extends xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),yv=fU;function pU(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var gU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield pU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Cv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Jm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Cv("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Nn(){return window}function mU(t){Nn().location.href=t}function gD(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}function vU(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function _U(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yU(){return gD()?self:null}var mD="firebaseLocalStorageDb",CU=1,Nd="firebaseLocalStorage",vD="fbase_key",Hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function kd(t,e){return t.transaction([Nd],e?"readwrite":"readonly").objectStore(Nd)}function wU(){let t=indexedDB.deleteDatabase(mD);return new Hi(t).toPromise()}function Xm(){let t=indexedDB.open(mD,CU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Nd,{keyPath:vD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Nd)?e(r):(r.close(),yield wU(),e(yield Xm()))}))})}function L0(t,e,n){return p(this,null,function*(){let r=kd(t,!0).put({[vD]:e,value:n});return new Hi(r).toPromise()})}function IU(t,e){return p(this,null,function*(){let n=kd(t,!1).get(e),r=yield new Hi(n).toPromise();return r===void 0?null:r.value})}function V0(t,e){let n=kd(t,!0).delete(e);return new Hi(n).toPromise()}var EU=800,bU=3,DU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Xm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>bU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return gD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=gU._getInstance(yU()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield vU(),!this.activeServiceWorker)return;this.sender=new Jm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||_U()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Xm();return yield L0(n,Ad,"1"),yield V0(n,Ad),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>L0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>IU(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>V0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=kd(o,!1).getAll();return new Hi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),EU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_D=DU;var j9=cD("rcb"),B9=new $i(3e4,6e4);function yD(t,e){return e?ur(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ja=class extends as{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return os(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SU(t){return hD(t.auth,new Ja(t),t.bypassAuthState)}function TU(t){let{auth:e,user:n}=t;return O(n,e,"internal-error"),lU(n,new Ja(t),t.bypassAuthState)}function MU(t){return p(this,null,function*(){let{auth:e,user:n}=t;return O(n,e,"internal-error"),cU(n,new Ja(t),t.bypassAuthState)})}var Rd=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SU;case"linkViaPopup":case"linkViaRedirect":return MU;case"reauthViaPopup":case"reauthViaRedirect":return TU;default:$t(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AU=new $i(2e3,1e4);function wv(t,e,n){return p(this,null,function*(){if(Bt(t.app))return Promise.reject(cn(t,"operation-not-supported-in-this-environment"));let r=Xr(t);MV(t,e,Za);let i=yD(r,n);return new xU(r,"signInViaPopup",e,i).executeNotNull()})}var xU=(()=>{class t extends Rd{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return O(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){hr(this.filter.length===1,"Popup operations only handle one event");let n=Cv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,AU.get())};n()}}t.currentPopupAction=null;return t})(),NU="pendingRedirect",yd=new Map,ev=class t extends Rd{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=yd.get(this.auth._key());if(!e){try{let r=(yield RU(this.resolver,this.auth))?yield si(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return si(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,si(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function RU(t,e){return p(this,null,function*(){let n=kU(e),r=PU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function OU(t,e){yd.set(t._key(),e)}function PU(t){return ur(t._redirectPersistence)}function kU(t){return _d(NU,t.config.apiKey,t.name)}function FU(t,e,n=!1){return p(this,null,function*(){if(Bt(t.app))return Promise.reject(dr(t));let r=Xr(t),i=yD(r,e),s=yield new ev(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var LU=10*60*1e3,tv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LU&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}};function U0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CD(t);default:return!1}}function UU(n){return p(this,arguments,function*(t,e={}){return Jr(t,"GET","/v1/projects",e)})}var jU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BU=/^https?/;function $U(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield UU(t);for(let n of e)try{if(HU(n))return}catch{}$t(t,"unauthorized-domain")})}function HU(t){let e=Bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BU.test(n))return!1;if(jU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zU=new $i(3e4,6e4);function j0(){let t=Nn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WU(t){return new Promise((e,n)=>{var r,i,o;function s(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),n(cn(t,"network-request-failed"))},timeout:zU.get()})}if(!((i=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Nn().gapi)===null||o===void 0)&&o.load)s();else{let a=cD("iframefcb");return Nn()[a]=()=>{gapi.load?s():n(cn(t,"network-request-failed"))},aD(`${KV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Cd=null,e})}var Cd=null;function GU(t){return Cd=Cd||WU(t),Cd}var qU=new $i(5e3,15e3),KU="__/auth/iframe",YU="emulator/auth/iframe",QU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JU(t){let e=t.config;O(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?sv(e,YU):`https://${t.config.authDomain}/${KU}`,r={apiKey:e.apiKey,appName:t.name,v:xn},i=ZU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zr(r).slice(1)}`}function XU(t){return p(this,null,function*(){let e=yield GU(t),n=Nn().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:JU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QU,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=cn(t,"network-request-failed"),a=Nn().setTimeout(()=>{o(s)},qU.get());function c(){Nn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tj=500,nj=600,rj="_blank",ij="http://localhost",Od=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oj(t,e,n,r=tj,i=nj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},ej),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();n&&(a=eD(l)?rj:n),J0(l)&&(e=e||ij,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if($V(l)&&a!=="_self")return sj(e||"",a),new Od(null);let d=window.open(e||"",a,u);O(d,t,"popup-blocked");try{d.focus()}catch{}return new Od(d)}function sj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var aj="__/auth/handler",cj="emulator/auth/handler",lj=encodeURIComponent("fac");function B0(t,e,n,r,i,o){return p(this,null,function*(){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xn,eventId:i};if(e instanceof Za){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ua(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Md){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${lj}=${encodeURIComponent(c)}`:"";return`${uj(t)}?${zr(a).slice(1)}${l}`})}function uj({config:t}){return t.emulator?sv(t,cj):`https://${t.authDomain}/${aj}`}var jm="webStorageSupport",nv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yv,this._completeRedirectFn=FU,this._overrideRedirectResult=OU}_openPopup(e,n,r,i){return p(this,null,function*(){var o;hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield B0(e,n,r,Bm(),i);return oj(e,s,Cv())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield B0(e,n,r,Bm(),i);return mU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(hr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield XU(e),r=new tv(e);return n.register("authEvent",i=>(O(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[jm];s!==void 0&&n(!!s),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oD()||X0()||uv()}},wD=nv;var $0="@firebase/auth",H0="1.7.7";var rv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hj(t){An(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sD(t)},l=new Km(r,i,o,c);return ZV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),An(new wt("auth-internal",e=>{let n=Xr(e.getProvider("auth").getImmediate());return(r=>new rv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee($0,H0,dj(t)),Ee($0,H0,"esm2017")}var fj=5*60,pj=Im("authIdTokenMaxAge")||fj,z0=null,gj=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pj)return;let i=n?.token;z0!==i&&(z0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Iv(t=qr()){let e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dv(t,{popupRedirectResolver:wD,persistence:[_D,pD,yv]}),r=Im("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=gj(o.toString());_v(n,s,()=>s(n.currentUser)),vv(n,a=>s(a))}}let i=Cm("auth");return i&&hv(n,`http://${i}`),n}function mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=cn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hj("Browser");var ID="auth",ln=class{constructor(e){return e}},zi=class{constructor(){return Bi(ID)}};var Ev=new A("angularfire2.auth-instances");function s2(t,e){let n=is(ID,t,e);return n&&new ln(n)}function a2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ln(r)}}var c2={provide:zi,deps:[[new Oe,Ev]]},l2={provide:ln,useFactory:s2,deps:[[new Oe,Ev],an]};function ED(t,...e){return Ee("angularfire",ar.full,"auth"),Jt([l2,c2,{provide:Ev,useFactory:a2(t),multi:!0,deps:[ie,We,Yr,cr,[new Oe,Kr],...e]}])}var bD=Ae(gv,!0);var DD=Ae(Iv,!0);var SD=Ae(mv,!0);var TD=Ae(wv,!0);var MD="@firebase/database",AD="1.0.7";var T_="";function u2(t){T_=t}var Rv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Ov=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var aS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rv(e)}}catch{}return new Ov},Gi=aS("localStorage"),Pv=aS("sessionStorage");var ds=new Wr("@firebase/database"),d2=function(){let t=1;return function(){return t++}}(),cS=function(t){let e=h0(t),n=new sd;n.update(e);let r=n.digest();return ad.encodeByteArray(r)},yc=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yc.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e},qi=null,xD=!0,h2=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ds.logLevel=de.VERBOSE,qi=ds.log.bind(ds),e&&Pv.set("logging_enabled",!0)):typeof t=="function"?qi=t:(qi=null,Pv.remove("logging_enabled"))},Xe=function(...t){if(xD===!0&&(xD=!1,qi===null&&Pv.get("logging_enabled")===!0&&h2(!0)),qi){let e=yc.apply(null,t);qi(e)}},Cc=function(t){return function(...e){Xe(t,...e)}},kv=function(...t){let e="FIREBASE INTERNAL ERROR: "+yc(...t);ds.error(e)},fr=function(...t){let e=`FIREBASE FATAL ERROR: ${yc(...t)}`;throw ds.error(e),new Error(e)},ht=function(...t){let e="FIREBASE WARNING: "+yc(...t);ds.warn(e)},f2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},M_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},p2=function(t){if(Tn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fs="[MIN_NAME]",Ki="[MAX_NAME]",Qi=function(t,e){if(t===e)return 0;if(t===fs||e===Ki)return-1;if(e===fs||t===Ki)return 1;{let n=ND(t),r=ND(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},g2=function(t,e){return t===e?0:t<e?-1:1},ec=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},A_=function(t){if(typeof t!="object"||t===null)return Be(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=A_(t[e[r]]);return n+="}",n},lS=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var uS=function(t){y(!M_(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},m2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},v2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var y2=new RegExp("^-?(0*)\\d{1,10}$"),C2=-2147483648,w2=2147483647,ND=function(t){if(y2.test(t)){let e=Number(t);if(e>=C2&&e<=w2)return e}return null},ws=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},I2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Fv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Lv=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}},sc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ld="5",dS="v",hS="s",fS="r",pS="f",gS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mS="ls",vS="p",Vv="ac",_S="websocket",yS="long_polling";var Vd=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function E2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function CS(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===_S)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);E2(t)&&(n.ns=t.namespace);let i=[];return et(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Uv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return n0(this.counters_)}};var Dv={},Sv={};function x_(t){let e=t.toString();return Dv[e]||(Dv[e]=new Uv),Dv[e]}function b2(t,e){let n=t.toString();return Sv[n]||(Sv[n]=e()),Sv[n]}var jv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ws(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var RD="start",D2="close",S2="pLPCommand",T2="pRTLPCB",wS="id",IS="pw",ES="ser",M2="cb",A2="seg",x2="ts",N2="d",R2="dframe",bS=1870,DS=30,O2=bS-DS,P2=25e3,k2=3e4,Bv=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cc(e),this.stats_=x_(n),this.urlFn=c=>(this.appCheckToken&&(c[Vv]=this.appCheckToken),CS(n,yS,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new jv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(k2)),p2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $v((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===RD)this.id=a,this.password=c;else if(s===D2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[RD]="t",r[ES]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dS]=Ld,this.transportSessionId&&(r[hS]=this.transportSessionId),this.lastSessionId&&(r[mS]=this.lastSessionId),this.applicationId&&(r[vS]=this.applicationId),this.appCheckToken&&(r[Vv]=this.appCheckToken),typeof location<"u"&&location.hostname&&gS.test(location.hostname)&&(r[fS]=pS);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Tn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m2()&&!v2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=_m(n),i=lS(r,O2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Tn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[R2]="t",r[wS]=e,r[IS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},$v=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Tn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d2(),window[S2+this.uniqueCallbackIdentifier]=e,window[T2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Xe("frame writing exception"),a.stack&&Xe(a.stack),Xe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[wS]=this.myID,e[IS]=this.myPW,e[ES]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DS+r.length<=bS;){let s=this.pendingSegs.shift();r=r+"&"+A2+i+"="+s.seg+"&"+x2+i+"="+s.ts+"&"+N2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(P2)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Tn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var F2=16384,L2=45e3,Ud=null;typeof MozWebSocket<"u"?Ud=MozWebSocket:typeof WebSocket<"u"&&(Ud=WebSocket);var tc=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cc(this.connId),this.stats_=x_(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[dS]=Ld,!Tn()&&typeof location<"u"&&location.hostname&&gS.test(location.hostname)&&(a[fS]=pS),r&&(a[hS]=r),i&&(a[mS]=i),o&&(a[Vv]=o),s&&(a[vS]=s),CS(n,_S,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gi.set("previous_websocket_failure",!0);try{let i;if(Tn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ld}/${T_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Ud(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Ud!==null&&!t.forceDisallow_}static previouslyFailed(){return Gi.isInMemoryStorage||Gi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Xo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Be(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=lS(r,F2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(L2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),V2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Bv,tc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=tc&&tc.isAvailable(),i=r&&!tc.previouslyFailed();if(n.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[tc];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),U2=6e4,j2=5e3,B2=10*1024,$2=100*1024,Tv="t",OD="d",H2="s",PD="r",z2="e",kD="o",FD="a",LD="n",VD="p",W2="h",Hv=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cc("c:"+this.id+":"),this.transportManager_=new V2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=oc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tv in e){let n=e[Tv];n===FD?this.upgradeIfSecondaryHealthy_():n===PD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ec("t",e),r=ec("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ec("t",e),r=ec("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ec(Tv,e);if(OD in e){let r=e[OD];if(n===W2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===H2?this.onConnectionShutdown_(r):n===PD?this.onReset_(r):n===z2?kv("Server Error: "+r):n===kD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ld!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),oc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(U2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(j2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var jd=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Bd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var $d=class t extends Bd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Va()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var UD=32,jD=768,ce=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function re(){return new ce("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ri(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function N_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function G2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function uc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function SS(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function xe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){let n=G(t),r=G(e);if(n===null)return e;if(n===r)return dt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function q2(t,e){let n=uc(t,0),r=uc(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Qi(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function R_(t,e){if(ri(t)!==ri(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ri(t)>ri(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var zv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=uc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$a(this.parts_[r]);TS(this)}};function K2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$a(e),TS(t)}function Y2(t){let e=t.parts_.pop();t.byteLength_-=$a(e),t.parts_.length>0&&(t.byteLength_-=1)}function TS(t){if(t.byteLength_>jD)throw new Error(t.errorPrefix_+"has a key path longer than "+jD+" bytes ("+t.byteLength_+").");if(t.parts_.length>UD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+UD+") or object contains a cycle "+Wi(t))}function Wi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Wv=class t extends Bd{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var nc=1e3,Q2=60*5*1e3,BD=30*1e3,Z2=1.3,J2=3e4,X2="server_kill",$D=3,O_=(()=>{class t extends jd{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nc,this.maxReconnectDelay_=Q2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Tn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&$d.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Be(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new ir,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&sn(n,"w")){let i=Li(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||u0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=l0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Be(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):kv("Unrecognized action received from server: "+Be(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>J2&&(this.reconnectDelay_=nc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Z2)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Hv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{ht(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(X2)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ht(h),l())}}})}interrupt(n){Xe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Xe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ua(this.interruptReasons_)&&(this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>A_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ce(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Xe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$D&&(this.reconnectDelay_=BD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Xe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$D&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Tn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+T_.replace(/\./g,"-")]=1,Va()?n["framework.cordova"]=1:ud()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=$d.getInstance().currentlyOnline();return Ua(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ps=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new q(fs,e),i=new q(fs,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var Fd,Hd=class extends ps{static get __EMPTY_NODE(){return Fd}static set __EMPTY_NODE(e){Fd=e}compare(e,n){return Qi(e.name,n.name)}isDefinedOn(e){throw Fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Ki,Fd)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,Fd)}toString(){return".key"}},hs=new Hd;var us=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},un=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??zt.EMPTY_NODE,this.right=s??zt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return zt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Gv=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},zt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new us(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new us(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new us(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new us(this.root_,null,this.comparator_,!0,e)}};zt.EMPTY_NODE=new Gv;function eB(t,e){return Qi(t.name,e.name)}function P_(t,e){return Qi(t,e)}var qv;function tB(t){qv=t}var MS=function(t){return typeof t=="number"?"number:"+uS(t):"string:"+t},AS=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sn(e,".sv"),"Priority must be a string or number.")}else y(t===qv||t.isEmpty(),"priority of unexpected type.");y(t===qv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var HD,gs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AS(this.priorityNode_)}static set __childrenNodeConstructor(n){HD=n}static get __childrenNodeConstructor(){return HD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:G(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||ri(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+MS(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=uS(this.value_):n+=this.value_,this.lazyHash_=cS(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),xS,NS;function nB(t){xS=t}function rB(t){NS=t}var Kv=class extends ps{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Qi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Ki,new gs("[PRIORITY-POST]",NS))}makePost(e,n){let r=xS(e);return new q(n,new gs("[PRIORITY-POST]",r))}toString(){return".priority"}},Ne=new Kv;var iB=Math.log(2),Yv=class{constructor(e){let n=o=>parseInt(Math.log(o)/iB,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zd=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new un(h,d.node,un.BLACK,null,null);{let f=parseInt(u/2,10)+c,g=i(c,f),w=i(f+1,l);return d=t[f],h=n?n(d):d,new un(h,d.node,un.BLACK,g,w)}},o=function(c){let l=null,u=null,d=t.length,h=function(g,w){let b=d-g,R=d;d-=g;let pe=i(b+1,R),z=t[b],le=n?n(z):z;f(new un(le,z.node,w,null,pe))},f=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let w=c.nextBitIsOne(),b=Math.pow(2,c.count-(g+1));w?h(b,un.BLACK):(h(b,un.BLACK),h(b,un.RED))}return u},s=new Yv(t.length),a=o(s);return new zt(r||e,a)};var Mv,ls={},ms=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(ls&&Ne,"ChildrenNode.ts has not been loaded"),Mv=Mv||new t({".priority":ls},{".priority":Ne}),Mv}get(e){let n=Li(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof zt?n:null}hasIndex(e){return sn(this.indexSet_,e.toString())}addIndex(e,n){y(e!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zd(r,e.getCompare()):a=ls;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=ja(this.indexes_,(i,o)=>{let s=Li(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===ls)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(q.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),zd(a,s.getCompare())}else return ls;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new q(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ja(this.indexes_,i=>{if(i===ls)return i;{let o=n.get(e.name);return o?i.remove(new q(e.name,o)):i}});return new t(r,this.indexSet_)}};var rc,V=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&AS(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return rc||(rc=new t(new zt(P_),null,ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?rc:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?rc:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=G(n);if(i===null)return r;{y(G(n)!==".priority"||ri(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(Ie(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ne,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+MS(this.getPriority().val())+":"),this.forEachChild(Ne,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":cS(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===wc?-1:0}withIndex(n){if(n===hs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===hs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ne),o=r.getIterator(Ne),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===hs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Qv=class extends V{constructor(){super(new zt(P_),V.EMPTY_NODE,ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}},wc=new Qv;Object.defineProperties(q,{MIN:{value:new q(fs,V.EMPTY_NODE)},MAX:{value:new q(Ki,wc)}});Hd.__EMPTY_NODE=V.EMPTY_NODE;gs.__childrenNodeConstructor=V;tB(wc);rB(wc);var oB=!0;function qe(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new gs(n,qe(e))}if(!(t instanceof Array)&&oB){let n=[],r=!1;if(et(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=qe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),n.length===0)return V.EMPTY_NODE;let o=zd(n,eB,s=>s.name,P_);if(r){let s=zd(n,Ne.getCompare());return new V(o,qe(e),new ms({".priority":s},{".priority":Ne}))}else return new V(o,qe(e),ms.Default)}else{let n=V.EMPTY_NODE;return et(t,(r,i)=>{if(sn(t,r)&&r.substring(0,1)!=="."){let o=qe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(qe(e))}}nB(qe);var Zv=class extends ps{constructor(e){super(),this.indexPath_=e,y(!Y(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Qi(e.name,n.name):o}makePost(e,n){let r=qe(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let e=V.EMPTY_NODE.updateChild(this.indexPath_,wc);return new q(Ki,e)}toString(){return uc(this.indexPath_,0).join("/")}};var Jv=class extends ps{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Qi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){let r=qe(e);return new q(n,r)}toString(){return".value"}},sB=new Jv;function RS(t){return{type:"value",snapshotNode:t}}function vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function aB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var fc=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(dc(n,a)):y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(vs(n,r)):s.trackChildChange(hc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(i,o)=>{n.hasChild(i)||r.trackChildChange(dc(i,o))}),n.isLeafNode()||n.forEachChild(Ne,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(hc(i,o,s))}else r.trackChildChange(vs(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Wd=class t{constructor(e){this.indexedFilter_=new fc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new q(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);let o=this;return n.forEachChild(Ne,(s,a)=>{o.matches(new q(s,a))||(i=i.updateImmediateChild(s,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Xv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new q(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=e;y(a.numChildren()===this.limit_,"");let c=new q(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,c);if(u&&!r.isEmpty()&&f>=0)return o?.trackChildChange(hc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(dc(n,d));let w=a.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(vs(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(dc(l.name,l.node)),o.trackChildChange(vs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,V.EMPTY_NODE)):e}};var e_=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fs}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function cB(t){return t.loadsAllData()?new fc(t.getIndex()):t.hasLimit()?new Xv(t):new Wd(t)}function zD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===sB?n="$value":t.index_===hs?n="$key":(y(t.index_ instanceof Zv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}var t_=class t extends jd{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Cc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=zD(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Li(this.listens_,s)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=zD(e._queryParams),r=e._path.toString(),i=new ir;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Xo(a.responseText)}catch{ht("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ht("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var n_=class{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Gd(){return{value:null,children:new Map}}function OS(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=G(e);t.children.has(r)||t.children.set(r,Gd());let i=t.children.get(r);e=Ie(e),OS(i,e,n)}}function r_(t,e,n){t.value!==null?n(e,t.value):lB(t,(r,i)=>{let o=new ce(e.toString()+"/"+r);r_(i,o,n)})}function lB(t,e){t.children.forEach((n,r)=>{e(r,n)})}var i_=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var GD=10*1e3,uB=30*1e3,dB=5*60*1e3,o_=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new i_(e);let r=GD+(uB-GD)*Math.random();oc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,o)=>{o>0&&sn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),oc(this.reportStats_.bind(this),Math.floor(Math.random()*2*dB))}};var Rn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rn||{});function k_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function F_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function L_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var s_=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=k_()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ce(e));return new t(re(),n,this.revert)}}else return y(G(this.path)===e,"operationForChild called for unrelated child."),new t(Ie(this.path),this.affectedTree,this.revert)}};var qd=class t{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new t(this.source,re()):new t(this.source,Ie(this.path))}};var _s=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return Y(this.path)?new t(this.source,re(),this.snap.getImmediateChild(e)):new t(this.source,Ie(this.path),this.snap)}};var pc=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(Y(this.path)){let n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new _s(this.source,re(),n.value):new t(this.source,re(),n)}else return y(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var On=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;let n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var a_=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function hB(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(aB(s.childName,s.snapshotNode))}),ic(t,i,"child_removed",e,r,n),ic(t,i,"child_added",e,r,n),ic(t,i,"child_moved",o,r,n),ic(t,i,"child_changed",e,r,n),ic(t,i,"value",e,r,n),i}function ic(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>pB(t,a,c)),s.forEach(a=>{let c=fB(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function fB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pB(t,e,n){if(e.childName==null||n.childName==null)throw Fi("Should only compare child_ events.");let r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function ah(t,e){return{eventCache:t,serverCache:e}}function ac(t,e,n,r){return ah(new On(e,n,r),t.serverCache)}function PS(t,e,n,r){return ah(t.eventCache,new On(e,n,r))}function Kd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Av,gB=()=>(Av||(Av=new zt(g2)),Av),ft=class t{constructor(e,n=gB()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new ce(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(Y(e))return null;{let r=G(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(Ie(e),n);return o!=null?{path:xe(new ce(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{let n=G(e),r=this.children.get(n);return r!==null?r.subtree(Ie(e)):new t(null)}}set(e,n){if(Y(e))return new t(n,this.children);{let r=G(e),o=(this.children.get(r)||new t(null)).set(Ie(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=G(e),r=this.children.get(n);if(r){let i=r.remove(Ie(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Y(e))return this.value;{let n=G(e),r=this.children.get(n);return r?r.get(Ie(e)):null}}setTree(e,n){if(Y(e))return n;{let r=G(e),o=(this.children.get(r)||new t(null)).setTree(Ie(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(re(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{let o=G(e),s=this.children.get(o);return s?s.findOnPath_(Ie(e),xe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);let i=G(e),o=this.children.get(i);return o?o.foreachOnPath_(Ie(e),xe(n,i),r):new t(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var dn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ft(null))}};function cc(t,e,n){if(Y(e))return new dn(new ft(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=dt(i,e);return o=o.updateChild(s,n),new dn(t.writeTree_.set(i,o))}else{let i=new ft(n),o=t.writeTree_.setTree(e,i);return new dn(o)}}}function c_(t,e,n){let r=t;return et(n,(i,o)=>{r=cc(r,xe(e,i),o)}),r}function qD(t,e){if(Y(e))return dn.empty();{let n=t.writeTree_.setTree(e,new ft(null));return new dn(n)}}function l_(t,e){return Zi(t,e)!=null}function Zi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function KD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function ti(t,e){if(Y(e))return t;{let n=Zi(t,e);return n!=null?new dn(new ft(n)):new dn(t.writeTree_.subtree(e))}}function u_(t){return t.writeTree_.isEmpty()}function ys(t,e){return kS(re(),t.writeTree_,e)}function kS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=kS(xe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xe(t,".priority"),r)),n}}function ch(t,e){return US(e,t)}function mB(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=cc(t.visibleWrites,e,n)),t.lastWriteId=r}function vB(t,e,n,r){y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=c_(t.visibleWrites,e,n),t.lastWriteId=r}function _B(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function yB(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&CB(a,r.path)?i=!1:Ht(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return wB(t),!0;if(r.snap)t.visibleWrites=qD(t.visibleWrites,r.path);else{let a=r.children;et(a,c=>{t.visibleWrites=qD(t.visibleWrites,xe(r.path,c))})}return!0}else return!1}function CB(t,e){if(t.snap)return Ht(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ht(xe(t.path,n),e))return!0;return!1}function wB(t){t.visibleWrites=FS(t.allWrites,IB,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IB(t){return t.visible}function FS(t,e,n){let r=dn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Ht(n,s)?(a=dt(n,s),r=cc(r,a,o.snap)):Ht(s,n)&&(a=dt(s,n),r=cc(r,re(),o.snap.getChild(a)));else if(o.children){if(Ht(n,s))a=dt(n,s),r=c_(r,a,o.children);else if(Ht(s,n))if(a=dt(s,n),Y(a))r=c_(r,re(),o.children);else{let c=Li(o.children,G(a));if(c){let l=c.getChild(Ie(a));r=cc(r,re(),l)}}}else throw Fi("WriteRecord should have .snap or .children")}}return r}function LS(t,e,n,r,i){if(!r&&!i){let o=Zi(t.visibleWrites,e);if(o!=null)return o;{let s=ti(t.visibleWrites,e);if(u_(s))return n;if(n==null&&!l_(s,re()))return null;{let a=n||V.EMPTY_NODE;return ys(s,a)}}}else{let o=ti(t.visibleWrites,e);if(!i&&u_(o))return n;if(!i&&n==null&&!l_(o,re()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ht(l.path,e)||Ht(e,l.path))},a=FS(t.allWrites,s,e),c=n||V.EMPTY_NODE;return ys(a,c)}}}function EB(t,e,n){let r=V.EMPTY_NODE,i=Zi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ne,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=ti(t.visibleWrites,e);return n.forEachChild(Ne,(s,a)=>{let c=ys(ti(o,new ce(s)),a);r=r.updateImmediateChild(s,c)}),KD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=ti(t.visibleWrites,e);return KD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function bB(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=xe(e,n);if(l_(t.visibleWrites,o))return null;{let s=ti(t.visibleWrites,o);return u_(s)?i.getChild(n):ys(s,i.getChild(n))}}function DB(t,e,n,r){let i=xe(e,n),o=Zi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=ti(t.visibleWrites,i);return ys(s,r.getNode().getImmediateChild(n))}else return null}function SB(t,e){return Zi(t.visibleWrites,e)}function TB(t,e,n,r,i,o,s){let a,c=ti(t.visibleWrites,e),l=Zi(c,re());if(l!=null)a=l;else if(n!=null)a=ys(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function MB(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Yd(t,e,n,r){return LS(t.writeTree,t.treePath,e,n,r)}function V_(t,e){return EB(t.writeTree,t.treePath,e)}function YD(t,e,n,r){return bB(t.writeTree,t.treePath,e,n,r)}function Qd(t,e){return SB(t.writeTree,xe(t.treePath,e))}function AB(t,e,n,r,i,o){return TB(t.writeTree,t.treePath,e,n,r,i,o)}function U_(t,e,n){return DB(t.writeTree,t.treePath,e,n)}function VS(t,e){return US(xe(t.treePath,e),t.writeTree)}function US(t,e){return{treePath:t,writeTree:e}}var d_=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,hc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,dc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vs(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,hc(r,e.snapshotNode,i.oldSnap));else throw Fi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var h_=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},jS=new h_,gc=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new On(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return U_(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),o=AB(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function xB(t){return{filter:t}}function NB(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RB(t,e,n,r,i){let o=new d_,s,a;if(n.type===Rn.OVERWRITE){let l=n;l.source.fromUser?s=f_(t,e,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Y(l.path),s=Zd(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let l=n;l.source.fromUser?s=PB(t,e,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=p_(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let l=n;l.revert?s=LB(t,e,l.path,r,i,o):s=kB(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=FB(t,e,n.path,r,o);else throw Fi("Unknown operation type: "+n.type);let c=o.getChanges();return OB(e,s,c),{viewCache:s,changes:c}}function OB(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(RS(Kd(e)))}}function BS(t,e,n,r,i,o){let s=e.eventCache;if(Qd(r,n)!=null)return e;{let a,c;if(Y(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Yi(e),u=l instanceof V?l:V.EMPTY_NODE,d=V_(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Yd(r,Yi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=G(n);if(l===".priority"){y(ri(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=YD(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=Ie(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let h=YD(r,n,s.getNode(),c);h!=null?d=s.getNode().getImmediateChild(l).updateChild(u,h):d=s.getNode().getImmediateChild(l)}else d=U_(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return ac(e,a,s.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function Zd(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{let f=G(n);if(!c.isCompleteForPath(n)&&ri(n)>1)return e;let g=Ie(n),b=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?l=u.updatePriority(c.getNode(),b):l=u.updateChild(c.getNode(),f,b,g,jS,null)}let d=PS(e,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),h=new gc(i,d,o);return BS(t,d,n,i,h,a)}function f_(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new gc(i,e,o);if(Y(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=ac(e,l,!0,t.filter.filtersNodes());else{let d=G(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=ac(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=Ie(n),f=a.getNode().getImmediateChild(d),g;if(Y(h))g=r;else{let w=u.getCompleteChild(d);w!=null?N_(h)===".priority"&&w.getChild(SS(h)).isEmpty()?g=w:g=w.updateChild(h,r):g=V.EMPTY_NODE}if(f.equals(g))c=e;else{let w=t.filter.updateChild(a.getNode(),d,g,h,u,s);c=ac(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function QD(t,e){return t.eventCache.isCompleteForChild(e)}function PB(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=xe(n,c);QD(e,G(u))&&(a=f_(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=xe(n,c);QD(e,G(u))||(a=f_(t,a,u,l,i,o,s))}),a}function ZD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function p_(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;Y(n)?l=r:l=new ft(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=ZD(t,f,h);c=Zd(t,c,new ce(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),w=ZD(t,g,h);c=Zd(t,c,new ce(d),w,i,o,s,a)}}),c}function kB(t,e,n,r,i,o,s){if(Qd(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Zd(t,e,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new ft(null);return c.getNode().forEachChild(hs,(u,d)=>{l=l.set(new ce(u),d)}),p_(t,e,n,l,i,o,a,s)}else return e}else{let l=new ft(null);return r.foreach((u,d)=>{let h=xe(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),p_(t,e,n,l,i,o,a,s)}}function FB(t,e,n,r,i){let o=e.serverCache,s=PS(e,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return BS(t,s,n,r,jS,i)}function LB(t,e,n,r,i,o){let s;if(Qd(r,n)!=null)return e;{let a=new gc(r,e,i),c=e.eventCache.getNode(),l;if(Y(n)||G(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Yd(r,Yi(e));else{let d=e.serverCache.getNode();y(d instanceof V,"serverChildren would be complete if leaf node"),u=V_(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=G(n),d=U_(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,Ie(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,V.EMPTY_NODE,Ie(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Yd(r,Yi(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Qd(r,re())!=null,ac(e,l,s,t.filter.filtersNodes())}}var g_=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new fc(r.getIndex()),o=cB(r);this.processor_=xB(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(V.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new On(c,s.isFullyInitialized(),i.filtersNodes()),d=new On(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ah(d,u),this.eventGenerator_=new a_(this.query_)}get query(){return this.query_}};function VB(t){return t.viewCache_.serverCache.getNode()}function UB(t){return Kd(t.viewCache_)}function jB(t,e){let n=Yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function JD(t){return t.eventRegistrations_.length===0}function BB(t,e){t.eventRegistrations_.push(e)}function XD(t,e,n){let r=[];if(n){y(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function eS(t,e,n,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(y(Yi(t.viewCache_),"We should always have a full cache before handling merges"),y(Kd(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=RB(t.processor_,i,e,n,r);return NB(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,$S(t,o.changes,o.viewCache.eventCache.getNode(),null)}function $B(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(o,s)=>{r.push(vs(o,s))}),n.isFullyInitialized()&&r.push(RS(n.getNode())),$S(t,r,n.getNode(),e)}function $S(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return hB(t.eventGenerator_,e,n,i)}var Jd,Xd=class{constructor(){this.views=new Map}};function HB(t){y(!Jd,"__referenceConstructor has already been defined"),Jd=t}function zB(){return y(Jd,"Reference.ts has not been loaded"),Jd}function WB(t){return t.views.size===0}function j_(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),eS(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(eS(s,e,n,r));return o}}function HS(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Yd(n,i?r:null),c=!1;a?c=!0:r instanceof V?(a=V_(n,r),c=!1):(a=V.EMPTY_NODE,c=!1);let l=ah(new On(a,c,!1),new On(r,i,!1));return new g_(e,l)}return s}function GB(t,e,n,r,i,o){let s=HS(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),BB(s,n),$B(s,n)}function qB(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=ii(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(XD(l,n,r)),JD(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(XD(c,n,r)),JD(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!ii(t)&&o.push(new(zB())(e._repo,e._path)),{removed:o,events:s}}function zS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ni(t,e){let n=null;for(let r of t.views.values())n=n||jB(r,e);return n}function WS(t,e){if(e._queryParams.loadsAllData())return lh(t);{let r=e._queryIdentifier;return t.views.get(r)}}function GS(t,e){return WS(t,e)!=null}function ii(t){return lh(t)!=null}function lh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var eh;function KB(t){y(!eh,"__referenceConstructor has already been defined"),eh=t}function YB(){return y(eh,"Reference.ts has not been loaded"),eh}var QB=1,th=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=MB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function qS(t,e,n,r,i){return mB(t.pendingWriteTree_,e,n,r,i),i?Is(t,new _s(k_(),e,n)):[]}function ZB(t,e,n,r){vB(t.pendingWriteTree_,e,n,r);let i=ft.fromObject(n);return Is(t,new pc(k_(),e,i))}function ei(t,e,n=!1){let r=_B(t.pendingWriteTree_,e);if(yB(t.pendingWriteTree_,e)){let o=new ft(null);return r.snap!=null?o=o.set(re(),!0):et(r.children,s=>{o=o.set(new ce(s),!0)}),Is(t,new s_(r.path,o,n))}else return[]}function Ic(t,e,n){return Is(t,new _s(F_(),e,n))}function JB(t,e,n){let r=ft.fromObject(n);return Is(t,new pc(F_(),e,r))}function XB(t,e){return Is(t,new qd(F_(),e))}function e$(t,e,n){let r=$_(t,n);if(r){let i=H_(r),o=i.path,s=i.queryId,a=dt(o,e),c=new qd(L_(s),a);return z_(t,o,c)}else return[]}function nh(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||GS(s,e))){let c=qB(s,e,n,r);WB(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>ii(f));if(u&&!d){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=r$(h);for(let g=0;g<f.length;++g){let w=f[g],b=w.query,R=ZS(t,w);t.listenProvider_.startListening(lc(b),mc(t,b),R.hashFn,R.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(lc(e),null):l.forEach(h=>{let f=t.queryToTagMap.get(uh(h));t.listenProvider_.stopListening(lc(h),f)}))}i$(t,l)}return a}function KS(t,e,n,r){let i=$_(t,r);if(i!=null){let o=H_(i),s=o.path,a=o.queryId,c=dt(s,e),l=new _s(L_(a),c,n);return z_(t,s,l)}else return[]}function t$(t,e,n,r){let i=$_(t,r);if(i){let o=H_(i),s=o.path,a=o.queryId,c=dt(s,e),l=ft.fromObject(n),u=new pc(L_(a),c,l);return z_(t,s,u)}else return[]}function m_(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let g=dt(h,i);o=o||ni(f,g),s=s||ii(f)});let a=t.syncPointTree_.get(i);a?(s=s||ii(a),o=o||ni(a,re())):(a=new Xd,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,g)=>{let w=ni(g,re());w&&(o=o.updateImmediateChild(f,w))}));let l=GS(a,e);if(!l&&!e._queryParams.loadsAllData()){let h=uh(e);y(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=o$();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=ch(t.pendingWriteTree_,i),d=GB(a,e,n,u,o,c);if(!l&&!s&&!r){let h=WS(a,e);d=d.concat(s$(t,e,h))}return d}function B_(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=dt(s,e),l=ni(a,c);if(l)return l});return LS(i,e,o,n,!0)}function n$(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=dt(l,n);r=r||ni(u,d)});let i=t.syncPointTree_.get(n);i?r=r||ni(i,re()):(i=new Xd,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new On(r,!0,!1):null,a=ch(t.pendingWriteTree_,e._path),c=HS(i,e,a,o?s.getNode():V.EMPTY_NODE,o);return UB(c)}function Is(t,e){return YS(e,t.syncPointTree_,null,ch(t.pendingWriteTree_,re()))}function YS(t,e,n,r){if(Y(t.path))return QS(t,e,n,r);{let i=e.get(re());n==null&&i!=null&&(n=ni(i,re()));let o=[],s=G(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=VS(r,s);o=o.concat(YS(a,c,l,u))}return i&&(o=o.concat(j_(i,t,r,n))),o}}function QS(t,e,n,r){let i=e.get(re());n==null&&i!=null&&(n=ni(i,re()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=VS(r,s),u=t.operationForChild(s);u&&(o=o.concat(QS(u,a,c,l)))}),i&&(o=o.concat(j_(i,t,r,n))),o}function ZS(t,e){let n=e.query,r=mc(t,n);return{hashFn:()=>(VB(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?e$(t,n._path,r):XB(t,n._path);{let o=_2(i,n);return nh(t,n,null,o)}}}}function mc(t,e){let n=uh(e);return t.queryToTagMap.get(n)}function uh(t){return t._path.toString()+"$"+t._queryIdentifier}function $_(t,e){return t.tagToQueryMap.get(e)}function H_(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function z_(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=ch(t.pendingWriteTree_,e);return j_(r,n,i,null)}function r$(t){return t.fold((e,n,r)=>{if(n&&ii(n))return[lh(n)];{let i=[];return n&&(i=zS(n)),et(r,(o,s)=>{i=i.concat(s)}),i}})}function lc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(YB())(t._repo,t._path):t}function i$(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=uh(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function o$(){return QB++}function s$(t,e,n){let r=e._path,i=mc(t,e),o=ZS(t,n),s=t.listenProvider_.startListening(lc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)y(!ii(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!Y(l)&&u&&ii(u))return[lh(u).query];{let h=[];return u&&(h=h.concat(zS(u).map(f=>f.query))),et(d,(f,g)=>{h=h.concat(g)}),h}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(lc(u),mc(t,u))}}return s}var v_=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},__=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=xe(this.path_,e);return new t(this.syncTree_,n)}node(){return B_(this.syncTree_,this.path_)}},a$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tS=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return c$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l$(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},c$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},l$=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},JS=function(t,e,n,r){return W_(e,new __(n,t),r)},XS=function(t,e,n){return W_(t,new v_(e),n)};function W_(t,e,n){let r=t.getPriority().val(),i=tS(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=tS(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new gs(a,qe(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new gs(i))),s.forEachChild(Ne,(a,c)=>{let l=W_(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var vc=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function G_(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=G(n);for(;i!==null;){let o=Li(r.node.children,i)||{children:{},childCount:0};r=new vc(i,r,o),n=Ie(n),i=G(n)}return r}function Es(t){return t.node.value}function eT(t,e){t.node.value=e,y_(t)}function tT(t){return t.node.childCount>0}function u$(t){return Es(t)===void 0&&!tT(t)}function dh(t,e){et(t.node.children,(n,r)=>{e(new vc(n,t,r))})}function nT(t,e,n,r){n&&!r&&e(t),dh(t,i=>{nT(i,e,!0,r)}),n&&r&&e(t)}function d$(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ec(t){return new ce(t.parent===null?t.name:Ec(t.parent)+"/"+t.name)}function y_(t){t.parent!==null&&h$(t.parent,t.name,t)}function h$(t,e,n){let r=u$(n),i=sn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,y_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,y_(t))}var f$=/[\[\].#$\/\u0000-\u001F\u007F]/,p$=/[\[\].#$\u0000-\u001F\u007F]/,xv=10*1024*1024,q_=function(t){return typeof t=="string"&&t.length!==0&&!f$.test(t)},rT=function(t){return typeof t=="string"&&t.length!==0&&!p$.test(t)},g$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rT(t)},m$=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!M_(t)||t&&typeof t=="object"&&sn(t,".sv")},iT=function(t,e,n,r){r&&e===void 0||hh(Ba(t,"value"),e,n)},hh=function(t,e,n){let r=n instanceof ce?new zv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wi(r)+" with contents = "+e.toString());if(M_(e))throw new Error(t+"contains "+e.toString()+" "+Wi(r));if(typeof e=="string"&&e.length>xv/3&&$a(e)>xv)throw new Error(t+"contains a string greater than "+xv+" utf8 bytes "+Wi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(et(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!q_(s)))throw new Error(t+" contains an invalid key ("+s+") "+Wi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K2(r,s),hh(t,a,r),Y2(r)}),i&&o)throw new Error(t+' contains ".value" child '+Wi(r)+" in addition to actual children.")}},v$=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=uc(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!q_(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(q2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ht(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},_$=function(t,e,n,r){if(r&&e===void 0)return;let i=Ba(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];et(e,(s,a)=>{let c=new ce(s);if(hh(i,a,xe(n,c)),N_(c)===".priority"&&!m$(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),v$(i,o)};var oT=function(t,e,n,r){if(!(r&&n===void 0)&&!rT(n))throw new Error(Ba(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oT(t,e,n,r)},K_=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},C$=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!q_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!g$(n))throw new Error(Ba(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var C_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function fh(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!R_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function sT(t,e,n){fh(t,n),aT(t,r=>R_(r,e))}function Wt(t,e,n){fh(t,n),aT(t,r=>Ht(r,e)||Ht(e,r))}function aT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(w$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w$(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();qi&&Xe("event: "+n.toString()),ws(r)}}}var I$="repo_interrupt",E$=25,w_=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new C_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gd(),this.transactionQueueTree_=new vc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function b$(t,e,n){if(t.stats_=x_(t.repoInfo_),t.forceRestClient_||I2())t.server_=new t_(t.repoInfo_,(r,i,o,s)=>{nS(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new O_(t.repoInfo_,e,(r,i,o,s)=>{nS(t,r,i,o,s)},r=>{rS(t,r)},r=>{D$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=b2(t.repoInfo_,()=>new o_(t.stats_,t.server_)),t.infoData_=new n_,t.infoSyncTree_=new th({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ic(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Y_(t,"connected",!1),t.serverSyncTree_=new th({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Wt(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cT(t){let n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ph(t){return a$({timestamp:cT(t)})}function nS(t,e,n,r,i){t.dataUpdateCount++;let o=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=ja(n,l=>qe(l));s=t$(t.serverSyncTree_,o,c,i)}else{let c=qe(n);s=KS(t.serverSyncTree_,o,c,i)}else if(r){let c=ja(n,l=>qe(l));s=JB(t.serverSyncTree_,o,c)}else{let c=qe(n);s=Ic(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Cs(t,o)),Wt(t.eventQueue_,a,s)}function rS(t,e){Y_(t,"connected",e),e===!1&&A$(t)}function D$(t,e){et(e,(n,r)=>{Y_(t,n,r)})}function Y_(t,e,n){let r=new ce("/.info/"+e),i=qe(n);t.infoData_.updateSnapshot(r,i);let o=Ic(t.infoSyncTree_,r,i);Wt(t.eventQueue_,r,o)}function Q_(t){return t.nextWriteId_++}function S$(t,e,n){let r=n$(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=qe(i).withIndex(e._queryParams.getIndex());m_(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ic(t.serverSyncTree_,e._path,o);else{let a=mc(t.serverSyncTree_,e);s=KS(t.serverSyncTree_,e._path,o,a)}return Wt(t.eventQueue_,e._path,s),nh(t.serverSyncTree_,e,n,null,!0),o},i=>(bc(t,"get for query "+Be(e)+" failed: "+i),Promise.reject(new Error(i))))}function T$(t,e,n,r,i){bc(t,"set",{path:e.toString(),value:n,priority:r});let o=ph(t),s=qe(n,r),a=B_(t.serverSyncTree_,e),c=XS(s,a,o),l=Q_(t),u=qS(t.serverSyncTree_,e,c,l,!0);fh(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{let g=h==="ok";g||ht("set at "+e+" failed: "+h);let w=ei(t.serverSyncTree_,l,!g);Wt(t.eventQueue_,e,w),I_(t,i,h,f)});let d=J_(t,e);Cs(t,d),Wt(t.eventQueue_,d,[])}function M$(t,e,n,r){bc(t,"update",{path:e.toString(),value:n});let i=!0,o=ph(t),s={};if(et(n,(a,c)=>{i=!1,s[a]=JS(xe(e,a),qe(c),t.serverSyncTree_,o)}),i)Xe("update() called with empty data.  Don't do anything."),I_(t,r,"ok",void 0);else{let a=Q_(t),c=ZB(t.serverSyncTree_,e,s,a);fh(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,u)=>{let d=l==="ok";d||ht("update at "+e+" failed: "+l);let h=ei(t.serverSyncTree_,a,!d),f=h.length>0?Cs(t,e):e;Wt(t.eventQueue_,f,h),I_(t,r,l,u)}),et(n,l=>{let u=J_(t,xe(e,l));Cs(t,u)}),Wt(t.eventQueue_,e,[])}}function A$(t){bc(t,"onDisconnectEvents");let e=ph(t),n=Gd();r_(t.onDisconnect_,re(),(i,o)=>{let s=JS(i,o,t.serverSyncTree_,e);OS(n,i,s)});let r=[];r_(n,re(),(i,o)=>{r=r.concat(Ic(t.serverSyncTree_,i,o));let s=J_(t,i);Cs(t,s)}),t.onDisconnect_=Gd(),Wt(t.eventQueue_,re(),r)}function x$(t,e,n){let r;G(e._path)===".info"?r=m_(t.infoSyncTree_,e,n):r=m_(t.serverSyncTree_,e,n),sT(t.eventQueue_,e._path,r)}function iS(t,e,n){let r;G(e._path)===".info"?r=nh(t.infoSyncTree_,e,n):r=nh(t.serverSyncTree_,e,n),sT(t.eventQueue_,e._path,r)}function N$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(I$)}function bc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function I_(t,e,n,r){e&&ws(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function lT(t,e,n){return B_(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Z_(t,e=t.transactionQueueTree_){if(e||gh(t,e),Es(e)){let n=dT(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&R$(t,Ec(e),n)}else tT(e)&&dh(e,n=>{Z_(t,n)})}function R$(t,e,n){let r=n.map(l=>l.currentWriteId),i=lT(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=dt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{bc(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ei(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();gh(t,G_(t.transactionQueueTree_,e)),Z_(t,t.transactionQueueTree_),Wt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ws(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ht("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Cs(t,e)}},s)}function Cs(t,e){let n=uT(t,e),r=Ec(n),i=dT(t,n);return O$(t,i,r),r}function O$(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=dt(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ei(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=E$)u=!0,d="maxretry",i=i.concat(ei(t.serverSyncTree_,c.currentWriteId,!0));else{let h=lT(t,c.path,s);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){hh("transaction failed: Data returned ",f,c.path);let g=qe(f);typeof f=="object"&&f!=null&&sn(f,".priority")||(g=g.updatePriority(h.getPriority()));let b=c.currentWriteId,R=ph(t),pe=XS(g,h,R);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=pe,c.currentWriteId=Q_(t),s.splice(s.indexOf(b),1),i=i.concat(qS(t.serverSyncTree_,c.path,pe,c.currentWriteId,c.applyLocally)),i=i.concat(ei(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(ei(t.serverSyncTree_,c.currentWriteId,!0))}Wt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}gh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ws(r[a]);Z_(t,t.transactionQueueTree_)}function uT(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&Es(r)===void 0;)r=G_(r,n),e=Ie(e),n=G(e);return r}function dT(t,e){let n=[];return hT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function hT(t,e,n){let r=Es(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dh(e,i=>{hT(t,i,n)})}function gh(t,e){let n=Es(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,eT(e,n.length>0?n:void 0)}dh(e,r=>{gh(t,r)})}function J_(t,e){let n=Ec(uT(t,e)),r=G_(t.transactionQueueTree_,e);return d$(r,i=>{Nv(t,i)}),Nv(t,r),nT(r,i=>{Nv(t,i)}),n}function Nv(t,e){let n=Es(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ei(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?eT(e,void 0):n.length=o+1,Wt(t.eventQueue_,Ec(e),i);for(let s=0;s<r.length;s++)ws(r[s])}}function P$(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function k$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}var oS=function(t,e){let n=F$(t),r=n.namespace;n.domain==="firebase.com"&&fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||f2();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vd(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ce(n.pathString)}},F$=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=P$(t.substring(u,d)));let h=k$(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let f=e.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var sS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L$=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=sS.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=sS.charAt(e[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var rh=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}},ih=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var oh=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var E_=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:N_(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){let e=WD(this._queryParams),n=A_(e);return n==="{}"?"default":n}get _queryObject(){return WD(this._queryParams)}isEqual(e){if(e=ke(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=R_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+G2(this._path)}};var Pn=class t extends E_{constructor(e,n){super(e,n,new e_,!1)}get parent(){let e=SS(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},_c=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ce(e),r=oi(this.ref,e);return new t(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,oi(this.ref,r),Ne)))}hasChild(e){let n=new ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function fT(t,e){return t=ke(t),t._checkNotDeleted("ref"),e!==void 0?oi(t._root,e):t._root}function oi(t,e){return t=ke(t),G(t._path)===null?y$("child","path",e,!1):oT("child","path",e,!1),new Pn(t._repo,xe(t._path,e))}function pT(t,e){t=ke(t),K_("push",t._path),iT("push",e,t._path,!0);let n=cT(t._repo),r=L$(n),i=oi(t,r),o=oi(t,r),s;return e!=null?s=mh(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function gT(t){return K_("remove",t._path),mh(t,null)}function mh(t,e){t=ke(t),K_("set",t._path),iT("set",e,t._path,!1);let n=new ir;return T$(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mT(t,e){_$("update",e,t._path,!1);let n=new ir;return M$(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vT(t){t=ke(t);let e=new oh(()=>{}),n=new sh(e);return S$(t._repo,t,n).then(r=>new _c(r,new Pn(t._repo,t._path),t._queryParams.getIndex()))}var sh=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new rh("value",this,new _c(e.snapshotNode,new Pn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ih(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},b_=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ih(this,e,n):null}createEvent(e,n){y(e.childName!=null,"Child events should have a childName.");let r=oi(new Pn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new rh(e.type,this,new _c(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function V$(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{iS(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new oh(n,o||void 0),a=e==="value"?new sh(s):new b_(e,s);return x$(t._repo,t,a),()=>iS(t._repo,t,a)}function _T(t,e,n,r){return V$(t,"value",e,n,r)}HB(Pn);KB(Pn);var U$="FIREBASE_DATABASE_EMULATOR_HOST",D_={},j$=!1;function B$(t,e,n,r){t.repoInfo_=new Vd(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $$(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=oS(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[U$]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=oS(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new sc(sc.OWNER):new Lv(t.name,t.options,e);C$("Invalid Firebase Database URL",s),Y(s.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=z$(a,t,u,new Fv(t.name,n));return new S_(d,t)}function H$(t,e){let n=D_[e];(!n||n[t.key]!==t)&&fr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),N$(t),delete n[t.key]}function z$(t,e,n,r){let i=D_[e.name];i||(i={},D_[e.name]=i);let o=i[t.toURLString()];return o&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new w_(t,j$,n,r),i[t.toURLString()]=o,o}var S_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(b$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(H$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fr("Cannot call "+e+" on a deleted database.")}};function yT(t=qr(),e){let n=Ui(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=cd("database");r&&CT(n,...r)}return n}function CT(t,e,n,r={}){t=ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fr("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new sc(sc.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:ld(r.mockUserToken,t.app.options.projectId);o=new sc(s)}B$(i,e,n,o)}function W$(t){u2(xn),An(new wt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return $$(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ee(MD,AD,t),Ee(MD,AD,"esm2017")}O_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};O_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};W$();var hn=class{constructor(e){return e}},wT="database",X_=class{constructor(){return Bi(wT)}};var ey=new A("angularfire2.database-instances");function G$(t,e){let n=is(wT,t,e);return n&&new hn(n)}function q$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hn(r)}}var K$={provide:X_,deps:[[new Oe,ey]]},Y$={provide:hn,useFactory:G$,deps:[[new Oe,ey],an]};function IT(t,...e){return Ee("angularfire",ar.full,"rtdb"),Jt([Y$,K$,{provide:ey,useFactory:q$(t),multi:!0,deps:[ie,We,Yr,cr,[new Oe,zi],[new Oe,Kr],...e]}])}var ET=Ae(oi,!0);var bT=Ae(vT,!0),DT=Ae(yT,!0);var Dc=Ae(_T,!0);var ty=Ae(pT,!0);var xt=Ae(fT,!0);var ST=Ae(gT,!0);var Sc=Ae(mh,!0);var TT=Ae(mT,!0);var MT=(()=>{let e=class e{constructor(){this.userEmail="",this.userRole=""}setUserEmail(r){this.userEmail=r}getUserEmail(){return this.userEmail}setUserRole(r){this.userRole=r}getUserRole(){return this.userRole}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q$(t,e){t&1&&(m(0,"p",12),C(1,"Please enter a valid Email and Password!"),v())}var AT=(()=>{let e=class e{changeUI(){this.signUpLoginService.setStatus("logIn")}constructor(r,i,o){this.auth=r,this.database=i,this.router=o,this.signUpLoginService=_(qo),this.userService=_(MT),this.wrongCredentials=!1,this.type="password",this.img="eye.svg",this.showPassword=!1}registerUser(r){r.email&&r.password?bD(this.auth,r.email,r.password).then(i=>{let o=i.user;Sc(xt(this.database,"users/"+o.uid),{email:r.email,role:"user"}),sessionStorage.setItem("userEmail",r.email),sessionStorage.setItem("userRole","user"),this.router.navigate(["/home-page"])}).catch(i=>{}):this.wrongCredentials=!0}showOrHidePassword(){this.showPassword=!this.showPassword,this.showPassword?(this.img="eye-slash.svg",this.type="text"):(this.img="eye.svg",this.type="password")}};e.\u0275fac=function(i){return new(i||e)(S(ln),S(hn),S(_e))},e.\u0275cmp=te({type:e,selectors:[["app-sign-up"]],standalone:!0,features:[ne],decls:44,vars:3,consts:[["signUpForm","ngForm"],[1,"sign-up-container"],[1,"border"],["id","chat-ai"],[1,"signup-form",3,"ngSubmit"],[1,"input-group"],["for","email"],["ngModel","","name","email","id","email","type","email","placeholder","ex. email@domain.com","required",""],["for","password"],[1,"password-container"],["ngModel","","name","password","id","password","placeholder","Enter password","required","",3,"type"],["alt","Show Or Hide Password",1,"eye",3,"click","src"],[1,"wrong-credentials"],[1,"terms"],["href","#"],[1,"btn-primary"],[1,"login-link"],[3,"click"],[1,"alternative-signup"],[1,"alt-buttons"],[1,"btn-alt"],["src","google.png","alt","Google Logo"],["src","Apple-Logo.jpg","alt","Apple Logo"]],template:function(i,o){if(i&1){let s=En();m(0,"div",1)(1,"div",2)(2,"p",3),C(3,"C H A T A.I+"),v()(),m(4,"h1"),C(5,"Sign up with free trial"),v(),m(6,"p"),C(7,"Empower your experience, sign up for a free account today"),v(),m(8,"form",4,0),H("ngSubmit",function(){Se(s);let c=tn(9);return Te(o.registerUser(c.value))}),m(10,"div",5)(11,"label",6),C(12,"Email Address*"),v(),M(13,"input",7),v(),m(14,"div",5)(15,"label",8),C(16,"Password*"),v(),m(17,"div",9),M(18,"input",10),m(19,"img",11),H("click",function(){return Se(s),Te(o.showOrHidePassword())}),v()()(),ue(20,Q$,2,0,"p",12),m(21,"p",13),C(22," By registering for an account, you are consenting to our "),m(23,"a",14),C(24,"Terms of Service"),v(),C(25," and confirming that you have reviewed and accepted the "),m(26,"a",14),C(27,"Global Privacy Statement"),v(),C(28,". "),v(),m(29,"button",15),C(30,"Get started free"),v(),m(31,"div",16),C(32," Already have an account? "),m(33,"a",17),H("click",function(){return Se(s),Te(o.changeUI())}),C(34,"Login"),v()(),m(35,"div",18),M(36,"hr"),m(37,"div",19)(38,"button",20),M(39,"img",21),C(40," Continue with Google "),v(),m(41,"button",20),M(42,"img",22),C(43," Continue with Apple "),v()()()()()}i&2&&(I(18),D("type",o.type),I(),D("src",o.img,Ze),I(),Qs(o.wrongCredentials?20:-1))},dependencies:[Hr,od,$r,Jo,rd,ka,ki,Pa],styles:[".sign-up-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;max-width:400px;margin:auto;text-align:center;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%]{font-size:14px;color:#666}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;text-align:left}label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}input[_ngcontent-%COMP%]{outline:none;padding-left:20px;height:30px;width:95%;border:1px solid #ccc;border-radius:50px;font-size:14px}.password-container[_ngcontent-%COMP%]{position:relative}.eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.terms[_ngcontent-%COMP%]{font-size:12px;color:#666}.terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}.terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;background-color:#6c63ff;color:#fff;border:none;border-radius:50px;font-size:16px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#5a52e0}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none;cursor:pointer}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.alternative-signup[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid #ccc}.alternative-signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.alt-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.btn-alt[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;border:1px solid #ccc;border-radius:50px;background-color:#fff;cursor:pointer;font-size:14px}.btn-alt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.btn-alt[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.wrong-credentials[_ngcontent-%COMP%]{font-size:small;color:red}.border[_ngcontent-%COMP%]{display:none;margin:auto;width:50%;background:linear-gradient(140deg,#5d6af1 50%,#9198e5 65%,#e66465 90%);border-radius:30px}#chat-ai[_ngcontent-%COMP%]{font-size:larger;font-weight:700;color:#fff}@media (max-width: 1400px){.sign-up-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:30%;box-sizing:border-box;max-width:400px;margin:auto;text-align:center;font-family:Arial,sans-serif}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}}@media (max-width: 800px){.border[_ngcontent-%COMP%]{display:block}.sign-up-container[_ngcontent-%COMP%]{margin:auto;box-sizing:border-box;padding-bottom:20px;padding-left:15px;padding-right:15px}}"]});let t=e;return t})();var xT=(()=>{let e=class e{constructor(r,i){this.auth=r,this.router=i}signInWithGoogle(){let r=new fv;return TD(this.auth,r).then(i=>{let s=i.user.email;s&&(sessionStorage.setItem("userEmail",s),sessionStorage.setItem("userRole","user")),this.router.navigate(["/home-page"])}).catch(i=>{console.error("Error during Google sign-in:",i)})}};e.\u0275fac=function(i){return new(i||e)(N(ln),N(_e))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J$(t,e){t&1&&(m(0,"p",12),C(1,"Please check your Crendentials."),v())}function X$(t,e){if(t&1&&(m(0,"p",12),C(1),v()),t&2){let n=ee();I(),Me(n.errorMessage)}}var NT=(()=>{let e=class e{constructor(r,i,o,s){this.auth=r,this.database=i,this.router=o,this.authService=s,this.signUpLoginService=_(qo),this.wrongCredentials=!1,this.error=!1,this.errorMessage="",this.type="password",this.img="eye.svg",this.showPassword=!1}loginUser(r){return p(this,null,function*(){try{let o=(yield SD(this.auth,r.email,r.password)).user,s=new Date;yield TT(xt(this.database,"users/"+o.uid),{last_login:s.toISOString()});let a=xt(this.database),c=yield bT(ET(a,`users/${o.uid}`));if(c.exists()){let l=c.val(),u=l.role;sessionStorage.setItem("userEmail",o.email),sessionStorage.setItem("userRole",u),console.log(l),console.log(u),this.router.navigate(["/home-page"])}else this.wrongCredentials=!0}catch(i){let o=i.message;this.error=!0,this.errorMessage=o}})}showOrHidePassword(){this.showPassword=!this.showPassword,this.type=this.showPassword?"text":"password",this.img=this.showPassword?"eye-slash.svg":"eye.svg"}changeUI(){this.signUpLoginService.setStatus("signUp")}loginWithGoogle(){this.authService.signInWithGoogle()}};e.\u0275fac=function(i){return new(i||e)(S(ln),S(hn),S(_e),S(xT))},e.\u0275cmp=te({type:e,selectors:[["app-log-in"]],standalone:!0,features:[ne],decls:45,vars:4,consts:[["signUpForm","ngForm"],[1,"sign-up-container"],[1,"border"],["id","chat-ai"],[1,"signup-form",3,"ngSubmit"],[1,"input-group"],["for","email"],["ngModel","","name","email","id","email","type","email","placeholder","ex. email@domain.com","required",""],["for","password"],[1,"password-container"],["ngModel","","name","password","id","password","placeholder","Enter password","required","",3,"type"],["alt","Show Or Hide Password",1,"eye",3,"click","src"],[1,"wrong-credentials"],[1,"terms"],["href","#"],[1,"btn-primary"],[1,"login-link"],[3,"click"],[1,"alternative-signup"],[1,"alt-buttons"],[1,"btn-alt",3,"click"],["src","google.png","alt","Google Logo"],[1,"btn-alt"],["src","Apple-Logo.jpg","alt","Apple Logo"]],template:function(i,o){if(i&1){let s=En();m(0,"div",1)(1,"div",2)(2,"p",3),C(3,"C H A T A.I+"),v()(),m(4,"h1"),C(5,"SIGN IN"),v(),m(6,"p"),C(7,'"Welcome back! Please log in to access your account."'),v(),m(8,"form",4,0),H("ngSubmit",function(){Se(s);let c=tn(9);return Te(o.loginUser(c.value))}),m(10,"div",5)(11,"label",6),C(12,"Email Address*"),v(),M(13,"input",7),v(),m(14,"div",5)(15,"label",8),C(16,"Password*"),v(),m(17,"div",9),M(18,"input",10),m(19,"img",11),H("click",function(){return Se(s),Te(o.showOrHidePassword())}),v()()(),ue(20,J$,2,0,"p",12)(21,X$,2,1,"p",12),m(22,"p",13),C(23," By SignIn into your account, you are consenting to our "),m(24,"a",14),C(25,"Terms of Service"),v(),C(26," and confirming that you have reviewed and accepted the "),m(27,"a",14),C(28,"Global Privacy Statement"),v(),C(29,". "),v(),m(30,"button",15),C(31,"Sign In"),v(),m(32,"div",16),C(33," Not a member? "),m(34,"a",17),H("click",function(){return Se(s),Te(o.changeUI())}),C(35,"SignUp"),v()(),m(36,"div",18),M(37,"hr"),m(38,"div",19)(39,"button",20),H("click",function(){return Se(s),Te(o.loginWithGoogle())}),M(40,"img",21),C(41," Continue with Google "),v(),m(42,"button",22),M(43,"img",23),C(44," Continue with Apple "),v()()()()()}i&2&&(I(18),D("type",o.type),I(),D("src",o.img,Ze),I(),Qs(o.wrongCredentials?20:-1),I(),Qs(o.error?21:-1))},dependencies:[Hr,od,$r,Jo,rd,ka,ki,Pa],styles:[".sign-up-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;max-width:400px;margin:auto;text-align:center;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%]{font-size:14px;color:#666}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;text-align:left}label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}input[_ngcontent-%COMP%]{outline:none;padding-left:20px;height:30px;width:95%;border:1px solid #ccc;border-radius:50px;font-size:14px}.password-container[_ngcontent-%COMP%]{position:relative}.eye[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.terms[_ngcontent-%COMP%]{font-size:12px;color:#666}.terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none;cursor:pointer}.terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;background-color:#6c63ff;color:#fff;border:none;border-radius:50px;font-size:16px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#5a52e0}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none;cursor:pointer}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.alternative-signup[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid #ccc}.alternative-signup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.alt-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.btn-alt[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;border:1px solid #ccc;border-radius:50px;background-color:#fff;cursor:pointer;font-size:14px}.btn-alt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.btn-alt[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.wrong-credentials[_ngcontent-%COMP%]{font-size:small;color:red}#chat-ai[_ngcontent-%COMP%]{font-size:larger;font-weight:700;color:#000}.border[_ngcontent-%COMP%]{display:none;margin:auto;width:50%;background:linear-gradient(140deg,#5d6af1 50%,#9198e5 65%,#e66465 90%);border-radius:30px}#chat-ai[_ngcontent-%COMP%]{font-size:larger;font-weight:700;color:#fff}@media (max-width: 1400px){.sign-up-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:30%;box-sizing:border-box;max-width:400px;margin:auto;text-align:center;font-family:Arial,sans-serif}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}}@media (max-width: 800px){.border[_ngcontent-%COMP%]{display:block}.sign-up-container[_ngcontent-%COMP%]{margin:auto;box-sizing:border-box;padding-bottom:20px;padding-left:15px;padding-right:15px}}"]});let t=e;return t})();function eH(t,e){t&1&&(qn(0),M(1,"app-sign-up"),Kn())}function tH(t,e){t&1&&M(0,"app-log-in")}var RT=(()=>{let e=class e{constructor(){this.signUpLoginService=_(qo),this.status$=this.signUpLoginService.status$}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-lock"]],standalone:!0,features:[ne],decls:9,vars:4,consts:[["logInTemplate",""],[1,"left-right"],[1,"hidden"],[1,"left"],[1,"right"],[4,"ngIf","ngIfElse"]],template:function(i,o){if(i&1&&(m(0,"div",1)(1,"div",2)(2,"div",3),M(3,"app-chatai"),v()(),m(4,"div",4),ue(5,eH,2,0,"ng-container",5),Dt(6,"async"),ue(7,tH,1,0,"ng-template",null,0,Ai),v()()),i&2){let s=tn(8);I(5),D("ngIf",Yn(6,2,o.status$)==="signUp")("ngIfElse",s)}},dependencies:[Rb,Ge,bn,Ur,AT,NT],styles:[".left-right[_ngcontent-%COMP%]{display:flex;width:100vw;height:100%}.hidden[_ngcontent-%COMP%]{height:100%;width:50%}.left[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;box-sizing:border-box}.right[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;flex-direction:column;justify-content:center;box-sizing:border-box}app-log-in[_ngcontent-%COMP%]{margin:auto}app-sign-up[_ngcontent-%COMP%]{margin:auto}@media (max-width: 800px){.hidden[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:100%;justify-content:start}}"]});let t=e;return t})();var fe=function(t){return t.DARK="Dark",t.LIGHT="Light",t}(fe||{});var ot=(()=>{let e=class e{constructor(){this.statusSubject=new he("settingsIsClosed"),this.status$=this.statusSubject.asObservable();let r=localStorage.getItem("theme")||fe.DARK;this.modeSubject=new he(r),this.mode$=this.modeSubject.asObservable()}setStatus(r){this.statusSubject.next(r)}setMode(r){this.modeSubject.next(r),localStorage.setItem("theme",r),r===fe.DARK?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}getMode(){return this.modeSubject.value}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gt=(()=>{let e=class e{constructor(r){this.db=r,this.firstMessage=new he(!0)}createNewConservation(r){return p(this,null,function*(){let i=xt(this.db,"conservations"),o=ty(i),s=new Date().getTime(),a={id:o.key,updatedAt:s,participants:[r.sender,r.reciver],messages:{[s]:r}};return yield Sc(o,a),o.key})}sendMessage(r,i){return p(this,null,function*(){let o=xt(this.db,`conservations/${r}/messages`);yield ty(o,i)})}setFirstMessageStatus(r){this.firstMessage.next(r)}getFirstMessageStatus(){return this.firstMessage.asObservable()}getAllConservations(r){return new U(i=>{let o=xt(this.db,"conservations");Dc(o,s=>{if(s.exists()){let a=s.val(),c=Object.keys(a).filter(l=>a[l].participants.includes(r)).map(l=>{let u=a[l].messages,d=Object.values(u).sort((h,f)=>new Date(h.sendDate).getTime()-new Date(f.sendDate).getTime())[0];return{id:l,updatedAt:a[l].updatedAt,firstMessage:d}}).sort((l,u)=>u.updatedAt-l.updatedAt);i.next(c)}else i.next([])})})}getConservationById(r){return new U(i=>{let o=xt(this.db,`conservations/${r}`);Dc(o,s=>{s.exists()?i.next(s.val()):i.next(null)})})}deleteConservation(r){return p(this,null,function*(){let i=xt(this.db,`conservations/${r}`);yield ST(i)})}modifyDate(r){return p(this,null,function*(){let i=xt(this.db,`conservations/${r}`),o=new Date().getTime(),s=yield Wh(new U(a=>{Dc(i,c=>{c.exists()?a.next(c.val()):a.next(null)})}));if(s){let a=W(E({},s),{updatedAt:o});yield Sc(i,a)}else console.error("Conservation not found")})}isEmptyConservations(r){return new U(i=>{let o=xt(this.db,"conservations");Dc(o,s=>{if(s.exists()){let a=!1;s.forEach(c=>{c.val().participants.includes(r)&&(a=!0)}),a?i.next(!1):i.next(!0),i.complete()}else i.next(!0),i.complete()})})}};e.\u0275fac=function(i){return new(i||e)(N(hn))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nH=t=>["/home-page",t],OT=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.settingsService=i,this.conservationService=o,this.router=s,this.title="",this.ConvId="",this.currentConvId="",this.isDarkMode=!1,this.tapSelected=new ye}ngOnInit(){this.route.params.subscribe(r=>{this.currentConvId=r.ConvId}),this.isDarkMode=this.settingsService.getMode()===fe.DARK}isActive(){return this.ConvId===this.currentConvId}deleteConservation(){return p(this,null,function*(){confirm("Delete this conversation?")&&(this.isActive()?(yield this.conservationService.deleteConservation(this.ConvId),this.router.navigate(["/home-page"])):yield this.conservationService.deleteConservation(this.ConvId))})}onTapClick(){this.tapSelected.emit()}};e.\u0275fac=function(i){return new(i||e)(S(Ct),S(ot),S(Gt),S(_e))},e.\u0275cmp=te({type:e,selectors:[["app-tap"]],inputs:{title:"title",ConvId:"ConvId"},outputs:{tapSelected:"tapSelected"},standalone:!0,features:[ne],decls:7,vars:10,consts:[[1,"space-between"],[1,"conservation-link",3,"click","routerLink"],[1,"flex"],["src","chat-bubble-bottom-center-text.svg",1,"icon"],["src","trash.svg",1,"icon",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"a",1),H("click",function(){return o.onTapClick()}),m(2,"div",2),M(3,"img",3),m(4,"span"),C(5),v()()(),m(6,"img",4),H("click",function(){return o.deleteConservation()}),v()()),i&2&&(Pr("active",o.isActive()),I(),D("routerLink",Ce(8,nH,o.ConvId)),I(2),Pr("invert",o.isDarkMode||o.isActive()),I(2),Me(o.title),I(),Pr("invert",o.isDarkMode))},dependencies:[xb,Eb,Ge],styles:[".conservation-link[_ngcontent-%COMP%]{width:calc(100% - 50px);display:inline-flex;align-items:center;padding:8px 12px;background-color:var(--tapBackground);color:var(--text-color);text-decoration:none;border-radius:4px;cursor:pointer}.conservation-link[_ngcontent-%COMP%]:hover{background-color:var(--tapHover)}.conservation-link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:8px}.active[_ngcontent-%COMP%]{background-color:#6967e4;color:#fff}.active[_ngcontent-%COMP%]   .conservation-link[_ngcontent-%COMP%]{background-color:transparent;color:#fff}.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .invert[_ngcontent-%COMP%]{filter:invert(100%)}.flex[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:90%;padding-top:5px;font-size:1.2vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.space-between[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;position:relative}img.icon[_ngcontent-%COMP%]{cursor:pointer;flex-shrink:0}@media (max-width: 600px){.flex[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:medium}}@media (min-width: 600px) and (max-width: 1200px){.flex[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:medium}}"]});let t=e;return t})();var vh=(()=>{let e=class e{constructor(){this.statusSubject=new he("profileIsClosed"),this.status$=this.statusSubject.asObservable()}setStatus(r){this.statusSubject.next(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iy=t=>({"dark-icon":t}),PT=(()=>{let e=class e{constructor(){this.settingsService=_(ot),this.theme=fe}ngOnInit(){this.mode=this.settingsService.getMode(),this.updateIcon(this.mode),this.settingsService.mode$.subscribe(r=>{this.mode=r,this.updateIcon(r),this.applyMode(r)})}goBack(){this.settingsService.setStatus("settingsIsClosed")}toggleMode(){let r=this.mode===fe.DARK?fe.LIGHT:fe.DARK;this.settingsService.setMode(r)}updateIcon(r){this.icon=r===fe.DARK?"moon.svg":"sun.svg"}applyMode(r){let i=document.body;r===fe.DARK?i.classList.add("dark-theme"):i.classList.remove("dark-theme")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-settings"]],standalone:!0,features:[ne],decls:12,vars:11,consts:[[1,"go-back",3,"click"],["src","arrow-long-left.svg",1,"icon",3,"ngClass"],["src","settings.svg",1,"icon",3,"ngClass"],[1,"toggle-mode-btn",3,"click"],[1,"flex"],[1,"icon-container"],[1,"icon",3,"src","ngClass"]],template:function(i,o){i&1&&(m(0,"div",0),H("click",function(){return o.goBack()}),M(1,"img",1),v(),m(2,"header"),M(3,"img",2),m(4,"h3"),C(5,"S E T T I N G S"),v()(),m(6,"div",3),H("click",function(){return o.toggleMode()}),m(7,"div",4)(8,"div",5),M(9,"img",6),v(),m(10,"span"),C(11),v()()()),i&2&&(I(),D("ngClass",Ce(5,iy,o.mode===o.theme.DARK)),I(2),D("ngClass",Ce(7,iy,o.mode===o.theme.DARK)),I(6),D("src",o.icon,Ze)("ngClass",Ce(9,iy,o.mode===o.theme.DARK)),I(2),Mi("",o.mode," mode"))},dependencies:[Ge,yt],styles:["header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.icon[_ngcontent-%COMP%]{width:30px;height:30px}.toggle-mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 15px;border-radius:30px;border:1px solid var(--bottonsBorder);background-color:var(--button);margin-bottom:10px;cursor:pointer;transition:background-color .3s ease}.toggle-mode-btn[_ngcontent-%COMP%]:hover{background-color:#6866da}.icon-container[_ngcontent-%COMP%]{width:10px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:10px}h3[_ngcontent-%COMP%]{color:var(--h1)}span[_ngcontent-%COMP%]{margin-top:3px;font-size:16px;color:var(--text-color)}.flex[_ngcontent-%COMP%]{box-sizing:border-box;padding:2px;display:flex;gap:5px}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}"]});let t=e;return t})();var kT=t=>({"dark-icon":t}),FT=(()=>{let e=class e{constructor(r,i){this.router=r,this.settingsService=i,this.email="",this.profileService=_(vh),this.conservationService=_(Gt),this.theme=fe}ngOnInit(){let r=sessionStorage.getItem("userEmail");r&&(this.email=r),this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(i=>{this.mode=i})}goBack(){this.profileService.setStatus("profilesIsClosed")}Logout(){sessionStorage.getItem("userRole")==="user"&&this.conservationService.setFirstMessageStatus(!0),sessionStorage.clear(),this.router.navigate([""]),this.profileService.setStatus("profilesIsClosed")}};e.\u0275fac=function(i){return new(i||e)(S(_e),S(ot))},e.\u0275cmp=te({type:e,selectors:[["app-profile"]],standalone:!0,features:[ne],decls:9,vars:7,consts:[[1,"go-back",3,"click"],["src","arrow-long-left.svg",1,"icon",3,"ngClass"],["src","user.svg",1,"icon",3,"ngClass"],[1,"button",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),H("click",function(){return o.goBack()}),M(1,"img",1),v(),m(2,"header"),M(3,"img",2),m(4,"h3"),C(5),v()(),m(6,"div",3),H("click",function(){return o.Logout()}),m(7,"span"),C(8,"Logout"),v()()),i&2&&(I(),D("ngClass",Ce(3,kT,o.mode===o.theme.DARK)),I(2),D("ngClass",Ce(5,kT,o.mode===o.theme.DARK)),I(2),Me(o.email))},dependencies:[Ge,yt],styles:["header[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.button[_ngcontent-%COMP%]{text-align:center;padding:10px 15px;border-radius:30px;border:1px solid var(--bottonsBorder);background-color:var(--button);margin-bottom:10px;cursor:pointer;transition:background-color .3s ease}h3[_ngcontent-%COMP%]{color:var(--h1)}.button[_ngcontent-%COMP%]:hover{background-color:var(--bottonsHover)}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}"]});let t=e;return t})();var LT=t=>({"dark-icon":t});function rH(t,e){t&1&&(qn(0),M(1,"app-settings"),Kn())}function iH(t,e){t&1&&(qn(0),M(1,"app-profile"),Kn())}function oH(t,e){t&1&&(m(0,"div",21),C(1,"Loading..."),v())}function sH(t,e){if(t&1&&(m(0,"div",22)(1,"div",23)(2,"p"),C(3,"History Is Empty"),v(),M(4,"img",24),v()()),t&2){let n=ee(3);I(4),D("ngClass",Ce(1,LT,n.mode===n.theme.DARK))}}function aH(t,e){if(t&1){let n=En();m(0,"app-tap",27),H("tapSelected",function(){Se(n);let i=ee(4);return Te(i.handleTapSelection())}),v()}if(t&2){let n=e.$implicit;D("title",n.firstMessage.text)("ConvId",n.id.toString())}}function cH(t,e){if(t&1&&(m(0,"div",25),ue(1,aH,1,2,"app-tap",26),v()),t&2){let n=ee(3);I(),D("ngForOf",n.allConservations)}}function lH(t,e){if(t&1){let n=En();m(0,"header")(1,"div",4)(2,"h2"),C(3,"C H A T A.I+"),v(),m(4,"img",5),H("click",function(){Se(n);let i=ee(2);return Te(i.closeSidebar())}),v()(),m(5,"div",6),qn(6),m(7,"img",7),H("click",function(){Se(n);let i=ee(2);return i.newChat(),Te(i.closeSidebar())}),v(),Kn(),v()(),M(8,"hr"),m(9,"div",8)(10,"div",9),C(11,"History"),v(),m(12,"a",10),C(13,"Clear All"),v()(),M(14,"hr"),m(15,"div",11),ue(16,oH,2,0,"div",12)(17,sH,5,3,"div",13)(18,cH,2,1,"div",14),m(19,"div",15)(20,"div",16),H("click",function(){Se(n);let i=ee(2);return Te(i.openSettings())}),m(21,"div",17),M(22,"img",18),v(),m(23,"span"),C(24,"Settings"),v()(),m(25,"div",19),H("click",function(){Se(n);let i=ee(2);return Te(i.openProfile())}),m(26,"div",17),M(27,"img",20),v(),m(28,"span"),C(29),v()()()()}if(t&2){let n=ee(2);I(4),D("ngClass",Ce(5,LT,n.mode===n.theme.DARK)),I(12),D("ngIf",n.isLoading),I(),D("ngIf",!n.isLoading&&n.isEmpty),I(),D("ngIf",!n.isLoading),I(11),Me(n.email)}}function uH(t,e){if(t&1&&(ue(0,iH,2,0,"ng-container",3),Dt(1,"async"),ue(2,lH,30,7,"ng-template",null,1,Ai)),t&2){let n=tn(3),r=ee();D("ngIf",Yn(1,2,r.profilestatus$)==="profilesIsOpened")("ngIfElse",n)}}var VT=(()=>{let e=class e{constructor(){this.userRole="",this.settingsService=_(ot),this.profileService=_(vh),this.conservationService=_(Gt),this.sidebarClosed=new ye,this.conversationSelected=new ye,this.status$=this.settingsService.status$,this.profilestatus$=this.profileService.status$,this.router=_(_e),this.email="",this.allConservations=[],this.isLoading=!0,this.isEmpty=!0,this.theme=fe}ngOnInit(){let r=sessionStorage.getItem("userEmail");this.userRole=sessionStorage.getItem("userRole")||"",r&&(this.email=r),this.conservationService.isEmptyConservations(this.email).subscribe(i=>{this.isEmpty=i}),this.conservationService.getAllConservations(this.email).subscribe(i=>{this.allConservations=i,this.isLoading=!1}),this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(i=>{this.mode=i})}openSettings(){this.settingsService.setStatus("settingsIsOpened")}openProfile(){this.profileService.setStatus("profilesIsOpened")}newChat(){return p(this,null,function*(){this.router.navigate(["/home-page"])})}closeSidebar(){this.sidebarClosed.emit()}handleTapSelection(){this.conversationSelected.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-side-bar"]],outputs:{sidebarClosed:"sidebarClosed",conversationSelected:"conversationSelected"},standalone:!0,features:[ne],decls:5,vars:4,consts:[["settingsIsClosed",""],["profilesIsClosed",""],[1,"container"],[4,"ngIf","ngIfElse"],[1,"flex"],["src","bars-arrow-up.svg","alt","User Icon",1,"close-side-bar",3,"click","ngClass"],[1,"new-chat"],["id","new-chat-img","src","new-chat.svg",1,"icon",3,"click"],[1,"conversations-container"],[1,"conversations-title"],[1,"clear-link"],[1,"top-lower"],["class","loading-message",4,"ngIf"],["class","no-conversations-message",4,"ngIf"],["class","history",4,"ngIf"],[1,"buttons"],[1,"settings-button",3,"click"],[1,"icon-container"],["src","settings.svg",1,"icon"],[1,"profile-button",3,"click"],["src","user.svg",1,"icon"],[1,"loading-message"],[1,"no-conversations-message"],[1,"history-empty"],["src","book-open.svg",1,"icon",3,"ngClass"],[1,"history"],[3,"title","ConvId","tapSelected",4,"ngFor","ngForOf"],[3,"tapSelected","title","ConvId"]],template:function(i,o){if(i&1&&(m(0,"div",2),ue(1,rH,2,0,"ng-container",3),Dt(2,"async"),ue(3,uH,4,4,"ng-template",null,0,Ai),v()),i&2){let s=tn(4);I(),D("ngIf",Yn(2,2,o.status$)==="settingsIsOpened")("ngIfElse",s)}},dependencies:[OT,PT,Ge,yt,Mu,bn,Ur,FT],styles:[".container[_ngcontent-%COMP%]{background-color:var(--sidebar);box-sizing:border-box;padding:20px;justify-content:center;width:100%;height:100%}.header[_ngcontent-%COMP%]{justify-content:center;font-size:1.5vw}h2[_ngcontent-%COMP%]{color:var(--text-color);font-size:1.5vw}.conversations-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.clear-link[_ngcontent-%COMP%]{font-size:14px;color:#3b82f6;text-decoration:none;cursor:pointer}.clear-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.settings-button[_ngcontent-%COMP%], .profile-button[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;align-items:center;padding:10px 15px;border-radius:20px;border:1px solid var(--bottonsBorder);background-color:var(--button);cursor:pointer;transition:background-color .3s ease;width:auto;height:auto}.settings-button[_ngcontent-%COMP%]:hover, .profile-button[_ngcontent-%COMP%]:hover{background-color:var(--bottonsHover)}.icon-container[_ngcontent-%COMP%]{width:10px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:10px}span[_ngcontent-%COMP%]{font-size:1.2vw;color:#000}.history[_ngcontent-%COMP%]{height:60%;overflow-y:auto;display:flex;flex-direction:column}.history[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.conversations-title[_ngcontent-%COMP%], .loading-message[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700}.conversations-title[_ngcontent-%COMP%]{font-size:1vw}.loading-message[_ngcontent-%COMP%]{text-align:center}.top-lower[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column;justify-content:space-between}.new-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.buttons[_ngcontent-%COMP%]{gap:10px;display:flex;flex-direction:column;height:auto;width:100%}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.close-side-bar[_ngcontent-%COMP%]{display:none}.no-conversations-message[_ngcontent-%COMP%]{font-weight:700;text-align:center}.history-empty[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.history-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:large;color:var(--text-color)}@media (max-height: 600px){.top-lower[_ngcontent-%COMP%]{height:60%}}@media (min-height: 601px){.top-lower[_ngcontent-%COMP%]{height:70%}}@media (max-width: 330px){.close-side-bar[_ngcontent-%COMP%]{display:block}#new-chat-img[_ngcontent-%COMP%]{height:40px;width:260px;align-items:start}h2[_ngcontent-%COMP%]{font-size:21px}.header[_ngcontent-%COMP%]{align-items:start}.conversations-title[_ngcontent-%COMP%]{font-size:medium}span[_ngcontent-%COMP%]{font-size:18px}}@media (min-width: 331px) and (max-width: 600px){.close-side-bar[_ngcontent-%COMP%]{display:block}#new-chat-img[_ngcontent-%COMP%]{height:50px;width:280px;align-items:start}h2[_ngcontent-%COMP%]{font-size:25px}.header[_ngcontent-%COMP%]{align-items:start}.conversations-title[_ngcontent-%COMP%]{font-size:large}span[_ngcontent-%COMP%]{font-size:medium}}@media (min-width: 600px) and (max-width: 1200px){h2[_ngcontent-%COMP%]{font-size:20px}.conversations-title[_ngcontent-%COMP%]{font-size:large}span[_ngcontent-%COMP%]{font-size:medium}}"]});let t=e;return t})();var WT="firebasestorage.googleapis.com",GT="storageBucket",dH=2*60*1e3,hH=10*60*1e3;var Re=class t extends At{constructor(e,n,r=0){super(oy(e),`Firebase Storage: ${n} (${oy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Fe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Fe||{});function oy(t){return"storage/"+t}function dy(){let t="An unknown error occurred, please check the error payload for server response.";return new Re(Fe.UNKNOWN,t)}function fH(t){return new Re(Fe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pH(t){return new Re(Fe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gH(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(Fe.UNAUTHENTICATED,t)}function mH(){return new Re(Fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vH(t){return new Re(Fe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _H(){return new Re(Fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yH(){return new Re(Fe.CANCELED,"User canceled the upload/download.")}function CH(t){return new Re(Fe.INVALID_URL,"Invalid URL '"+t+"'.")}function wH(t){return new Re(Fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IH(){return new Re(Fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GT+"' property when initializing the app?")}function EH(){return new Re(Fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bH(){return new Re(Fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DH(t){return new Re(Fe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sy(t){return new Re(Fe.INVALID_ARGUMENT,t)}function qT(){return new Re(Fe.APP_DELETED,"The Firebase app was deleted.")}function SH(t){return new Re(Fe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ac(t,e){return new Re(Fe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mc(t){throw new Re(Fe.INTERNAL_ERROR,"Internal error: "+t)}var fn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw wH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function l(le){le.path_=decodeURIComponent(le.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},w=n===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",R=new RegExp(`^https?://${w}/${i}/${b}`,"i"),z=[{regex:a,indices:c,postModify:o},{regex:f,indices:g,postModify:l},{regex:R,indices:{bucket:1,path:2},postModify:l}];for(let le=0;le<z.length;le++){let pt=z[le],$e=pt.regex.exec(e);if($e){let qt=$e[pt.indices.bucket],Fn=$e[pt.indices.path];Fn||(Fn=""),r=new t(qt,Fn),pt.postModify(r);break}}if(r==null)throw CH(e);return r}},ay=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function TH(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...b){l||(l=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(f,c())},b)}function h(){o&&clearTimeout(o)}function f(b,...R){if(l){h();return}if(b){h(),u.call(null,b,...R);return}if(c()||s){h(),u.call(null,b,...R);return}r<64&&(r*=2);let z;a===1?(a=2,z=0):z=(r+Math.random())*1e3,d(z)}let g=!1;function w(b){g||(g=!0,h(),!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function MH(t){t(!1)}function AH(t){return t!==void 0}function xH(t){return typeof t=="object"&&!Array.isArray(t)}function hy(t){return typeof t=="string"||t instanceof String}function UT(t){return fy()&&t instanceof Blob}function fy(){return typeof Blob<"u"}function jT(t,e,n,r){if(r<e)throw sy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sy(`Invalid value for '${t}'. Expected ${n} or less.`)}function py(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KT(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ds=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ds||{});function NH(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var cy=class{constructor(e,n,r,i,o,s,a,c,l,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new bs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Ds.NO_ERROR,c=o.getStatus();if(!a||NH(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===Ds.ABORT;r(!1,new bs(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new bs(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());AH(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=dy();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?qT():yH();s(c)}else{let c=_H();s(c)}};this.canceled_?n(!1,new bs(!1,null,!0)):this.backoffId_=TH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},bs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function RH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FH(t,e,n,r,i,o,s=!0){let a=KT(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return PH(l,e),RH(l,n),OH(l,o),kH(l,r),new cy(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function LH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VH(...t){let e=LH();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(fy())return new Blob(t);throw new Re(Fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function jH(t){if(typeof atob>"u")throw DH("base-64");return atob(t)}var kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function BH(t,e){switch(t){case kn.RAW:return new xc(YT(e));case kn.BASE64:case kn.BASE64URL:return new xc(QT(t,e));case kn.DATA_URL:return new xc(HH(e),zH(e))}throw dy()}function YT(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $H(t){let e;try{e=decodeURIComponent(t)}catch{throw Ac(kn.DATA_URL,"Malformed data URL.")}return YT(e)}function QT(t,e){switch(t){case kn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ac(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ac(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jH(e)}catch(i){throw i.message.includes("polyfill")?i:Ac(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var yh=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ac(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=WH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function HH(t){let e=new yh(t);return e.base64?QT(kn.BASE64,e.rest):$H(e.rest)}function zH(t){return new yh(t).contentType}function WH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ch=class t{constructor(e,n){let r=0,i="";UT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(UT(this.data_)){let r=this.data_,i=UH(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(fy()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(VH.apply(null,n))}else{let n=e.map(s=>hy(s)?BH(kn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function ZT(t){let e;try{e=JSON.parse(t)}catch{return null}return xH(e)?e:null}function GH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qH(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function JT(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function KH(t,e){return e}var tt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||KH}},_h=null;function YH(t){return!hy(t)||t.length<2?t:JT(t)}function XT(){if(_h)return _h;let t=[];t.push(new tt("bucket")),t.push(new tt("generation")),t.push(new tt("metageneration")),t.push(new tt("name","fullPath",!0));function e(o,s){return YH(s)}let n=new tt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new tt("size");return i.xform=r,t.push(i),t.push(new tt("timeCreated")),t.push(new tt("updated")),t.push(new tt("md5Hash",null,!0)),t.push(new tt("cacheControl",null,!0)),t.push(new tt("contentDisposition",null,!0)),t.push(new tt("contentEncoding",null,!0)),t.push(new tt("contentLanguage",null,!0)),t.push(new tt("contentType",null,!0)),t.push(new tt("metadata","customMetadata",!0)),_h=t,_h}function QH(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new fn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function ZH(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return QH(r,t),r}function eM(t,e,n){let r=ZT(e);return r===null?null:ZH(t,r,n)}function JH(t,e,n,r){let i=ZT(e);if(i===null||!hy(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),f=py(h,n,r),g=KT({alt:"media",token:l});return f+g})[0]}function XH(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var wh=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function tM(t){if(!t)throw dy()}function ez(t,e){function n(r,i){let o=eM(t,i,e);return tM(o!==null),o}return n}function tz(t,e){function n(r,i){let o=eM(t,i,e);return tM(o!==null),JH(o,i,t.host,t._protocol)}return n}function nM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mH():i=gH():n.getStatus()===402?i=pH(t.bucket):n.getStatus()===403?i=vH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nz(t){let e=nM(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=fH(t.path)),o.serverResponse=i.serverResponse,o}return n}function rz(t,e,n){let r=e.fullServerUrl(),i=py(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new wh(i,o,tz(t,n),s);return a.errorHandler=nz(e),a}function iz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oz(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iz(null,e)),r}function sz(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let z="";for(let le=0;le<2;le++)z=z+Math.random().toString().slice(2);return z}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let l=oz(e,r,i),u=XH(l,n),d="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+c+"--",f=Ch.getBlob(d,r,h);if(f===null)throw EH();let g={name:l.fullPath},w=py(o,t.host,t._protocol),b="POST",R=t.maxUploadRetryTime,pe=new wh(w,b,ez(t,n),R);return pe.urlParams=g,pe.headers=s,pe.body=f.uploadData(),pe.errorHandler=nM(e),pe}var k7=256*1024;var BT=null,ly=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ds.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ds.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ds.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Mc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},uy=class extends ly{initXhr(){this.xhr_.responseType="text"}};function rM(){return BT?BT():new uy}var Ss=class t{constructor(e,n){this._service=e,n instanceof fn?this._location=n:this._location=fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JT(this._location.path)}get storage(){return this._service}get parent(){let e=GH(this._location.path);if(e===null)return null;let n=new fn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SH(e)}};function az(t,e,n){t._throwIfRoot("uploadBytes");let r=sz(t.storage,t._location,XT(),new Ch(e,!0),n);return t.storage.makeRequestWithTokens(r,rM).then(i=>({metadata:i,ref:t}))}function cz(t){t._throwIfRoot("getDownloadURL");let e=rz(t.storage,t._location,XT());return t.storage.makeRequestWithTokens(e,rM).then(n=>{if(n===null)throw bH();return n})}function lz(t,e){let n=qH(t._location.path,e),r=new fn(t._location.bucket,n);return new Ss(t.storage,r)}function uz(t){return/^[A-Za-z]+:\/\//.test(t)}function dz(t,e){return new Ss(t,e)}function iM(t,e){if(t instanceof Nc){let n=t;if(n._bucket==null)throw IH();let r=new Ss(n,n._bucket);return e!=null?iM(r,e):r}else return e!==void 0?lz(t,e):t}function hz(t,e){if(e&&uz(e)){if(t instanceof Nc)return dz(t,e);throw sy("To use ref(service, url), the first argument must be a Storage instance.")}else return iM(t,e)}function $T(t,e){let n=e?.[GT];return n==null?null:fn.makeFromBucketSpec(n,t)}function fz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ld(i,t.app.options.projectId))}var Nc=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dH,this._maxUploadRetryTime=hH,this._requests=new Set,i!=null?this._bucket=fn.makeFromBucketSpec(i,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=$T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return p(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return p(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ss(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new ay(qT());{let s=FH(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return p(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},HT="@firebase/storage",zT="0.13.0";var oM="storage";function sM(t,e,n){return t=ke(t),az(t,e,n)}function aM(t){return t=ke(t),cz(t)}function cM(t,e){return t=ke(t),hz(t,e)}function lM(t=qr(),e){t=ke(t);let r=Ui(t,oM).getImmediate({identifier:e}),i=cd("storage");return i&&uM(r,...i),r}function uM(t,e,n,r={}){fz(t,e,n,r)}function pz(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nc(n,r,i,e,xn)}function gz(){An(new wt(oM,pz,"PUBLIC").setMultipleInstances(!0)),Ee(HT,zT,""),Ee(HT,zT,"esm2017")}gz();var Ji=class{constructor(e){return e}},dM="storage",gy=class{constructor(){return Bi(dM)}};var my=new A("angularfire2.storage-instances");function mz(t,e){let n=is(dM,t,e);return n&&new Ji(n)}function vz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ji(r)}}var _z={provide:gy,deps:[[new Oe,my]]},yz={provide:Ji,useFactory:mz,deps:[[new Oe,my],an]};function hM(t,...e){return Ee("angularfire",ar.full,"gcs"),Jt([yz,_z,{provide:my,useFactory:vz(t),multi:!0,deps:[ie,We,Yr,cr,[new Oe,zi],[new Oe,Kr],...e]}])}var fM=Ae(aM,!0);var pM=Ae(lM,!0);var gM=Ae(cM,!0);var mM=Ae(sM,!0);var wz=["fileInput"],Iz=t=>({"dark-icon":t});function Ez(t,e){if(t&1){let n=En();m(0,"div",8)(1,"div",9),M(2,"img",10),m(3,"button",11),H("click",function(){Se(n);let i=ee();return Te(i.removeImage())}),C(4,"X"),v()()()}if(t&2){let n=ee();I(2),D("src",n.selectedImage,Ze)}}var vM=(()=>{let e=class e{constructor(r,i,o,s,a){this.conservationService=r,this.route=i,this.router=o,this.settingsService=s,this.storage=a,this.newMessage="",this.theme=fe,this.selectedImage=null,this.selectedFile=null,this.userEmail=sessionStorage.getItem("userEmail")||"",this.userRole=sessionStorage.getItem("userRole")||""}ngOnInit(){this.router.events.subscribe(()=>{this.checkRoute()}),this.checkRoute(),this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(r=>{this.mode=r})}openFileBrowser(){this.fileInput.nativeElement.click()}checkRoute(){return p(this,null,function*(){let r=this.route.snapshot.paramMap.get("ConvId");r?(this.conservationId=r,console.log("Using existing conversation with ID:",this.conservationId)):this.userRole==="user"&&console.log("new chat --- default")})}sendMessage(){return p(this,null,function*(){if(!this.newMessage.trim()&&!this.selectedFile){console.log("Empty message, not sending");return}let r;if(this.selectedFile){let o=`images/${Date.now()}_${this.selectedFile.name}`,s=gM(this.storage,o);try{let a=yield mM(s,this.selectedFile);r=yield fM(a.ref),console.log("Image uploaded successfully:",r)}catch(a){console.error("Error uploading image:",a)}}let i={sender:this.userEmail,reciver:"chat@gmail.com",text:this.newMessage,sendDate:new Date(Date.now()).toLocaleString(),imageUrl:r||null};if(this.userRole==="chat"){let o=this.conservationId??"";if(!o){console.log("No conversation ID found");return}yield this.conservationService.sendMessage(o,i),this.conservationService.modifyDate(o)}else this.userRole==="user"&&(this.conservationId?(yield this.conservationService.sendMessage(this.conservationId,i),this.conservationService.modifyDate(this.conservationId)):(console.log("First message, creating new conversation"),this.conservationId=yield this.conservationService.createNewConservation(i),this.router.navigate(["home-page",this.conservationId])));this.newMessage="",this.removeImage()})}onFileSelected(r){let i=r.target;if(i.files&&i.files.length>0){let o=i.files[0];this.selectedFile=o;let s=new FileReader;s.onload=a=>{this.selectedImage=a.target.result},s.readAsDataURL(o)}}removeImage(){this.selectedImage=null,this.selectedFile=null,this.fileInput.nativeElement.value=""}};e.\u0275fac=function(i){return new(i||e)(S(Gt),S(Ct),S(_e),S(ot),S(Ji))},e.\u0275cmp=te({type:e,selectors:[["app-input"]],viewQuery:function(i,o){if(i&1&&uu(wz,5),i&2){let s;Zs(s=Js())&&(o.fileInput=s.first)}},standalone:!0,features:[ne],decls:8,vars:5,consts:[["fileInput",""],[1,"all"],["class","image-preview-container",4,"ngIf"],[1,"input-container"],["src","photo.svg","alt","img Icon",1,"icon",3,"click","ngClass"],["type","file","accept","image/*","hidden","",3,"change"],["type","text","placeholder","What's in your mind?...",3,"ngModelChange","keydown.enter","ngModel"],["src","paper-airplane.svg","alt","paper-airplane",1,"icon","arrow-icon",3,"click"],[1,"image-preview-container"],[1,"image-wrapper"],["alt","Preview",1,"selected-image",3,"src"],[1,"remove-button",3,"click"]],template:function(i,o){if(i&1){let s=En();m(0,"div",1),ue(1,Ez,5,1,"div",2),m(2,"div",3)(3,"img",4),H("click",function(){return Se(s),Te(o.openFileBrowser())}),v(),m(4,"input",5,0),H("change",function(c){return Se(s),Te(o.onFileSelected(c))}),v(),m(6,"input",6),Jp("ngModelChange",function(c){return Se(s),ZI(o.newMessage,c)||(o.newMessage=c),Te(c)}),H("keydown.enter",function(){return Se(s),Te(o.sendMessage())}),v(),m(7,"img",7),H("click",function(){return Se(s),Te(o.sendMessage())}),v()()()}i&2&&(I(),D("ngIf",o.selectedImage),I(2),D("ngClass",Ce(3,Iz,o.mode===o.theme.DARK)),I(3),Zp("ngModel",o.newMessage))},dependencies:[Ge,yt,bn,Hr,$r,Jo,ki],styles:[".all[_ngcontent-%COMP%]{box-sizing:border-box;padding:15px;margin:auto;width:90%;align-self:last baseline}.image-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;justify-content:flex-start}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.selected-image[_ngcontent-%COMP%]{max-width:60px;max-height:60px;border-radius:8px;object-fit:cover}.remove-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#ff4c4c;color:#fff;border:none;padding:3px 6px;border-radius:50%;cursor:pointer;display:none}.image-wrapper[_ngcontent-%COMP%]:hover   .remove-button[_ngcontent-%COMP%]{display:block}.remove-button[_ngcontent-%COMP%]:hover{background-color:#ff1c1c}button[_ngcontent-%COMP%]{background-color:#ff4c4c;color:#fff;border:none;padding:5px;cursor:pointer;border-radius:5px}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--inputBackground);border-radius:20px;width:100%;margin:auto;box-shadow:0 2px 5px #0000001a}.icon[_ngcontent-%COMP%]{padding-left:15px;height:20px;width:20px}.arrow-icon[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer;background-color:#6967e4;border-radius:50%;padding:10px;display:flex;justify-content:center;align-items:center}input[type=text][_ngcontent-%COMP%]{margin-left:3px;border:none;background-color:transparent;flex-grow:1;font-size:16px;outline:none;color:var(--text-color)}input[type=text][_ngcontent-%COMP%]::placeholder{color:#aaa}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}"]});let t=e;return t})();var _M=(()=>{let e=class e{constructor(){this.imgSrc="",this.title="",this.description=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-black-suggestions"]],inputs:{imgSrc:"imgSrc",title:"title",description:"description"},standalone:!0,features:[ne],decls:7,vars:3,consts:[[1,"card"],["alt","Icon",1,"icon",3,"src"],[1,"content"]],template:function(i,o){i&1&&(m(0,"button",0),M(1,"img",1),m(2,"div",2)(3,"h3"),C(4),v(),m(5,"p"),C(6),v()()()),i&2&&(I(),D("src",o.imgSrc,Ze),I(3),Me(o.title),I(2),Me(o.description))},styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;box-sizing:border-box;background-color:#1c1c1e;border-radius:10px;color:#fff;width:100%;height:100%;text-align:left;transition:background-color .3s ease,color .3s ease}.icon[_ngcontent-%COMP%]{filter:invert(1);margin-bottom:1rem;transition:filter .3s ease}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.6rem;font-weight:700;transition:color .3s ease}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.6rem;color:#a6a6a6;transition:color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{filter:invert(0)}button[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}@media (max-width: 400px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:9px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:7px}}"]});let t=e;return t})();var yM=(()=>{let e=class e{constructor(){this.imgSrc="",this.title="",this.description=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-white-suggestions"]],inputs:{imgSrc:"imgSrc",title:"title",description:"description"},standalone:!0,features:[ne],decls:10,vars:3,consts:[[1,"card"],["alt","Quantum Computing img",1,"card-icon",3,"src"],[1,"card-content"],[1,"arrow"],["src","arrow-long-right.svg",1,"icon"]],template:function(i,o){i&1&&(m(0,"button",0),M(1,"img",1)(2,"br"),m(3,"div",2)(4,"h3"),C(5),v(),m(6,"p"),C(7),v()(),m(8,"div",3),M(9,"img",4),v()()),i&2&&(I(),D("src",o.imgSrc,Ze),I(4),Mi('"',o.title,'"'),I(2),Mi("",o.description,'"'))},styles:[".card[_ngcontent-%COMP%]{flex-direction:column;text-align:left;width:100%;height:100%;display:flex;box-sizing:border-box;padding:5px;background-color:var(--cardBackground);border-radius:10px;box-shadow:0 2px 10px #ffffff1a;border:none;transition:color .3s ease}.arrow[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto}.card-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.card-content[_ngcontent-%COMP%]{flex-grow:1}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#000;font-weight:700;transition:color .3s ease}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.7rem;color:#555454;transition:color .3s ease}.arrow[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{filter:invert(0);transition:filter .3s ease}.card[_ngcontent-%COMP%]:hover{background-color:#6967e4}.card[_ngcontent-%COMP%]:hover   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{filter:invert(1)}@media (max-width: 400px){.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px}}"]});let t=e;return t})();var bz=["chatContainer"],Ih=(t,e)=>({"message-right":t,"message-left":e}),Eh=t=>({"dark-icon":t});function Dz(t,e){t&1&&(m(0,"div",4),C(1,"Loading..."),v())}function Sz(t,e){if(t&1&&M(0,"img",13),t&2){let n=ee(2).$implicit;D("src",n.imageUrl,Ze)}}function Tz(t,e){if(t&1&&(m(0,"div",9)(1,"div",10)(2,"p"),C(3),v(),ue(4,Sz,1,1,"img",11),m(5,"small"),C(6),Dt(7,"date"),v()(),M(8,"img",12),v()),t&2){let n=ee().$implicit,r=ee(3);D("ngClass",ea(8,Ih,n.sender===r.userEmail,n.sender!==r.userEmail)),I(3),Me(n.text),I(),D("ngIf",n.imageUrl),I(2),Me(ta(7,5,n.sendDate,"shortTime")),I(2),D("ngClass",Ce(11,Eh,r.mode===r.theme.DARK))}}function Mz(t,e){if(t&1&&M(0,"img",13),t&2){let n=ee(2).$implicit;D("src",n.imageUrl,Ze)}}function Az(t,e){if(t&1&&(m(0,"div",9),M(1,"img",14),m(2,"div",10)(3,"p"),C(4),v(),ue(5,Mz,1,1,"img",11),m(6,"small"),C(7),Dt(8,"date"),v()()()),t&2){let n=ee().$implicit,r=ee(3);D("ngClass",ea(8,Ih,n.sender===r.userEmail,n.sender!==r.userEmail)),I(),D("ngClass",Ce(11,Eh,r.mode===r.theme.DARK)),I(3),Me(n.text),I(),D("ngIf",n.imageUrl),I(2),Me(ta(8,5,n.sendDate,"shortTime"))}}function xz(t,e){if(t&1&&M(0,"img",13),t&2){let n=ee(2).$implicit;D("src",n.imageUrl,Ze)}}function Nz(t,e){if(t&1&&(m(0,"div",9)(1,"div",10)(2,"p"),C(3),v(),ue(4,xz,1,1,"img",11),m(5,"small"),C(6),Dt(7,"date"),v()(),M(8,"img",14),v()),t&2){let n=ee().$implicit,r=ee(3);D("ngClass",ea(8,Ih,n.sender===r.userEmail,n.sender!==r.userEmail)),I(3),Me(n.text),I(),D("ngIf",n.imageUrl),I(2),Me(ta(7,5,n.sendDate,"shortTime")),I(2),D("ngClass",Ce(11,Eh,r.mode===r.theme.DARK))}}function Rz(t,e){if(t&1&&M(0,"img",13),t&2){let n=ee(2).$implicit;D("src",n.imageUrl,Ze)}}function Oz(t,e){if(t&1&&(m(0,"div",9),M(1,"img",12),m(2,"div",10)(3,"p"),C(4),v(),ue(5,Rz,1,1,"img",11),m(6,"small"),C(7),Dt(8,"date"),v()()()),t&2){let n=ee().$implicit,r=ee(3);D("ngClass",ea(8,Ih,n.sender===r.userEmail,n.sender!==r.userEmail)),I(),D("ngClass",Ce(11,Eh,r.mode===r.theme.DARK)),I(3),Me(n.text),I(),D("ngIf",n.imageUrl),I(2),Me(ta(8,5,n.sendDate,"shortTime"))}}function Pz(t,e){if(t&1&&(m(0,"div"),ue(1,Tz,9,13,"div",8)(2,Az,9,13,"div",8)(3,Nz,9,13,"div",8)(4,Oz,9,13,"div",8),v()),t&2){let n=e.$implicit,r=ee(3);I(),D("ngIf",n.sender===r.userEmail&&r.userRole==="user"),I(),D("ngIf",n.sender!==r.userEmail&&r.userRole==="user"),I(),D("ngIf",n.sender===r.userEmail&&r.userRole==="chat"),I(),D("ngIf",n.sender!==r.userEmail&&r.userRole==="chat")}}function kz(t,e){if(t&1&&(m(0,"div")(1,"div",7)(2,"h3"),C(3),v()(),ue(4,Pz,5,4,"div",6),v()),t&2){let n=e.$implicit;I(3),Me(n.date),I(),D("ngForOf",n.messages)}}function Fz(t,e){if(t&1&&(m(0,"div",5),ue(1,kz,5,2,"div",6),Dt(2,"async"),v()),t&2){let n=ee();I(),D("ngForOf",Yn(2,1,n.messages$))}}var CM=(()=>{let e=class e{constructor(r,i){this.conservationService=r,this.settingsService=i,this.loading=!0,this.theme=fe}ngOnInit(){this.userEmail=sessionStorage.getItem("userEmail")||"",this.userRole=sessionStorage.getItem("userRole")||"",this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(r=>{this.mode=r})}ngOnChanges(r){r.conservationId&&this.conservationId&&this.loadMessages(this.conservationId)}loadMessages(r){this.loading=!0,this.conservationService.getConservationById(r).subscribe(i=>{if(i){let o=Object.values(i.messages);this.messages$=this.groupMessagesByDate(o),this.messages$.subscribe(()=>{this.scrollToBottom(),this.loading=!1})}})}scrollToBottom(){try{this.chatContainer&&(this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight)}catch(r){console.error(r)}}groupMessagesByDate(r){let i=r.sort((a,c)=>new Date(a.sendDate).getTime()-new Date(c.sendDate).getTime()),o={};i.forEach(a=>{let c=this.messagesSentDay(new Date(a.sendDate));o[c]||(o[c]=[]),o[c].push(a)});let s=Object.keys(o).map(a=>({date:a,messages:o[a]})).sort((a,c)=>{let l=new Date(a.messages[0].sendDate),u=new Date(c.messages[0].sendDate);return l.getTime()-u.getTime()});return new U(a=>{a.next(s)})}messagesSentDay(r){let i=new Date;i.setHours(0,0,0,0);let o=new Date(r);o.setHours(0,0,0,0);let s=i.getTime()-o.getTime(),a=Math.floor(s/(1e3*3600*24));return a===0?"Today":a===1?"Yesterday":a>1&&a<=7?`${a} days ago`:o.toLocaleDateString()}};e.\u0275fac=function(i){return new(i||e)(S(Gt),S(ot))},e.\u0275cmp=te({type:e,selectors:[["app-chat"]],viewQuery:function(i,o){if(i&1&&uu(bz,5),i&2){let s;Zs(s=Js())&&(o.chatContainer=s.first)}},inputs:{conservationId:"conservationId"},standalone:!0,features:[wn,ne],decls:4,vars:2,consts:[["chatContainer",""],[1,"chat-container"],["class","loading",4,"ngIf"],["class","messages",4,"ngIf"],[1,"loading"],[1,"messages"],[4,"ngFor","ngForOf"],[1,"date-header"],["class","message-icon",3,"ngClass",4,"ngIf"],[1,"message-icon",3,"ngClass"],[1,"message-content"],["alt","Image","class","message-image",3,"src",4,"ngIf"],["src","user.svg","alt","User Icon",1,"icon",3,"ngClass"],["alt","Image",1,"message-image",3,"src"],["src","bolt.svg","alt","Chat Icon",1,"icon",3,"ngClass"]],template:function(i,o){i&1&&(m(0,"div",1,0),ue(2,Dz,2,0,"div",2)(3,Fz,3,3,"div",3),v()),i&2&&(I(2),D("ngIf",o.loading),I(),D("ngIf",!o.loading))},dependencies:[Ge,yt,Mu,bn,Ur,SE,Hr],styles:['.chat-container[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto;margin:auto;padding-bottom:20px;border-radius:10px;position:relative}.loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:25px;font-weight:700;color:var(--text-color);text-align:center}.chat-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.messages[_ngcontent-%COMP%]{border-radius:5px}.message-icon[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;max-width:calc(100% - 50px);padding:10px;word-wrap:break-word;white-space:normal}.message-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;margin-right:10px}.message-right[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], .message-left[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{margin:0}.message-right[_ngcontent-%COMP%]{justify-content:flex-end;text-align:right}.message-left[_ngcontent-%COMP%]{justify-content:flex-start;text-align:left}.message-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:16px;color:var(--text-color)}.message-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--messagedate)}.message-right[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:10px}.message-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}.date-header[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:700;color:var(--text-color);position:sticky;top:0;background-color:inherit;z-index:1;padding:10px;display:flex;align-items:center;justify-content:center}.date-header[_ngcontent-%COMP%]:before, .date-header[_ngcontent-%COMP%]:after{content:"";height:1px;background:#ccc}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}.message-image[_ngcontent-%COMP%]{margin:auto;max-width:200px;max-height:200px;border-radius:5px;object-fit:cover}']});let t=e;return t})();var vy=t=>({"dark-icon":t});function Lz(t,e){if(t&1&&(qn(0),m(1,"header")(2,"div",4),C(3,"C H A T A.I+"),v(),m(4,"h1"),C(5,"Good day! How may I assist you today?"),v()(),m(6,"div",5),M(7,"app-black-suggestions",6)(8,"img",7)(9,"app-white-suggestions",8)(10,"app-white-suggestions",9)(11,"app-black-suggestions",10)(12,"img",7)(13,"app-white-suggestions",11)(14,"app-white-suggestions",12)(15,"app-black-suggestions",13)(16,"img",7)(17,"app-white-suggestions",14)(18,"app-white-suggestions",15),v(),Kn()),t&2){let n=ee();I(8),D("ngClass",Ce(3,vy,n.mode===n.theme.DARK)),I(4),D("ngClass",Ce(5,vy,n.mode===n.theme.DARK)),I(4),D("ngClass",Ce(7,vy,n.mode===n.theme.DARK))}}function Vz(t,e){if(t&1&&M(0,"app-chat",16),t&2){let n=ee();D("conservationId",n.conservationId||"")}}var wM=(()=>{let e=class e{constructor(r){this.settingsService=r,this.conservationService=_(Gt),this.route=_(Ct),this.router=_(_e),this.theme=fe,this.DisplayDefault$=new he(!0),this.conservationId=null}ngOnInit(){this.router.events.subscribe(()=>{this.checkRoute()}),this.checkRoute(),console.log("conservationID= "+this.conservationId),this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(r=>{this.mode=r})}checkRoute(){let r=this.route.snapshot.paramMap.get("ConvId");r?(this.conservationId=r,this.DisplayDefault$.next(!1)):this.DisplayDefault$.next(!0)}};e.\u0275fac=function(i){return new(i||e)(S(ot))},e.\u0275cmp=te({type:e,selectors:[["app-main-chat"]],standalone:!0,features:[ne],decls:6,vars:4,consts:[["DisplayChatting",""],[1,"container"],[1,"all"],[4,"ngIf","ngIfElse"],[1,"chat-ai"],[1,"body"],["imgSrc","globe-alt.svg","title","Explore","description","Learn how to use chat.ai platform for your needs"],["src","pause.svg",1,"dashes",3,"ngClass"],["imgSrc","residential.jpg","title","Explain","description","Quantum computing in simple terms"],["imgSrc","blue.jpg","title","How to","description","Make a search engine platform like google"],["imgSrc","bolt.svg","title","Capable","description","How much capable chat.ai to full-fill your needs"],["imgSrc","brain2.png","title","Remember","description","Quantum computing in simple terms"],["imgSrc","lock.jpg","title","Allows","description","User to provide follow-up corrections"],["imgSrc","exclamation-triangle.svg","title","Limitation","description","How much capable chat.ai to full-fill your needs"],["imgSrc","X.png","title","May","description","May generate incorrect information"],["imgSrc","ai.png","title","Limited","description","Knowledge of world and events after 2021"],[3,"conservationId"]],template:function(i,o){if(i&1&&(m(0,"div",1)(1,"div",2),ue(2,Lz,19,9,"ng-container",3),Dt(3,"async"),ue(4,Vz,1,1,"ng-template",null,0,Ai),v()()),i&2){let s=tn(5);I(2),D("ngIf",Yn(3,2,o.DisplayDefault$))("ngIfElse",s)}},dependencies:[_M,yM,CM,Ge,yt,bn,Ur],styles:[".container[_ngcontent-%COMP%]{box-sizing:border-box;padding:16px;display:flex;flex-direction:column}.all[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}header[_ngcontent-%COMP%]{text-align:center}.chat-ai[_ngcontent-%COMP%]{font-size:1.3vw;font-weight:700;color:var(--chatAi);border-radius:30px;padding:10px 20px;display:inline-flex;align-items:center;white-space:nowrap}h1[_ngcontent-%COMP%]{font-size:2.5vw;color:var(--h1)}.body[_ngcontent-%COMP%]{width:auto;height:auto;box-sizing:border-box;justify-content:center;display:grid;grid-template-columns:17% 5% 35% 35%;grid-template-rows:33% 33% 33%;column-gap:10px;row-gap:5px}.dashes[_ngcontent-%COMP%]{align-self:center;justify-self:center}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}@media (max-width: 500px){.body[_ngcontent-%COMP%]{grid-template-columns:22% 5% 32% 32%}.chat-ai[_ngcontent-%COMP%]{font-size:large}h1[_ngcontent-%COMP%]{font-size:20px}}@media (min-width: 500px) and (max-width: 1200px){.chat-ai[_ngcontent-%COMP%]{font-size:large}h1[_ngcontent-%COMP%]{font-size:20px}}"]});let t=e;return t})();var Uz=t=>({"mobile-sidebar-open":t}),jz=t=>({"dark-icon":t}),_y=(()=>{let e=class e{constructor(){this.settingsService=_(ot),this.sideBarOpened=!1,this.theme=fe}ngOnInit(){this.mode=this.settingsService.getMode(),this.settingsService.mode$.subscribe(r=>{this.mode=r})}openSideBar(){this.sideBarOpened=!0}closeSideBar(){this.sideBarOpened=!1}handleTapSelection(){this.closeSideBar()}handleNewChat(){this.closeSideBar()}handleConversationSelected(){window.innerWidth<=600&&this.closeSideBar()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-home-page"]],standalone:!0,features:[ne],decls:9,vars:6,consts:[["name","viewport","content","width=device-width, initial-scale=1.0",1,"home-page",3,"ngClass"],[1,"side-bar"],[3,"sidebarClosed","conversationSelected"],[1,"main-chat"],[1,"open-side-bar",3,"click"],["src","bars-3.svg",1,"icon",3,"ngClass"],[1,"input"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"app-side-bar",2),H("sidebarClosed",function(){return o.closeSideBar()})("conversationSelected",function(){return o.handleConversationSelected()}),v()(),m(3,"div",3)(4,"div",4),H("click",function(){return o.openSideBar()}),M(5,"img",5),v(),M(6,"app-main-chat"),v(),m(7,"div",6),M(8,"app-input"),v()()),i&2&&(D("ngClass",Ce(2,Uz,o.sideBarOpened)),I(5),D("ngClass",Ce(4,jz,o.mode===o.theme.DARK)))},dependencies:[VT,vM,wM,Ge,yt],styles:[".home-page[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 75%;grid-template-rows:90% 10%;width:100%;height:100vh;background-color:var(--background-color)}.side-bar[_ngcontent-%COMP%]{grid-row:1 / span 2;grid-column:1;box-sizing:border-box;width:100%;height:100%;border-radius:10px}.main-chat[_ngcontent-%COMP%]{grid-row:1;grid-column:2;display:flex;flex-direction:column;justify-content:end;position:relative}.open-side-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:10px;display:none}.icon[_ngcontent-%COMP%]{cursor:pointer}.input[_ngcontent-%COMP%]{max-width:600px;width:100%;align-self:flex-end;justify-self:center;padding:0}app-input[_ngcontent-%COMP%]{width:100%}app-side-bar[_ngcontent-%COMP%]{width:100%;height:100%}.dark-icon[_ngcontent-%COMP%]{filter:invert(100%)}@media (max-width: 600px){.side-bar[_ngcontent-%COMP%]{display:none;max-width:400px}.open-side-bar[_ngcontent-%COMP%]{display:block}.main-chat[_ngcontent-%COMP%]{grid-row:1;grid-column:1 / span 2}.input[_ngcontent-%COMP%]{grid-row:2;grid-column:1 / span 2}.mobile-sidebar-open[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{display:block;grid-column:1 / span 2}.mobile-sidebar-open[_ngcontent-%COMP%]   .main-chat[_ngcontent-%COMP%], .mobile-sidebar-open[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:none}}@media (min-width: 600px) and (max-width: 1200px){.home-page[_ngcontent-%COMP%]{grid-template-columns:35% 65%}}"]});let t=e;return t})();var yy=(()=>{let e=class e{constructor(r){this.router=r}canActivate(){let r=sessionStorage.getItem("userEmail"),i=sessionStorage.getItem("userRole");return r&&i?!0:(this.router.navigate([""]),!1)}};e.\u0275fac=function(i){return new(i||e)(N(_e))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IM=[{path:"",component:RT},{path:"home-page",component:_y,canActivate:[yy]},{path:"home-page/:ConvId",component:_y,canActivate:[yy],children:[{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];var EM={firebase:{apiKey:"AIzaSyAcMiSuyx1QB7SZxY-_uD3_OP-Bv3JfjfA",authDomain:"quizpluschatbot.firebaseapp.com",projectId:"quizpluschatbot",storageBucket:"quizpluschatbot.appspot.com",messagingSenderId:"829903529416",appId:"1:829903529416:web:4f7bb7f9f8c4b1303f0cfd"},production:!1};var bM={providers:[Db(IM),T0(()=>M0(EM.firebase)),ED(()=>DD()),IT(()=>DT()),hM(()=>pM())]};var Bz=localStorage.getItem("theme")||fe.DARK;Bz===fe.DARK?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme");kE(Nb,bM).catch(t=>console.error(t));
